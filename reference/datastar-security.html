<!doctype html><html lang="en"><head><title>Security Reference</title><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="canonical" href="https://data-star.dev/reference/security"><link rel="stylesheet" href="/static/css/stellar-6a9f349320ba1454716709d478056c22a0760566a820d968c2d3ad614275ff88.css"><link rel="stylesheet" href="/static/css/site-10346120b813dff74cb4591ba36a1b0cab4d0eab72818afc154de52766a3f866.css"><link rel="stylesheet" href="/static/css/internal-a35edac18d97b7586b052b87eb93b3f66e875c410152d384d2580d3ad9f1e8fc.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Audiowide&family=Menlo&family=Inter&family=Silkscreen&display=swap"><link rel="icon" type="image/png" sizes="512x512" href="/cdn-cgi/image/format=auto/static/images/rocket-512x512-d36eedfbf7dd91899cc8a6b7906cafec20787b5e6b542f699b4358a67ab95a1d.png"><link rel="icon" type="image/png" sizes="48x48" href="/cdn-cgi/image/format=auto/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png"><link rel="icon" type="image/png" sizes="32x32" href="/cdn-cgi/image/format=auto/static/images/rocket-32x32-ed698adfdcbd311b92a315e16adb723ae34e8e67893ef819f6fae6fed4b41992.png"><meta charset="UTF-8"><meta property="og:title" content="Security Reference"><meta property="og:description" content=""><meta property="og:image" content="https://data-star.dev/static/images/rocket-social-preview-71d85961f7c66e6839a562e9980a4393f069c5956f5cee21853ba441c45a3634.png"><meta property="og:url" content="https://data-star.dev/"><meta property="og:type" content="website"><meta property="og:site_name" content="Datastar"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Security Reference"><meta name="twitter:description" content=""><meta name="twitter:image" content="https://data-star.dev/static/images/rocket-social-preview-71d85961f7c66e6839a562e9980a4393f069c5956f5cee21853ba441c45a3634.png"><script type="importmap">{"imports":{"datastar":"/static/js/datastar-pro-demo-d541dfa6bd8aed875e27fae0a5c33844495b17a1d12edbd22d20d6bdc2951dcc.js"}}</script> <script type="module" src="/static/js/datastar-pro-demo-d541dfa6bd8aed875e27fae0a5c33844495b17a1d12edbd22d20d6bdc2951dcc.js"></script><script src="https://analytics.putyourlightson.com/js/script.js" defer data-domain="data-star.dev"></script><script src="/static/lib/iconify-icon-758d94838db0cafdeb97eb0b54a120de36cfb3c7fe862eed989f37e80c550f02.min.js"></script><template data-rocket:copy-button 
          data-props:code="string|="
>
  <script>
    $$copied = false
  </script>
  <div class="copy-button-wrapper">
    <button class="copy-button small" title="Copy code"
            data-on:click="navigator.clipboard.writeText($$code); $$copied = true"
            data-on:click__delay.2s="$$copied = false">
      <iconify-icon noobserver
                    data-attr:icon="'pixelarticons:' + ($$copied ? 'section-copy' : 'copy')" />
    </button>
    <template data-if="$$copied">
      <span class="copy-popover">Copied!</span>
    </template>
  </div>
</template>
</head><body><header class="top" data-signals="{showSearch: false, showMore: false, sidebarOpen: false}"><nav><button class="hamburger small" data-on:click="$sidebarOpen = !$sidebarOpen" aria-label="Toggle navigation menu"><iconify-icon icon="pixelarticons:menu" noobserver=""></iconify-icon></button> <a href="/" class="home" title="Home"><img srcset="/cdn-cgi/image/format=auto,width=24/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png 1x, /cdn-cgi/image/format=auto,width=48/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png 2x" src="/cdn-cgi/image/format=auto,width=24/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png" alt="Datastar Logo" width="24" height="24" loading="eager"><span>Datastar </span></a></nav><nav><kbd data-on:click="$showSearch = true" data-on:keydown__window="(evt.ctrlKey || evt.metaKey) && evt.key == 'k' && ($showSearch = true) && evt.preventDefault()" title="Search" aria-label="Search"><iconify-icon icon="pixelarticons:search" noobserver=""></iconify-icon><span data-show="!/Mobi|Android|iPhone|iPad/i.test(navigator.userAgent)"><span data-text="navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : 'Ctrl'"></span>K</span></kbd><nav><a href="/guide">Guide</a> <a href="/reference" class="dropdownable small">Reference</a> <a href="/examples" class="dropdownable medium">Examples</a> <a href="/how_tos" class="dropdownable large">How-Tos</a> <a href="/datastar_pro" class="dropdownable medium highlighted">Pro</a><div data-class:open="$showMore" class="dropdown"><a data-on:click="$showMore = true" data-on:click__outside="$showMore = false">More</a><div class="content"><a href="/star_federation">About Us</a> <a href="/bundler">Bundler</a> <a href="/essays">Essays</a> <a href="/examples" class="dropdownable medium">Examples</a> <a href="/how_tos" class="dropdownable large">How-Tos</a> <a href="/datastar_pro" class="dropdownable medium highlighted">Pro</a> <a href="/reference" class="dropdownable small">Reference</a> <a href="/shop">Shop</a> <a href="/videos">Videos</a></div></div></nav><div class="socials"><a href="https://github.com/starfederation/datastar/" title="GitHub" target="_blank" rel="noopener noreferrer"><iconify-icon icon="simple-icons:github" noobserver=""></iconify-icon></a> <a href="https://discord.gg/bnRNgZjgPh" title="Discord" target="_blank" rel="noopener noreferrer"><iconify-icon icon="simple-icons:discord" noobserver=""></iconify-icon></a> <a href="https://www.youtube.com/@data-star" title="YouTube" target="_blank" rel="noopener noreferrer"><iconify-icon icon="simple-icons:youtube" noobserver=""></iconify-icon></a></div></nav><div id="search-modal" data-signals:search="" data-show="$showSearch" data-on:keydown__window="evt.key == 'Escape' && ($showSearch = false)" data-effect="$showSearch == true && (searchInput.focus(), searchInput.setSelectionRange(searchInput.value.length, searchInput.value.length))" style="display: none;"><div class="backdrop" data-on:click="$showSearch = false"></div><div class="modal"><label><iconify-icon icon="pixelarticons:search" noobserver=""></iconify-icon><input id="searchInput" type="search" data-bind:search data-indicator:searching data-on:input__debounce.300ms="$search.length == 0 ? searchResults.innerHTML = '' : @get('/search', {headers: {'X-Search-From-Header': 'true'}})" placeholder="Search..."><div data-class:loading="$searching" class="indicator"><img srcset="/cdn-cgi/image/format=auto,width=32/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif 1x, /cdn-cgi/image/format=auto,width=64/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif 2x" src="/cdn-cgi/image/format=auto,width=32/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif" alt="Indicator" width="32" height="32" loading=""></div></label><div id="searchResults"></div></div></div></header> <main><div class="sidebar-overlay" data-show="$sidebarOpen" data-on:click="$sidebarOpen = false" style="display: none"></div><aside data-class:open="$sidebarOpen"><div class="heading">Reference</div><div class="subheading">Usage reference for attributes, actions, SSE events, etc.</div><nav><div><a href="/reference/attributes" aria-selected="false">Attributes</a> </div><div><a href="/reference/actions" aria-selected="false">Actions</a> </div><div><a href="/reference/rocket" aria-selected="false">Rocket</a> </div><div><a href="/reference/sse_events" aria-selected="false">SSE Events</a> </div><div><a href="/reference/sdks" aria-selected="false">SDKs</a> </div><div><a href="/reference/security" aria-selected="true">Security</a> <div data-on:click="$sidebarOpen = false"><a href="#escape-user-input">Escape User Input</a><a href="#avoid-sensitive-data">Avoid Sensitive Data</a><a href="#ignore-unsafe-input">Ignore Unsafe Input</a><a href="#content-security-policy">Content Security Policy</a></div></div></nav></aside><article><nav><a href="/reference/sdks" class="button small">← Previous</a> <a></a></nav><h1>Security</h1><p><a href="/guide/datastar_expressions">Datastar expressions</a> are strings that are evaluated in a sandboxed context. This means you can use JavaScript in Datastar expressions.</p><h2 id="escape-user-input">Escape User Input <a href="#escape-user-input" class="anchor">#</a></h2><p>The golden rule of security is to never trust user input. This is especially true when using Datastar expressions, which can execute arbitrary JavaScript. When using Datastar expressions, you should always escape user input. This helps prevent, among other issues, Cross-Site Scripting (XSS) attacks.</p><h2 id="avoid-sensitive-data">Avoid Sensitive Data <a href="#avoid-sensitive-data" class="anchor">#</a></h2><p>Keep in mind that signal values are visible in the source code in plain text, and can be modified by the user before being sent in requests. For this reason, you should avoid leaking sensitive data in signals and always implement backend validation.</p><h2 id="ignore-unsafe-input">Ignore Unsafe Input <a href="#ignore-unsafe-input" class="anchor">#</a></h2><p>If, for some reason, you cannot escape unsafe user input, you should ignore it using the <a href="/reference/attributes#data-ignore"><code>data-ignore</code></a> attribute. This tells Datastar to ignore an element and its descendants when processing DOM nodes.</p><h2 id="content-security-policy">Content Security Policy <a href="#content-security-policy" class="anchor">#</a></h2><p>When using a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank" rel="noopener noreferrer">Content Security Policy</a> (CSP), <code>unsafe-eval</code> must be allowed for scripts, since Datastar evaluates expressions using a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function" target="_blank" rel="noopener noreferrer"><code>Function()</code> constructor</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;meta http-equiv=&#34;Content-Security-Policy&#34; 
    content=&#34;script-src &#39;self&#39; &#39;unsafe-eval&#39;;&#34;
&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73fecb6ead07fcea_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#73fecb6ead07fcea_line_1">1</a></span><span>&lt;<span style="color:#7ee787">meta</span> http-equiv<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;Content-Security-Policy&#34;</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73fecb6ead07fcea_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#73fecb6ead07fcea_line_2">2</a></span><span>    content<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;script-src &#39;self&#39; &#39;unsafe-eval&#39;;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73fecb6ead07fcea_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#73fecb6ead07fcea_line_3">3</a></span><span>&gt;</span></span></code></pre></div></div><nav><a href="/reference/sdks" class="button small">← Previous</a> <a></a></nav></article></main><footer class="internal"><div>&copy; <a href="/star_federation">Star Federation</a></div><div>Hosted by <a href="https://www.arcustech.com/" target="_blank" rel="noopener noreferrer">Arcustech</a></div></footer></body></html>