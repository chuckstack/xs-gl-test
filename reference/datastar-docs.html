<!doctype html><html lang="en"><head><title>Docs</title><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="canonical" href="https://data-star.dev/docs"><link rel="stylesheet" href="/static/css/stellar-6a9f349320ba1454716709d478056c22a0760566a820d968c2d3ad614275ff88.css"><link rel="stylesheet" href="/static/css/site-10346120b813dff74cb4591ba36a1b0cab4d0eab72818afc154de52766a3f866.css"><link rel="stylesheet" href="/static/css/internal-a35edac18d97b7586b052b87eb93b3f66e875c410152d384d2580d3ad9f1e8fc.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Audiowide&family=Menlo&family=Inter&family=Silkscreen&display=swap"><link rel="icon" type="image/png" sizes="512x512" href="/cdn-cgi/image/format=auto/static/images/rocket-512x512-d36eedfbf7dd91899cc8a6b7906cafec20787b5e6b542f699b4358a67ab95a1d.png"><link rel="icon" type="image/png" sizes="48x48" href="/cdn-cgi/image/format=auto/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png"><link rel="icon" type="image/png" sizes="32x32" href="/cdn-cgi/image/format=auto/static/images/rocket-32x32-ed698adfdcbd311b92a315e16adb723ae34e8e67893ef819f6fae6fed4b41992.png"><meta charset="UTF-8"><meta property="og:title" content="Docs"><meta property="og:description" content=""><meta property="og:image" content="https://data-star.dev/static/images/rocket-social-preview-71d85961f7c66e6839a562e9980a4393f069c5956f5cee21853ba441c45a3634.png"><meta property="og:url" content="https://data-star.dev/"><meta property="og:type" content="website"><meta property="og:site_name" content="Datastar"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Docs"><meta name="twitter:description" content=""><meta name="twitter:image" content="https://data-star.dev/static/images/rocket-social-preview-71d85961f7c66e6839a562e9980a4393f069c5956f5cee21853ba441c45a3634.png"><meta name="robots" content="noindex, follow"><script type="importmap">{"imports":{"datastar":"/static/js/datastar-pro-demo-d541dfa6bd8aed875e27fae0a5c33844495b17a1d12edbd22d20d6bdc2951dcc.js"}}</script> <script type="module" src="/static/js/datastar-pro-demo-d541dfa6bd8aed875e27fae0a5c33844495b17a1d12edbd22d20d6bdc2951dcc.js"></script><script src="https://analytics.putyourlightson.com/js/script.js" defer data-domain="data-star.dev"></script><script src="/static/lib/iconify-icon-758d94838db0cafdeb97eb0b54a120de36cfb3c7fe862eed989f37e80c550f02.min.js"></script><template data-rocket:copy-button 
          data-props:code="string|="
>
  <script>
    $$copied = false
  </script>
  <div class="copy-button-wrapper">
    <button class="copy-button small" title="Copy code"
            data-on:click="navigator.clipboard.writeText($$code); $$copied = true"
            data-on:click__delay.2s="$$copied = false">
      <iconify-icon noobserver
                    data-attr:icon="'pixelarticons:' + ($$copied ? 'section-copy' : 'copy')" />
    </button>
    <template data-if="$$copied">
      <span class="copy-popover">Copied!</span>
    </template>
  </div>
</template>
</head><body><header class="top" data-signals="{showSearch: false, showMore: false, sidebarOpen: false}"><nav><button class="hamburger small" data-on:click="$sidebarOpen = !$sidebarOpen" aria-label="Toggle navigation menu"><iconify-icon icon="pixelarticons:menu" noobserver=""></iconify-icon></button> <a href="/" class="home" title="Home"><img srcset="/cdn-cgi/image/format=auto,width=24/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png 1x, /cdn-cgi/image/format=auto,width=48/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png 2x" src="/cdn-cgi/image/format=auto,width=24/static/images/rocket-48x48-4c739bfaffe86a6ffcc3a6d77e3c5547730f03d74c11aa460209596d1811f7a3.png" alt="Datastar Logo" width="24" height="24" loading="eager"><span>Datastar </span></a></nav><nav><kbd data-on:click="$showSearch = true" data-on:keydown__window="(evt.ctrlKey || evt.metaKey) && evt.key == 'k' && ($showSearch = true) && evt.preventDefault()" title="Search" aria-label="Search"><iconify-icon icon="pixelarticons:search" noobserver=""></iconify-icon><span data-show="!/Mobi|Android|iPhone|iPad/i.test(navigator.userAgent)"><span data-text="navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : 'Ctrl'"></span>K</span></kbd><nav><a href="/guide">Guide</a> <a href="/reference" class="dropdownable small">Reference</a> <a href="/examples" class="dropdownable medium">Examples</a> <a href="/how_tos" class="dropdownable large">How-Tos</a> <a href="/datastar_pro" class="dropdownable medium highlighted">Pro</a><div data-class:open="$showMore" class="dropdown"><a data-on:click="$showMore = true" data-on:click__outside="$showMore = false">More</a><div class="content"><a href="/star_federation">About Us</a> <a href="/bundler">Bundler</a> <a href="/essays">Essays</a> <a href="/examples" class="dropdownable medium">Examples</a> <a href="/how_tos" class="dropdownable large">How-Tos</a> <a href="/datastar_pro" class="dropdownable medium highlighted">Pro</a> <a href="/reference" class="dropdownable small">Reference</a> <a href="/shop">Shop</a> <a href="/videos">Videos</a></div></div></nav><div class="socials"><a href="https://github.com/starfederation/datastar/" title="GitHub" target="_blank" rel="noopener noreferrer"><iconify-icon icon="simple-icons:github" noobserver=""></iconify-icon></a> <a href="https://discord.gg/bnRNgZjgPh" title="Discord" target="_blank" rel="noopener noreferrer"><iconify-icon icon="simple-icons:discord" noobserver=""></iconify-icon></a> <a href="https://www.youtube.com/@data-star" title="YouTube" target="_blank" rel="noopener noreferrer"><iconify-icon icon="simple-icons:youtube" noobserver=""></iconify-icon></a></div></nav><div id="search-modal" data-signals:search="" data-show="$showSearch" data-on:keydown__window="evt.key == 'Escape' && ($showSearch = false)" data-effect="$showSearch == true && (searchInput.focus(), searchInput.setSelectionRange(searchInput.value.length, searchInput.value.length))" style="display: none;"><div class="backdrop" data-on:click="$showSearch = false"></div><div class="modal"><label><iconify-icon icon="pixelarticons:search" noobserver=""></iconify-icon><input id="searchInput" type="search" data-bind:search data-indicator:searching data-on:input__debounce.300ms="$search.length == 0 ? searchResults.innerHTML = '' : @get('/search', {headers: {'X-Search-From-Header': 'true'}})" placeholder="Search..."><div data-class:loading="$searching" class="indicator"><img srcset="/cdn-cgi/image/format=auto,width=32/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif 1x, /cdn-cgi/image/format=auto,width=64/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif 2x" src="/cdn-cgi/image/format=auto,width=32/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif" alt="Indicator" width="32" height="32" loading=""></div></label><div id="searchResults"></div></div></div></header> <main><div class="sidebar-overlay" data-show="$sidebarOpen" data-on:click="$sidebarOpen = false" style="display: none"></div><aside data-class:open="$sidebarOpen"><div class="heading">Docs</div><div class="subheading">All documentation on a single page for offline reading and LLM ingestion.</div><nav><div><a href="#guide">Guide</a><div><a href="#getting_started">Getting Started</a><a href="#reactive_signals">Reactive Signals</a><a href="#datastar_expressions">Datastar Expressions</a><a href="#backend_requests">Backend Requests</a><a href="#the_tao_of_datastar">The Tao of Datastar</a></div><a href="#reference">Reference</a><div><a href="#attributes">Attributes</a><a href="#actions">Actions</a><a href="#rocket">Rocket</a><a href="#sse_events">SSE Events</a><a href="#sdks">SDKs</a><a href="#security">Security</a></div></div></nav></aside><article><nav></nav><h1 id="guide">Guide</h1><h1 id="getting_started">Getting Started</h1><p>Datastar simplifies frontend development, allowing you to build backend-driven, interactive UIs using a <a href="https://hypermedia.systems/hypermedia-a-reintroduction/" target="_blank" rel="noopener noreferrer">hypermedia-first</a> approach that extends and enhances HTML.</p><p>Datastar provides backend reactivity like <a href="https://htmx.org/" target="_blank" rel="noopener noreferrer">htmx</a> and frontend reactivity like <a href="https://alpinejs.dev/" target="_blank" rel="noopener noreferrer">Alpine.js</a> in a lightweight frontend framework that doesn’t require any npm packages or other dependencies. It provides two primary functions:</p><ol><li>Modify the DOM and state by sending events from your backend.</li><li>Build reactivity into your frontend using standard <code>data-*</code> HTML attributes.</li></ol><blockquote>Other useful resources include an AI-generated <a href="https://deepwiki.com/starfederation/datastar" target="_blank" rel="noopener noreferrer">deep wiki</a>, LLM-ingestible <a href="https://context7.com/websites/data-star_dev" target="_blank" rel="noopener noreferrer">code samples</a>, and <a href="/docs">single-page docs</a>.</blockquote><h2 id="installation">Installation <a href="#installation" class="anchor">#</a></h2><p>The quickest way to use Datastar is to include it using a <code>script</code> tag that fetches it from a CDN.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;script type=&#34;module&#34; src=&#34;https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-RC.7/bundles/datastar.js&#34;&gt;&lt;/script&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d569c48f705da558_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#d569c48f705da558_line_1">1</a></span><span>&lt;<span style="color:#7ee787">script</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;module&#34;</span> src<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;https://cdn.jsdelivr.net/gh/starfederation/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f3f6e3f6e4e3f6e5d7a6b9a7b9a7bac5d4b9a0">[email&#160;protected]</a>/bundles/datastar.js&#34;</span>&gt;&lt;/<span style="color:#7ee787">script</span>&gt;</span></span></code></pre></div></div><p>If you prefer to host the file yourself, download the <a href="https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-RC.7/bundles/datastar.js" target="_blank" rel="noopener noreferrer">script</a> or create your own bundle using the <a href="/bundler">bundler</a>, then include it from the appropriate path.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;script type=&#34;module&#34; src=&#34;/path/to/datastar.js&#34;&gt;&lt;/script&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8848b9c5fd2a71da_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8848b9c5fd2a71da_line_1">1</a></span><span>&lt;<span style="color:#7ee787">script</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;module&#34;</span> src<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;/path/to/datastar.js&#34;</span>&gt;&lt;/<span style="color:#7ee787">script</span>&gt;</span></span></code></pre></div></div><p>To import Datastar using a package manager such as npm, Deno, or Bun, you can use an import statement.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="// @ts-expect-error (only required for TypeScript projects)
import &#39;https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-RC.7/bundles/datastar.js&#39;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="193f949d5888e6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#193f949d5888e6_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">// @ts-expect-error (only required for TypeScript projects)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="193f949d5888e6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#193f949d5888e6_line_2">2</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#ff7b72">import</span> <span style="color:#a5d6ff">&#39;https://cdn.jsdelivr.net/gh/starfederation/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4e2a2f3a2f3d3a2f3c0e7f607e607e631c0d6079">[email&#160;protected]</a>/bundles/datastar.js&#39;</span></span></span></code></pre></div></div><h2 id="data-*"><code>data-*</code> <a href="#data-*" class="anchor">#</a></h2><p>At the core of Datastar are <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/How_to/Use_data_attributes" target="_blank" rel="noopener noreferrer">data-*</a></code> HTML attributes (hence the name). They allow you to add reactivity to your frontend and interact with your backend in a declarative way.</p><blockquote>The Datastar <a href="https://marketplace.visualstudio.com/items?itemName=starfederation.datastar-vscode" target="_blank" rel="noopener noreferrer">VSCode extension</a> and <a href="https://plugins.jetbrains.com/plugin/26072-datastar-support" target="_blank" rel="noopener noreferrer">IntelliJ plugin</a> provide autocompletion for all available <code>data-*</code> attributes.</blockquote><p>The <a href="/reference/attributes#data-on"><code>data-on</code></a> attribute can be used to attach an event listener to an element and execute an expression whenever the event is triggered. The value of the attribute is a <a href="/guide/datastar_expressions">Datastar expression</a> in which JavaScript can be used.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;alert(&#39;I’m sorry, Dave. I’m afraid I can’t do that.&#39;)&#34;&gt;
    Open the pod bay doors, HAL.
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c644c56966a86293_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c644c56966a86293_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;alert(&#39;I’m sorry, Dave. I’m afraid I can’t do that.&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c644c56966a86293_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#c644c56966a86293_line_2">2</a></span><span>    Open the pod bay doors, HAL.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c644c56966a86293_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#c644c56966a86293_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><button data-on:click="alert(`I’m sorry, Dave. I’m afraid I can’t do that.`)" class="warning large">Open the pod bay doors, HAL. </button></div></fieldset><p>We’ll explore more data attributes in the <a href="/guide/reactive_signals">next section of the guide</a>.</p><h2 id="patching-elements">Patching Elements <a href="#patching-elements" class="anchor">#</a></h2><p>With Datastar, the backend <em>drives</em> the frontend by <strong>patching</strong> (adding, updating and removing) HTML elements in the DOM.</p><p>Datastar receives elements from the backend and manipulates the DOM using a morphing strategy (by default). Morphing ensures that only modified parts of the DOM are updated, preserving state and improving performance.</p><p>Datastar provides <a href="/reference/actions#backend-actions">actions</a> for sending requests to the backend. The <a href="/reference/actions#get"><code>&#64;get()</code></a> action sends a <code>GET</code> request to the provided URL using a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a> request.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;)&#34;&gt;
    Open the pod bay doors, HAL.
&lt;/button&gt;
&lt;div id=&#34;hal&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b8e2bcf7cfb08d88_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b8e2bcf7cfb08d88_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b8e2bcf7cfb08d88_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#b8e2bcf7cfb08d88_line_2">2</a></span><span>    Open the pod bay doors, HAL.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b8e2bcf7cfb08d88_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#b8e2bcf7cfb08d88_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b8e2bcf7cfb08d88_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#b8e2bcf7cfb08d88_line_4">4</a></span><span>&lt;<span style="color:#7ee787">div</span> id<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;hal&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><blockquote>Actions in Datastar are helper functions that have the syntax <code>&#64;actionName()</code>. Read more about actions in the <a href="/reference/actions">reference</a>.</blockquote><p>If the response has a <code>content-type</code> of <code>text/html</code>, the top-level HTML elements will be morphed into the existing DOM based on the element IDs. </p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div id=&#34;hal&#34;&gt;
    I’m sorry, Dave. I’m afraid I can’t do that.
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9906775380944c63_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#9906775380944c63_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> id<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;hal&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9906775380944c63_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#9906775380944c63_line_2">2</a></span><span>    I’m sorry, Dave. I’m afraid I can’t do that.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9906775380944c63_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#9906775380944c63_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>We call this a “Patch Elements” event because multiple elements can be patched into the DOM at once.</p><fieldset class="demo"><legend>Demo</legend><div><button data-on:click="@get('/guide/getting_started/open_the_bay_doors_html')" class="warning large">Open the pod bay doors, HAL. </button><code id="hal_html">Waiting for an order...</code> <div id="hal_html_reset"></div></div></fieldset><p>In the example above, the DOM must contain an element with a <code>hal</code> ID in order for morphing to work. Other <a href="/reference/sse_events#datastar-patch-elements">patching strategies</a> are available, but morph is the best and simplest choice in most scenarios.</p><p>If the response has a <code>content-type</code> of <code>text/event-stream</code>, it can contain zero or more <a href="/reference/sse_events">SSE events</a>. The example above can be replicated using a <code>datastar-patch-elements</code> SSE event.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: elements &lt;div id=&#34;hal&#34;&gt;
data: elements     I’m sorry, Dave. I’m afraid I can’t do that.
data: elements &lt;/div&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="54fdfa565852f964_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#54fdfa565852f964_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="54fdfa565852f964_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#54fdfa565852f964_line_2">2</a></span><span>data: elements &lt;div id=&#34;hal&#34;&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="54fdfa565852f964_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#54fdfa565852f964_line_3">3</a></span><span>data: elements     I’m sorry, Dave. I’m afraid I can’t do that.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="54fdfa565852f964_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#54fdfa565852f964_line_4">4</a></span><span>data: elements &lt;/div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="54fdfa565852f964_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#54fdfa565852f964_line_5">5</a></span><span>
</span></span></code></pre></div></div><p>Because we can send as many events as we want in a stream, and because it can be a long-lived connection, we can extend the example above to first send HAL’s response and then, after a few seconds, reset the text.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: elements &lt;div id=&#34;hal&#34;&gt;
data: elements     I’m sorry, Dave. I’m afraid I can’t do that.
data: elements &lt;/div&gt;

event: datastar-patch-elements
data: elements &lt;div id=&#34;hal&#34;&gt;
data: elements     Waiting for an order...
data: elements &lt;/div&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_1"> 1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_2"> 2</a></span><span>data: elements &lt;div id=&#34;hal&#34;&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_3"> 3</a></span><span>data: elements     I’m sorry, Dave. I’m afraid I can’t do that.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_4"> 4</a></span><span>data: elements &lt;/div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_6"> 6</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_7"> 7</a></span><span>data: elements &lt;div id=&#34;hal&#34;&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_8"> 8</a></span><span>data: elements     Waiting for an order...
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_9"> 9</a></span><span>data: elements &lt;/div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="75425fcee443f5f8_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#75425fcee443f5f8_line_10">10</a></span><span>
</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><button data-on:click="@get('/guide/getting_started/open_the_bay_doors_sse')" class="warning large">Open the pod bay doors, HAL. </button><code id="hal_sse">Waiting for an order...</code></div></fieldset><p>Here’s the code to generate the SSE events above using the SDKs.</p><div class="code-switcher" data-signals:lang__ifmissing="'go'" data-persist="{include: /^lang$/}"><div class="icons"><button data-on:click="$lang = &#39;clojure&#39;" data-attr:aria-selected="`${$lang === &#39;clojure&#39;}`" title="Clojure"><iconify-icon icon="vscode-icons:file-type-clojure" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;csharp&#39;" data-attr:aria-selected="`${$lang === &#39;csharp&#39;}`" title="C#"><iconify-icon icon="vscode-icons:file-type-csharp2" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;go&#39;" data-attr:aria-selected="`${$lang === &#39;go&#39;}`" title="Go"><iconify-icon icon="vscode-icons:file-type-go" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;java&#39;" data-attr:aria-selected="`${$lang === &#39;java&#39;}`" title="Java"><iconify-icon icon="vscode-icons:file-type-java" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;kotlin&#39;" data-attr:aria-selected="`${$lang === &#39;kotlin&#39;}`" title="Kotlin"><iconify-icon icon="vscode-icons:file-type-kotlin" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;php&#39;" data-attr:aria-selected="`${$lang === &#39;php&#39;}`" title="PHP"><iconify-icon icon="vscode-icons:file-type-php3" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;python&#39;" data-attr:aria-selected="`${$lang === &#39;python&#39;}`" title="Python"><iconify-icon icon="vscode-icons:file-type-python" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;ruby&#39;" data-attr:aria-selected="`${$lang === &#39;ruby&#39;}`" title="Ruby"><iconify-icon icon="vscode-icons:file-type-ruby" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;rust&#39;" data-attr:aria-selected="`${$lang === &#39;rust&#39;}`" title="Rust"><iconify-icon icon="vscode-icons:file-type-rust" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;typescript&#39;" data-attr:aria-selected="`${$lang === &#39;typescript&#39;}`" title="TypeScript"><iconify-icon icon="vscode-icons:file-type-typescript-official" noobserver=""></iconify-icon></button></div><div class="snippets"><div data-show="$lang === &#39;clojure&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code=";; Import the SDK&#39;s api and your adapter
(require
 &#39;[starfederation.datastar.clojure.api :as d*]
 &#39;[starfederation.datastar.clojure.adapter.http-kit :refer [-&gt;sse-response on-open]])

;; in a ring handler
(defn handler [request]
  ;; Create an SSE response
  (-&gt;sse-response request
                  {on-open
                   (fn [sse]
                     ;; Patches elements into the DOM
                     (d*/patch-elements! sse
                                         &#34;&lt;div id=\&#34;hal\&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;)
                     (Thread/sleep 1000)
                     (d*/patch-elements! sse
                                         &#34;&lt;div id=\&#34;hal\&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;))}))"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">;; Import the SDK&#39;s api and your adapter</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_2"> 2</a></span><span>(<span style="color:#d2a8ff;font-weight:bold">require</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_3"> 3</a></span><span> <span style="color:#ff7b72;font-weight:bold">&#39;</span>[<span style="color:#79c0ff">starfederation.datastar.clojure.api</span> <span style="color:#a5d6ff">:as</span> <span style="color:#79c0ff">d*</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_4"> 4</a></span><span> <span style="color:#ff7b72;font-weight:bold">&#39;</span>[<span style="color:#79c0ff">starfederation.datastar.clojure.adapter.http-kit</span> <span style="color:#a5d6ff">:refer</span> [<span style="color:#79c0ff">-&gt;sse-response</span> <span style="color:#79c0ff">on-open</span>]])
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">;; in a ring handler</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_7"> 7</a></span><span>(<span style="color:#ff7b72">defn </span><span style="color:#79c0ff">handler</span> [<span style="color:#79c0ff">request</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_8"> 8</a></span><span>  <span style="color:#8b949e;font-style:italic">;; Create an SSE response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_9"> 9</a></span><span>  (<span style="color:#d2a8ff;font-weight:bold">-&gt;sse-response</span> <span style="color:#79c0ff">request</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_10">10</a></span><span>                  {<span style="color:#79c0ff">on-open</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_11">11</a></span><span>                   (<span style="color:#ff7b72">fn </span>[<span style="color:#79c0ff">sse</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_12">12</a></span><span>                     <span style="color:#8b949e;font-style:italic">;; Patches elements into the DOM</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_13">13</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">d*/patch-elements!</span> <span style="color:#79c0ff">sse</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_14">14</a></span><span>                                         <span style="color:#a5d6ff">&#34;&lt;div id=\&#34;hal\&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_15">15</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">Thread/sleep</span> <span style="color:#a5d6ff">1000</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_16">16</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">d*/patch-elements!</span> <span style="color:#79c0ff">sse</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9a2ca1e5256b094d_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#9a2ca1e5256b094d_line_17">17</a></span><span>                                         <span style="color:#a5d6ff">&#34;&lt;div id=\&#34;hal\&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;</span>))}))</span></span></code></pre></div></div></div><div data-show="$lang === &#39;csharp&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="using StarFederation.Datastar.DependencyInjection;

// Adds Datastar as a service
builder.Services.AddDatastar();

app.MapGet(&#34;/&#34;, async (IDatastarService datastarService) =&gt;
{
    // Patches elements into the DOM.
    await datastarService.PatchElementsAsync(@&#34;&lt;div id=&#34;&#34;hal&#34;&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;);

    await Task.Delay(TimeSpan.FromSeconds(1));

    await datastarService.PatchElementsAsync(@&#34;&lt;div id=&#34;&#34;hal&#34;&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;);
});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_1"> 1</a></span><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">StarFederation.Datastar.DependencyInjection</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic">// Adds Datastar as a service</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_4"> 4</a></span><span>builder.Services.AddDatastar();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_6"> 6</a></span><span>app.MapGet(<span style="color:#a5d6ff">&#34;/&#34;</span>, <span style="color:#ff7b72">async</span> (IDatastarService datastarService) =&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_7"> 7</a></span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_8"> 8</a></span><span>    <span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_9"> 9</a></span><span>    <span style="color:#ff7b72">await</span> datastarService.PatchElementsAsync(<span style="color:#a5d6ff">@&#34;&lt;div id=&#34;&#34;hal&#34;&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_11">11</a></span><span>    <span style="color:#ff7b72">await</span> Task.Delay(TimeSpan.FromSeconds(<span style="color:#a5d6ff">1</span>));
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_12">12</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_13">13</a></span><span>    <span style="color:#ff7b72">await</span> datastarService.PatchElementsAsync(<span style="color:#a5d6ff">@&#34;&lt;div id=&#34;&#34;hal&#34;&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f44629edb0ee8e24_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#f44629edb0ee8e24_line_14">14</a></span><span>});</span></span></code></pre></div></div></div><div data-show="$lang === &#39;go&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="import (
    &#34;github.com/starfederation/datastar-go/datastar&#34;
    time
)

// Creates a new `ServerSentEventGenerator` instance.
sse := datastar.NewSSE(w,r)

// Patches elements into the DOM.
sse.PatchElements(
    `&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;`
)

time.Sleep(1 * time.Second)

sse.PatchElements(
    `&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;`
)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_1"> 1</a></span><span><span style="color:#ff7b72">import</span><span style="color:#6e7681"> </span>(<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_2"> 2</a></span><span><span style="color:#6e7681">    </span><span style="color:#a5d6ff">&#34;github.com/starfederation/datastar-go/datastar&#34;</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_3"> 3</a></span><span><span style="color:#6e7681">    </span>time<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_4"> 4</a></span><span><span style="color:#6e7681"></span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_5"> 5</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_6"> 6</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_7"> 7</a></span><span><span style="color:#6e7681"></span>sse<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">:=</span><span style="color:#6e7681"> </span>datastar.<span style="color:#d2a8ff;font-weight:bold">NewSSE</span>(w,r)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_8"> 8</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_9"> 9</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_10">10</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchElements</span>(<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_11">11</a></span><span><span style="color:#6e7681">    </span><span style="color:#a5d6ff">`&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;`</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_12">12</a></span><span><span style="color:#6e7681"></span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_13">13</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_14">14</a></span><span><span style="color:#6e7681"></span>time.<span style="color:#d2a8ff;font-weight:bold">Sleep</span>(<span style="color:#a5d6ff">1</span><span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">*</span><span style="color:#6e7681"> </span>time.Second)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_15">15</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_16">16</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchElements</span>(<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_17">17</a></span><span><span style="color:#6e7681">    </span><span style="color:#a5d6ff">`&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;`</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12da9ecc5eb6c0ce_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#12da9ecc5eb6c0ce_line_18">18</a></span><span><span style="color:#6e7681"></span>)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;java&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="import starfederation.datastar.utils.ServerSentEventGenerator;

// Creates a new `ServerSentEventGenerator` instance.
AbstractResponseAdapter responseAdapter = new HttpServletResponseAdapter(response);
ServerSentEventGenerator generator = new ServerSentEventGenerator(responseAdapter);

// Patches elements into the DOM.
generator.send(PatchElements.builder()
    .data(&#34;&lt;div id=\&#34;hal\&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;)
    .build()
);

Thread.sleep(1000);

generator.send(PatchElements.builder()
    .data(&#34;&lt;div id=\&#34;hal\&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;)
    .build()
);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_1"> 1</a></span><span><span style="color:#ff7b72">import</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">starfederation.datastar.utils.ServerSentEventGenerator</span>;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_2"> 2</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_3"> 3</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_4"> 4</a></span><span><span style="color:#6e7681"></span>AbstractResponseAdapter<span style="color:#6e7681"> </span>responseAdapter<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">new</span><span style="color:#6e7681"> </span>HttpServletResponseAdapter(response);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_5"> 5</a></span><span><span style="color:#6e7681"></span>ServerSentEventGenerator<span style="color:#6e7681"> </span>generator<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">new</span><span style="color:#6e7681"> </span>ServerSentEventGenerator(responseAdapter);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_6"> 6</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_7"> 7</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_8"> 8</a></span><span><span style="color:#6e7681"></span>generator.send(PatchElements.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_9"> 9</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;&lt;div id=\&#34;hal\&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_10">10</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_11">11</a></span><span><span style="color:#6e7681"></span>);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_12">12</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_13">13</a></span><span><span style="color:#6e7681"></span>Thread.sleep(1000);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_14">14</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_15">15</a></span><span><span style="color:#6e7681"></span>generator.send(PatchElements.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_16">16</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;&lt;div id=\&#34;hal\&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_17">17</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ec0a8b6cb3b2f9f2_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#ec0a8b6cb3b2f9f2_line_18">18</a></span><span><span style="color:#6e7681"></span>);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;kotlin&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="val generator = ServerSentEventGenerator(response)

generator.patchElements(
    elements = &#34;&#34;&#34;&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;&#34;&#34;,
)

Thread.sleep(ONE_SECOND)

generator.patchElements(
    elements = &#34;&#34;&#34;&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;&#34;&#34;,
)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_1"> 1</a></span><span><span style="color:#ff7b72">val</span> <span style="color:#79c0ff">generator</span> = ServerSentEventGenerator(response)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_3"> 3</a></span><span>generator.patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_4"> 4</a></span><span>    elements = <span style="color:#a5d6ff">&#34;&#34;&#34;&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_5"> 5</a></span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_6"> 6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_7"> 7</a></span><span><span style="color:#f0883e;font-weight:bold">Thread</span>.sleep(ONE_SECOND)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_8"> 8</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_9"> 9</a></span><span>generator.patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_10">10</a></span><span>    elements = <span style="color:#a5d6ff">&#34;&#34;&#34;&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3e018490b34e95c_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#f3e018490b34e95c_line_11">11</a></span><span>)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;php&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="use starfederation\datastar\ServerSentEventGenerator;

// Creates a new `ServerSentEventGenerator` instance.
$sse = new ServerSentEventGenerator();

// Patches elements into the DOM.
$sse-&gt;patchElements(
    &#39;&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#39;
);

sleep(1);

$sse-&gt;patchElements(
    &#39;&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;&#39;
);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_1"> 1</a></span><span><span style="color:#ff7b72">use</span> starfederation\datastar\ServerSentEventGenerator;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_4"> 4</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$sse</span> <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">new</span> ServerSentEventGenerator();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_7"> 7</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_8"> 8</a></span><span>    <span style="color:#a5d6ff">&#39;&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_9"> 9</a></span><span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_11">11</a></span><span>sleep(<span style="color:#a5d6ff">1</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_12">12</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_13">13</a></span><span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_14">14</a></span><span>    <span style="color:#a5d6ff">&#39;&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bba6804d8105c490_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#bba6804d8105c490_line_15">15</a></span><span>);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;python&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="from datastar_py import ServerSentEventGenerator as SSE
from datastar_py.sanic import datastar_response

@app.get(&#39;/open-the-bay-doors&#39;)
@datastar_response
async def open_doors(request):
    yield SSE.patch_elements(&#39;&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#39;)
    await asyncio.sleep(1)
    yield SSE.patch_elements(&#39;&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;&#39;)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_1">1</a></span><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">datastar_py</span> <span style="color:#ff7b72">import</span> ServerSentEventGenerator <span style="color:#ff7b72">as</span> SSE
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_2">2</a></span><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">datastar_py.sanic</span> <span style="color:#ff7b72">import</span> datastar_response
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_4">4</a></span><span><span style="color:#d2a8ff;font-weight:bold">@app.get</span>(<span style="color:#a5d6ff">&#39;/open-the-bay-doors&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_5">5</a></span><span><span style="color:#d2a8ff;font-weight:bold">@datastar_response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_6">6</a></span><span><span style="color:#ff7b72">async</span> <span style="color:#ff7b72">def</span> <span style="color:#d2a8ff;font-weight:bold">open_doors</span>(request):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_7">7</a></span><span>    <span style="color:#ff7b72">yield</span> SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_8">8</a></span><span>    <span style="color:#ff7b72">await</span> asyncio<span style="color:#ff7b72;font-weight:bold">.</span>sleep(<span style="color:#a5d6ff">1</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8ee75b6fa5b62c6_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#8ee75b6fa5b62c6_line_9">9</a></span><span>    <span style="color:#ff7b72">yield</span> SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;&#39;</span>)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;ruby&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="require &#39;datastar&#39;

# Create a Datastar::Dispatcher instance

datastar = Datastar.new(request:, response:)

# In a Rack handler, you can instantiate from the Rack env
# datastar = Datastar.from_rack_env(env)

# Start a streaming response
datastar.stream do |sse|
  # Patches elements into the DOM.
  sse.patch_elements %(&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;)

  sleep 1
  
  sse.patch_elements %(&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;)
end"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_1"> 1</a></span><span>require <span style="color:#a5d6ff">&#39;datastar&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic"># Create a Datastar::Dispatcher instance</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_4"> 4</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_5"> 5</a></span><span>datastar <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff;font-weight:bold">Datastar</span><span style="color:#ff7b72;font-weight:bold">.</span>new(<span style="color:#a5d6ff">request</span>:, <span style="color:#a5d6ff">response</span>:)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_6"> 6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_7"> 7</a></span><span><span style="color:#8b949e;font-style:italic"># In a Rack handler, you can instantiate from the Rack env</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_8"> 8</a></span><span><span style="color:#8b949e;font-style:italic"># datastar = Datastar.from_rack_env(env)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_9"> 9</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_10">10</a></span><span><span style="color:#8b949e;font-style:italic"># Start a streaming response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_11">11</a></span><span>datastar<span style="color:#ff7b72;font-weight:bold">.</span>stream <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>sse<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_12">12</a></span><span>  <span style="color:#8b949e;font-style:italic"># Patches elements into the DOM.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_13">13</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements <span style="color:#a5d6ff">%(&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_14">14</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_15">15</a></span><span>  sleep <span style="color:#a5d6ff">1</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_16">16</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_17">17</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements <span style="color:#a5d6ff">%(&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="67f62b7db54d2b98_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#67f62b7db54d2b98_line_18">18</a></span><span><span style="color:#ff7b72">end</span></span></span></code></pre></div></div></div><div data-show="$lang === &#39;rust&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="use async_stream::stream;
use datastar::prelude::*;
use std::thread;
use std::time::Duration;

Sse(stream! {
    // Patches elements into the DOM.
    yield PatchElements::new(&#34;&lt;div id=&#39;hal&#39;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;).into();

    thread::sleep(Duration::from_secs(1));
    
    yield PatchElements::new(&#34;&lt;div id=&#39;hal&#39;&gt;Waiting for an order...&lt;/div&gt;&#34;).into();
})"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_1"> 1</a></span><span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>async_stream::stream;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_2"> 2</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>datastar::prelude::<span style="color:#ff7b72;font-weight:bold">*</span>;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_3"> 3</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>std::thread;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_4"> 4</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>std::time::Duration;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_5"> 5</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_6"> 6</a></span><span><span style="color:#6e7681"></span>Sse(<span style="color:#d2a8ff;font-weight:bold">stream!</span><span style="color:#6e7681"> </span>{<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_7"> 7</a></span><span><span style="color:#6e7681">    </span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_8"> 8</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#6e7681">    </span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchElements::new(<span style="color:#a5d6ff">&#34;&lt;div id=&#39;hal&#39;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;&#34;</span>).into();<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_9"> 9</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_10">10</a></span><span><span style="color:#6e7681">    </span>thread::sleep(Duration::from_secs(<span style="color:#a5d6ff">1</span>));<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_11">11</a></span><span><span style="color:#6e7681">    
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_12">12</a></span><span><span style="color:#6e7681">    </span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchElements::new(<span style="color:#a5d6ff">&#34;&lt;div id=&#39;hal&#39;&gt;Waiting for an order...&lt;/div&gt;&#34;</span>).into();<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dce2e42a1bbf1134_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#dce2e42a1bbf1134_line_13">13</a></span><span><span style="color:#6e7681"></span>})</span></span></code></pre></div></div></div><div data-show="$lang === &#39;typescript&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="// Creates a new `ServerSentEventGenerator` instance (this also sends required headers)
ServerSentEventGenerator.stream(req, res, (stream) =&gt; {
    // Patches elements into the DOM.
    stream.patchElements(`&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;`);

    setTimeout(() =&gt; {
        stream.patchElements(`&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;`);
    }, 1000);
});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance (this also sends required headers)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_2">2</a></span><span><span style="color:#8b949e;font-style:italic"></span>ServerSentEventGenerator.stream(req, res, (stream) <span style="color:#ff7b72;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_3">3</a></span><span>    <span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic"></span>    stream.patchElements(<span style="color:#a5d6ff">`&lt;div id=&#34;hal&#34;&gt;I’m sorry, Dave. I’m afraid I can’t do that.&lt;/div&gt;`</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_5">5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_6">6</a></span><span>    setTimeout(() <span style="color:#ff7b72;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_7">7</a></span><span>        stream.patchElements(<span style="color:#a5d6ff">`&lt;div id=&#34;hal&#34;&gt;Waiting for an order...&lt;/div&gt;`</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_8">8</a></span><span>    }, <span style="color:#a5d6ff">1000</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="266aa383df1aeec7_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#266aa383df1aeec7_line_9">9</a></span><span>});</span></span></code></pre></div></div></div></div></div><blockquote>In addition to your browser’s dev tools, the <a href="/datastar_pro#datastar-inspector">Datastar Inspector</a> can be used to monitor and inspect SSE events received by Datastar.</blockquote><p>We’ll cover event streams and <a href="/reference/sse_events">SSE events</a> in more detail <a href="/guide/backend_requests">later in the guide</a>, but as you can see, they are just plain text events with a special syntax, made simpler by the <a href="/reference/sdks">SDKs</a>.</p><h1 id="reactive_signals">Reactive Signals</h1><p>In a hypermedia approach, the backend drives state to the frontend and acts as the primary source of truth. It’s up to the backend to determine what actions the user can take next by patching appropriate elements in the DOM.</p><p>Sometimes, however, you may need access to frontend state that’s driven by user interactions. Click, input and keydown events are some of the more common user events that you’ll want your frontend to be able to react to.</p><p>Datastar uses <em>signals</em> to manage frontend state. You can think of signals as reactive variables that automatically track and propagate changes in and to <a href="/guide/datastar_expressions">Datastar expressions</a>. Signals are denoted using the <code>$</code> prefix.</p><h2 id="data-attributes">Data Attributes <a href="#data-attributes" class="anchor">#</a></h2><p>Datastar allows you to add reactivity to your frontend and interact with your backend in a declarative way using <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Global_attributes/data-*" target="_blank" rel="noopener noreferrer">custom <code>data-*</code> attributes</a>.</p><blockquote>The Datastar <a href="https://marketplace.visualstudio.com/items?itemName=starfederation.datastar-vscode" target="_blank" rel="noopener noreferrer">VSCode extension</a> and <a href="https://plugins.jetbrains.com/plugin/26072-datastar-support" target="_blank" rel="noopener noreferrer">IntelliJ plugin</a> provide autocompletion for all available <code>data-*</code> attributes.</blockquote><h3 id="data-bind"><code>data-bind</code> <a href="#data-bind" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-bind"><code>data-bind</code></a> attribute sets up two-way data binding on any HTML element that receives user input or selections. These include <code>input</code>, <code>textarea</code>, <code>select</code>, <code>checkbox</code> and <code>radio</code> elements, as well as web components whose value can be made reactive.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1aa82f18409e6833_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1aa82f18409e6833_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo /&gt;</span></span></code></pre></div></div><p>This creates a new signal that can be called using <code>$foo</code>, and binds it to the element’s value. If either is changed, the other automatically updates.</p><p>You can accomplish the same thing passing the signal name as a <em>value</em>. This syntax can be more convenient to use with some templating languages.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind=&#34;foo&#34; /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4a15fa907a9b981_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4a15fa907a9b981_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;foo&#34;</span> /&gt;</span></span></code></pre></div></div><p>According to the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*" target="_blank" rel="noopener noreferrer">HTML spec</a>, all <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/How_to/Use_data_attributes" target="_blank" rel="noopener noreferrer"><code>data-*</code></a> attributes are case-insensitive. When Datastar processes these attributes, hyphenated names are automatically converted to camel case by removing hyphens and uppercasing the letter following each hyphen. For example, <code>data-bind:foo-bar</code> creates a signal named <code>$fooBar</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Both of these create the signal `$fooBar` --&gt;
&lt;input data-bind:foo-bar /&gt;
&lt;input data-bind=&#34;fooBar&#34; /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c6efd52b4fcb2a9_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4c6efd52b4fcb2a9_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Both of these create the signal `$fooBar` --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c6efd52b4fcb2a9_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#4c6efd52b4fcb2a9_line_2">2</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c6efd52b4fcb2a9_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#4c6efd52b4fcb2a9_line_3">3</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;fooBar&#34;</span> /&gt;</span></span></code></pre></div></div><p>Read more about <a href="/reference/attributes#attribute-casing">attribute casing</a> in the reference.</p><h3 id="data-text"><code>data-text</code> <a href="#data-text" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-text"><code>data-text</code></a> attribute sets the text content of an element to the value of a signal. The <code>$</code> prefix is required to denote a signal.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo-bar /&gt;
&lt;div data-text=&#34;$fooBar&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="af5a5f615fff7d9e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#af5a5f615fff7d9e_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="af5a5f615fff7d9e_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#af5a5f615fff7d9e_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><input data-bind:foo-bar1 type="text" placeholder="Enter some input..."><pre><code data-text="$fooBar1"></code></pre></div></fieldset><p>The value of the <code>data-text</code> attribute is a <a href="/guide/datastar_expressions">Datastar expression</a> that is evaluated, meaning that we can use JavaScript in it.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo-bar /&gt;
&lt;div data-text=&#34;$fooBar.toUpperCase()&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="df3b4f0dd56a64f1_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#df3b4f0dd56a64f1_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="df3b4f0dd56a64f1_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#df3b4f0dd56a64f1_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar.toUpperCase()&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><input data-bind:foo-bar2 type="text" placeholder="Enter some input..."><pre><code data-text="$fooBar2.toUpperCase()"></code></pre></div></fieldset><h3 id="data-computed"><code>data-computed</code> <a href="#data-computed" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-computed"><code>data-computed</code></a> attribute creates a new signal that is derived from a reactive expression. The computed signal is read-only, and its value is automatically updated when any signals in the expression are updated.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo-bar /&gt;
&lt;div data-computed:repeated=&#34;$fooBar.repeat(2)&#34; data-text=&#34;$repeated&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="98722e7eabc2191f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#98722e7eabc2191f_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="98722e7eabc2191f_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#98722e7eabc2191f_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-computed:repeated<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar.repeat(2)&#34;</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$repeated&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>This results in the <code>$repeated</code> signal’s value always being equal to the value of the <code>$fooBar</code> signal repeated twice. Computed signals are useful for memoizing expressions containing other signals.</p><fieldset class="demo"><legend>Demo</legend><div><input data-bind:foo-bar3 type="text" placeholder="Enter some input..."><pre><code data-computed:repeated="$fooBar3.repeat(2)" data-text="$repeated"></code></pre></div></fieldset><h3 id="data-show"><code>data-show</code> <a href="#data-show" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-show"><code>data-show</code></a> attribute can be used to show or hide an element based on whether an expression evaluates to <code>true</code> or <code>false</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo-bar /&gt;
&lt;button data-show=&#34;$fooBar != &#39;&#39;&#34;&gt;
    Save
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="761595254bd8055a_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#761595254bd8055a_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="761595254bd8055a_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#761595254bd8055a_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar != &#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="761595254bd8055a_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#761595254bd8055a_line_3">3</a></span><span>    Save
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="761595254bd8055a_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#761595254bd8055a_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>This results in the button being visible only when the input value is <em>not</em> an empty string. This could also be shortened to <code>data-show="$fooBar"</code>.</p><fieldset class="demo"><legend>Demo</legend><div><input data-bind:foo-bar4 type="text" placeholder="Enter some input..."> <button data-show="$fooBar4 != ''" style="display: none;">Save</button></div></fieldset><p>Since the button is visible until Datastar processes the <code>data-show</code> attribute, it’s a good idea to set its initial style to <code>display: none</code> to prevent a flash of unwanted content.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo-bar /&gt;
&lt;button data-show=&#34;$fooBar != &#39;&#39;&#34; style=&#34;display: none&#34;&gt;
    Save
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8a726121371c1ff6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8a726121371c1ff6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8a726121371c1ff6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8a726121371c1ff6_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar != &#39;&#39;&#34;</span> style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;display: none&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8a726121371c1ff6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8a726121371c1ff6_line_3">3</a></span><span>    Save
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8a726121371c1ff6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8a726121371c1ff6_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><h3 id="data-class"><code>data-class</code> <a href="#data-class" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-class"><code>data-class</code></a> attribute allows us to add or remove an element’s class based on an expression.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo-bar /&gt;
&lt;button data-class:success=&#34;$fooBar != &#39;&#39;&#34;&gt;
    Save
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d062cb5adec71cfd_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#d062cb5adec71cfd_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d062cb5adec71cfd_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#d062cb5adec71cfd_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-class:success<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar != &#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d062cb5adec71cfd_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#d062cb5adec71cfd_line_3">3</a></span><span>    Save
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d062cb5adec71cfd_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#d062cb5adec71cfd_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>If the expression evaluates to <code>true</code>, the <code>success</code> class is added to the element, otherwise it is removed.</p><fieldset class="demo"><legend>Demo</legend><div><input data-bind:foo-bar5 type="text" placeholder="Enter some input..."> <button data-class:success="$fooBar5 != ''">Save</button></div></fieldset><p>Unlike the <code>data-bind</code> attribute, in which hyphenated names are converted to camel case, the <code>data-class</code> attribute converts the class name to kebab case. For example, <code>data-class:font-bold</code> adds or removes the <code>font-bold</code> class.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-class:font-bold=&#34;$fooBar == &#39;strong&#39;&#34;&gt;
    Save
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f95e9e07c27c6395_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f95e9e07c27c6395_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-class:font-bold<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar == &#39;strong&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f95e9e07c27c6395_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f95e9e07c27c6395_line_2">2</a></span><span>    Save
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f95e9e07c27c6395_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f95e9e07c27c6395_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>The <code>data-class</code> attribute can also be used to add or remove multiple classes from an element using a set of key-value pairs, where the keys represent class names and the values represent expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-class=&#34;{success: $fooBar != &#39;&#39;, &#39;font-bold&#39;: $fooBar == &#39;strong&#39;}&#34;&gt;
    Save
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="14db8be73d5f77ef_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#14db8be73d5f77ef_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{success: $fooBar != &#39;&#39;, &#39;font-bold&#39;: $fooBar == &#39;strong&#39;}&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="14db8be73d5f77ef_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#14db8be73d5f77ef_line_2">2</a></span><span>    Save
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="14db8be73d5f77ef_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#14db8be73d5f77ef_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>Note how the <code>font-bold</code> key must be wrapped in quotes because it contains a hyphen.</p><h3 id="data-attr"><code>data-attr</code> <a href="#data-attr" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-attr"><code>data-attr</code></a> attribute can be used to bind the value of any HTML attribute to an expression.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo /&gt;
&lt;button data-attr:disabled=&#34;$foo == &#39;&#39;&#34;&gt;
    Save
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="57cbb369cfc8dc6e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#57cbb369cfc8dc6e_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="57cbb369cfc8dc6e_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#57cbb369cfc8dc6e_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-attr:disabled<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo == &#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="57cbb369cfc8dc6e_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#57cbb369cfc8dc6e_line_3">3</a></span><span>    Save
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="57cbb369cfc8dc6e_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#57cbb369cfc8dc6e_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>This results in a <code>disabled</code> attribute being given the value <code>true</code> whenever the input is an empty string.</p><fieldset class="demo"><legend>Demo</legend><div><input data-bind:foo6 type="text" placeholder="Enter some input..."> <button data-attr:disabled="$foo6 == ''">Save</button></div></fieldset><p>The <code>data-attr</code> attribute also converts the attribute name to kebab case, since HTML attributes are typically written in kebab case. For example, <code>data-attr:aria-hidden</code> sets the value of the <code>aria-hidden</code> attribute.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-attr:aria-hidden=&#34;$foo&#34;&gt;Save&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="822ba4ad1bf57166_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#822ba4ad1bf57166_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-attr:aria-hidden<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;Save&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>The <code>data-attr</code> attribute can also be used to set the values of multiple attributes on an element using a set of key-value pairs, where the keys represent attribute names and the values represent expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-attr=&#34;{disabled: $foo == &#39;&#39;, &#39;aria-hidden&#39;: $foo}&#34;&gt;Save&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3d79bbfba0d16c66_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#3d79bbfba0d16c66_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-attr<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{disabled: $foo == &#39;&#39;, &#39;aria-hidden&#39;: $foo}&#34;</span>&gt;Save&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>Note how the <code>aria-hidden</code> key must be wrapped in quotes because it contains a hyphen.</p><h3 id="data-signals"><code>data-signals</code> <a href="#data-signals" class="anchor">#</a></h3><p>Signals are globally accessible from anywhere in the DOM. So far, we’ve created signals on the fly using <code>data-bind</code> and <code>data-computed</code>. If a signal is used without having been created, it will be created automatically and its value set to an empty string.</p><p>Another way to create signals is using the <a href="/reference/attributes#data-signals"><code>data-signals</code></a> attribute, which patches (adds, updates or removes) one or more signals into the existing signals.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo-bar=&#34;1&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="33de4e4213faa813_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#33de4e4213faa813_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo-bar<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Signals can be nested using dot-notation.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:form.baz=&#34;2&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="88318d5d77ebf3d0_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#88318d5d77ebf3d0_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:form<span style="color:#f85149">.</span>baz<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;2&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Like the <code>data-bind</code> attribute, hyphenated names used with <code>data-signals</code> are automatically converted to camel case by removing hyphens and uppercasing the letter following each hyphen.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo-bar=&#34;1&#34;
     data-text=&#34;$fooBar&#34;
&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8b083a65f2b78a7a_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8b083a65f2b78a7a_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo-bar<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8b083a65f2b78a7a_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8b083a65f2b78a7a_line_2">2</a></span><span>     data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fooBar&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8b083a65f2b78a7a_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8b083a65f2b78a7a_line_3">3</a></span><span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The <code>data-signals</code> attribute can also be used to patch multiple signals using a set of key-value pairs, where the keys represent signal names and the values represent expressions. Nested signals can be created using nested objects.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals=&#34;{fooBar: 1, form: {baz: 2}}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6c11391f9a77fce9_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#6c11391f9a77fce9_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{fooBar: 1, form: {baz: 2}}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-on"><code>data-on</code> <a href="#data-on" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-on"><code>data-on</code></a> attribute can be used to attach an event listener to an element and run an expression whenever the event is triggered.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo /&gt;
&lt;button data-on:click=&#34;$foo = &#39;&#39;&#34;&gt;
    Reset
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="529dd504749774b6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#529dd504749774b6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="529dd504749774b6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#529dd504749774b6_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo = &#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="529dd504749774b6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#529dd504749774b6_line_3">3</a></span><span>    Reset
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="529dd504749774b6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#529dd504749774b6_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>This results in the <code>$foo</code> signal’s value being set to an empty string whenever the button element is clicked. This can be used with any valid event name such as <code>data-on:keydown</code>, <code>data-on:mouseover</code>, etc. </p><fieldset class="demo"><legend>Demo</legend><div><input data-bind:foo7 type="text" placeholder="Enter some input..."> <button data-on:click="$foo7 = ''">Reset</button></div></fieldset><p>Custom events can also be used. Like the <code>data-class</code> attribute, the <code>data-on</code> attribute converts the event name to kebab case. For example, <code>data-on:custom-event</code> listens for the <code>custom-event</code> event.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on:my-event=&#34;$foo = &#39;&#39;&#34;&gt;
    &lt;input data-bind:foo /&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5ffc5cfc798bd0ad_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5ffc5cfc798bd0ad_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on:my-event<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo = &#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5ffc5cfc798bd0ad_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5ffc5cfc798bd0ad_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5ffc5cfc798bd0ad_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#5ffc5cfc798bd0ad_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>These are just <em>some</em> of the attributes available in Datastar. For a complete list, see the <a href="/reference/attributes">attribute reference</a>.</p><h2 id="frontend-reactivity">Frontend Reactivity <a href="#frontend-reactivity" class="anchor">#</a></h2><p>Datastar’s data attributes enable declarative signals and expressions, providing a simple yet powerful way to add reactivity to the frontend.</p><p>Datastar expressions are strings that are evaluated by Datastar <a href="/reference/attributes">attributes</a> and <a href="/reference/actions">actions</a>. While they are similar to JavaScript, there are some important differences that are explained in the <a href="/guide/datastar_expressions">next section of the guide</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:hal=&#34;&#39;...&#39;&#34;&gt;
    &lt;button data-on:click=&#34;$hal = &#39;Affirmative, Dave. I read you.&#39;&#34;&gt;
        HAL, do you read me?
    &lt;/button&gt;
    &lt;div data-text=&#34;$hal&#34;&gt;&lt;/div&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3213475a1d0b9aee_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#3213475a1d0b9aee_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:hal<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;...&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3213475a1d0b9aee_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#3213475a1d0b9aee_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$hal = &#39;Affirmative, Dave. I read you.&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3213475a1d0b9aee_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#3213475a1d0b9aee_line_3">3</a></span><span>        HAL, do you read me?
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3213475a1d0b9aee_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#3213475a1d0b9aee_line_4">4</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3213475a1d0b9aee_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#3213475a1d0b9aee_line_5">5</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$hal&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3213475a1d0b9aee_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#3213475a1d0b9aee_line_6">6</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><div data-signals:hal="'...'" style="display: none"></div><button data-on:click="$hal = 'Affirmative, Dave. I read you.'" class="warning large">HAL, do you read me?</button><pre><code data-text="$hal"></code></pre></div></fieldset><p>See if you can figure out what the code below does based on what you’ve learned so far, <em>before</em> trying the demo below it.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div
    data-signals=&#34;{response: &#39;&#39;, answer: &#39;bread&#39;}&#34;
    data-computed:correct=&#34;$response.toLowerCase() == $answer&#34;
&gt;
    &lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;
    &lt;button data-on:click=&#34;$response = prompt(&#39;Answer:&#39;) ?? &#39;&#39;&#34;&gt;BUZZ&lt;/button&gt;
    &lt;div data-show=&#34;$response != &#39;&#39;&#34;&gt;
        You answered “&lt;span data-text=&#34;$response&#34;&gt;&lt;/span&gt;”.
        &lt;span data-show=&#34;$correct&#34;&gt;That is correct ✅&lt;/span&gt;
        &lt;span data-show=&#34;!$correct&#34;&gt;
        The correct answer is “
        &lt;span data-text=&#34;$answer&#34;&gt;&lt;/span&gt;
        ” 🤷
        &lt;/span&gt;
    &lt;/div&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">div</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_2"> 2</a></span><span>    data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{response: &#39;&#39;, answer: &#39;bread&#39;}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_3"> 3</a></span><span>    data-computed:correct<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response.toLowerCase() == $answer&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_4"> 4</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_5"> 5</a></span><span>    &lt;<span style="color:#7ee787">div</span> id<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;question&#34;</span>&gt;What do you put in a toaster?&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_6"> 6</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response = prompt(&#39;Answer:&#39;) ?? &#39;&#39;&#34;</span>&gt;BUZZ&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_7"> 7</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response != &#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_8"> 8</a></span><span>        You answered “&lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;”.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_9"> 9</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$correct&#34;</span>&gt;That is correct ✅&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_10">10</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;!$correct&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_11">11</a></span><span>        The correct answer is “
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_12">12</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$answer&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_13">13</a></span><span>        ” 🤷
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_14">14</a></span><span>        &lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_15">15</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17bc6e9dd759370_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#17bc6e9dd759370_line_16">16</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><div data-signals="{response: '', answer: 'bread'}" data-computed:correct="$response.toLowerCase() == $answer" style="display: none"></div><p id="question">What do you put in a toaster?</p><button data-on:click="$response = prompt('Answer:') ?? ''" class="warning large">BUZZ</button><p data-show="$response != ''">You answered “<span data-text="$response"></span>”. <span data-show="$correct">That is correct ✅</span> <span data-show="!$correct">The correct answer is “<span data-text="$answer">bread</span>” 🤷</span></p></div></fieldset><blockquote>The <a href="/datastar_pro#datastar-inspector">Datastar Inspector</a> can be used to inspect and filter current signals and view signal patch events in real-time.</blockquote><h2 id="patching-signals">Patching Signals <a href="#patching-signals" class="anchor">#</a></h2><p>Remember that in a hypermedia approach, the backend drives state to the frontend. Just like with elements, frontend signals can be <strong>patched</strong> (added, updated and removed) from the backend using <a href="/reference/actions#backend-actions">backend actions</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:hal=&#34;&#39;...&#39;&#34;&gt;
    &lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;)&#34;&gt;
        HAL, do you read me?
    &lt;/button&gt;
    &lt;div data-text=&#34;$hal&#34;&gt;&lt;/div&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3c33331a66f830ba_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#3c33331a66f830ba_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:hal<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;...&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3c33331a66f830ba_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#3c33331a66f830ba_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3c33331a66f830ba_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#3c33331a66f830ba_line_3">3</a></span><span>        HAL, do you read me?
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3c33331a66f830ba_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#3c33331a66f830ba_line_4">4</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3c33331a66f830ba_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#3c33331a66f830ba_line_5">5</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$hal&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3c33331a66f830ba_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#3c33331a66f830ba_line_6">6</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>If a response has a <code>content-type</code> of <code>application/json</code>, the signal values are patched into the frontend signals.</p><p>We call this a “Patch Signals” event because multiple signals can be patched (using <a href="https://datatracker.ietf.org/doc/rfc7396/" target="_blank" rel="noopener noreferrer">JSON Merge Patch RFC 7396</a>) into the existing signals.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="{&#34;hal&#34;: &#34;Affirmative, Dave. I read you.&#34;}"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f7382a2495574697_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f7382a2495574697_line_1">1</a></span><span>{<span style="color:#7ee787">&#34;hal&#34;</span>: <span style="color:#a5d6ff">&#34;Affirmative, Dave. I read you.&#34;</span>}</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><button data-signals:hal_json="'...'" data-on:click="@get('/guide/reactive_signals/do_you_read_me_json')" class="warning large">HAL, do you read me?</button> <code data-text="$hal_json"></code><div data-show="$show_hal_reset"><button data-on:click="$hal_json = '...'; $show_hal_reset = false">Reset </button></div></div></fieldset><p>If the response has a <code>content-type</code> of <code>text/event-stream</code>, it can contain zero or more <a href="/reference/sse_events">SSE events</a>. The example above can be replicated using a <code>datastar-patch-signals</code> SSE event.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-signals
data: signals {hal: &#39;Affirmative, Dave. I read you.&#39;}

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="14b6c8cf9203fad3_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#14b6c8cf9203fad3_line_1">1</a></span><span>event: datastar-patch-signals
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="14b6c8cf9203fad3_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#14b6c8cf9203fad3_line_2">2</a></span><span>data: signals {hal: &#39;Affirmative, Dave. I read you.&#39;}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="14b6c8cf9203fad3_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#14b6c8cf9203fad3_line_3">3</a></span><span>
</span></span></code></pre></div></div><p>Because we can send as many events as we want in a stream, and because it can be a long-lived connection, we can extend the example above to first set the <code>hal</code> signal to an “affirmative” response and then, after a second, reset the signal.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-signals
data: signals {hal: &#39;Affirmative, Dave. I read you.&#39;}

// Wait 1 second

event: datastar-patch-signals
data: signals {hal: &#39;...&#39;}

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_1">1</a></span><span>event: datastar-patch-signals
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_2">2</a></span><span>data: signals {hal: &#39;Affirmative, Dave. I read you.&#39;}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_4">4</a></span><span>// Wait 1 second
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_5">5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_6">6</a></span><span>event: datastar-patch-signals
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_7">7</a></span><span>data: signals {hal: &#39;...&#39;}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1491c8da4ebc0fa_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#a1491c8da4ebc0fa_line_8">8</a></span><span>
</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><button data-signals:hal_sse="'...'" data-on:click="@get('/guide/reactive_signals/do_you_read_me_sse')" class="warning large">HAL, do you read me? </button> <code data-text="$hal_sse"></code></div></fieldset><p>Here’s the code to generate the SSE events above using the SDKs.</p><div class="code-switcher" data-signals:lang__ifmissing="'go'" data-persist="{include: /^lang$/}"><div class="icons"><button data-on:click="$lang = &#39;clojure&#39;" data-attr:aria-selected="`${$lang === &#39;clojure&#39;}`" title="Clojure"><iconify-icon icon="vscode-icons:file-type-clojure" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;csharp&#39;" data-attr:aria-selected="`${$lang === &#39;csharp&#39;}`" title="C#"><iconify-icon icon="vscode-icons:file-type-csharp2" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;go&#39;" data-attr:aria-selected="`${$lang === &#39;go&#39;}`" title="Go"><iconify-icon icon="vscode-icons:file-type-go" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;java&#39;" data-attr:aria-selected="`${$lang === &#39;java&#39;}`" title="Java"><iconify-icon icon="vscode-icons:file-type-java" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;kotlin&#39;" data-attr:aria-selected="`${$lang === &#39;kotlin&#39;}`" title="Kotlin"><iconify-icon icon="vscode-icons:file-type-kotlin" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;php&#39;" data-attr:aria-selected="`${$lang === &#39;php&#39;}`" title="PHP"><iconify-icon icon="vscode-icons:file-type-php3" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;python&#39;" data-attr:aria-selected="`${$lang === &#39;python&#39;}`" title="Python"><iconify-icon icon="vscode-icons:file-type-python" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;ruby&#39;" data-attr:aria-selected="`${$lang === &#39;ruby&#39;}`" title="Ruby"><iconify-icon icon="vscode-icons:file-type-ruby" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;rust&#39;" data-attr:aria-selected="`${$lang === &#39;rust&#39;}`" title="Rust"><iconify-icon icon="vscode-icons:file-type-rust" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;typescript&#39;" data-attr:aria-selected="`${$lang === &#39;typescript&#39;}`" title="TypeScript"><iconify-icon icon="vscode-icons:file-type-typescript-official" noobserver=""></iconify-icon></button></div><div class="snippets"><div data-show="$lang === &#39;clojure&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code=";; Import the SDK&#39;s api and your adapter
(require
  &#39;[starfederation.datastar.clojure.api :as d*]
  &#39;[starfederation.datastar.clojure.adapter.http-kit :refer [-&gt;sse-response on-open]])

;; in a ring handler
(defn handler [request]
  ;; Create an SSE response
  (-&gt;sse-response request
                  {on-open
                   (fn [sse]
                     ;; Patches signal.
                     (d*/patch-signals! sse &#34;{hal: &#39;Affirmative, Dave. I read you.&#39;}&#34;)
                     (Thread/sleep 1000)
                     (d*/patch-signals! sse &#34;{hal: &#39;...&#39;}&#34;))}))"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">;; Import the SDK&#39;s api and your adapter</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_2"> 2</a></span><span>(<span style="color:#d2a8ff;font-weight:bold">require</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_3"> 3</a></span><span>  <span style="color:#ff7b72;font-weight:bold">&#39;</span>[<span style="color:#79c0ff">starfederation.datastar.clojure.api</span> <span style="color:#a5d6ff">:as</span> <span style="color:#79c0ff">d*</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_4"> 4</a></span><span>  <span style="color:#ff7b72;font-weight:bold">&#39;</span>[<span style="color:#79c0ff">starfederation.datastar.clojure.adapter.http-kit</span> <span style="color:#a5d6ff">:refer</span> [<span style="color:#79c0ff">-&gt;sse-response</span> <span style="color:#79c0ff">on-open</span>]])
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">;; in a ring handler</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_7"> 7</a></span><span>(<span style="color:#ff7b72">defn </span><span style="color:#79c0ff">handler</span> [<span style="color:#79c0ff">request</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_8"> 8</a></span><span>  <span style="color:#8b949e;font-style:italic">;; Create an SSE response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_9"> 9</a></span><span>  (<span style="color:#d2a8ff;font-weight:bold">-&gt;sse-response</span> <span style="color:#79c0ff">request</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_10">10</a></span><span>                  {<span style="color:#79c0ff">on-open</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_11">11</a></span><span>                   (<span style="color:#ff7b72">fn </span>[<span style="color:#79c0ff">sse</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_12">12</a></span><span>                     <span style="color:#8b949e;font-style:italic">;; Patches signal.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_13">13</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">d*/patch-signals!</span> <span style="color:#79c0ff">sse</span> <span style="color:#a5d6ff">&#34;{hal: &#39;Affirmative, Dave. I read you.&#39;}&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_14">14</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">Thread/sleep</span> <span style="color:#a5d6ff">1000</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="353bc780e448b1b5_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#353bc780e448b1b5_line_15">15</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">d*/patch-signals!</span> <span style="color:#79c0ff">sse</span> <span style="color:#a5d6ff">&#34;{hal: &#39;...&#39;}&#34;</span>))}))</span></span></code></pre></div></div></div><div data-show="$lang === &#39;csharp&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="using StarFederation.Datastar.DependencyInjection;

// Adds Datastar as a service
builder.Services.AddDatastar();

app.MapGet(&#34;/hal&#34;, async (IDatastarService datastarService) =&gt;
{
    // Patches signals.
    await datastarService.PatchSignalsAsync(new { hal = &#34;Affirmative, Dave. I read you&#34; });

    await Task.Delay(TimeSpan.FromSeconds(3));

    await datastarService.PatchSignalsAsync(new { hal = &#34;...&#34; });
});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_1"> 1</a></span><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">StarFederation.Datastar.DependencyInjection</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic">// Adds Datastar as a service</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_4"> 4</a></span><span>builder.Services.AddDatastar();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_6"> 6</a></span><span>app.MapGet(<span style="color:#a5d6ff">&#34;/hal&#34;</span>, <span style="color:#ff7b72">async</span> (IDatastarService datastarService) =&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_7"> 7</a></span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_8"> 8</a></span><span>    <span style="color:#8b949e;font-style:italic">// Patches signals.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_9"> 9</a></span><span>    <span style="color:#ff7b72">await</span> datastarService.PatchSignalsAsync(<span style="color:#ff7b72">new</span> { hal = <span style="color:#a5d6ff">&#34;Affirmative, Dave. I read you&#34;</span> });
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_11">11</a></span><span>    <span style="color:#ff7b72">await</span> Task.Delay(TimeSpan.FromSeconds(<span style="color:#a5d6ff">3</span>));
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_12">12</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_13">13</a></span><span>    <span style="color:#ff7b72">await</span> datastarService.PatchSignalsAsync(<span style="color:#ff7b72">new</span> { hal = <span style="color:#a5d6ff">&#34;...&#34;</span> });
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f6b1dd643de9bce5_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#f6b1dd643de9bce5_line_14">14</a></span><span>});</span></span></code></pre></div></div></div><div data-show="$lang === &#39;go&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="import (
    &#34;github.com/starfederation/datastar-go/datastar&#34;
)

// Creates a new `ServerSentEventGenerator` instance.
sse := datastar.NewSSE(w, r)

// Patches signals
sse.PatchSignals([]byte(`{hal: &#39;Affirmative, Dave. I read you.&#39;}`))

time.Sleep(1 * time.Second)

sse.PatchSignals([]byte(`{hal: &#39;...&#39;}`))"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_1"> 1</a></span><span><span style="color:#ff7b72">import</span><span style="color:#6e7681"> </span>(<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_2"> 2</a></span><span><span style="color:#6e7681">    </span><span style="color:#a5d6ff">&#34;github.com/starfederation/datastar-go/datastar&#34;</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_3"> 3</a></span><span><span style="color:#6e7681"></span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_4"> 4</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_5"> 5</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_6"> 6</a></span><span><span style="color:#6e7681"></span>sse<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">:=</span><span style="color:#6e7681"> </span>datastar.<span style="color:#d2a8ff;font-weight:bold">NewSSE</span>(w,<span style="color:#6e7681"> </span>r)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_7"> 7</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_8"> 8</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches signals</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_9"> 9</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchSignals</span>([]byte(<span style="color:#a5d6ff">`{hal: &#39;Affirmative, Dave. I read you.&#39;}`</span>))<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_10">10</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_11">11</a></span><span><span style="color:#6e7681"></span>time.<span style="color:#d2a8ff;font-weight:bold">Sleep</span>(<span style="color:#a5d6ff">1</span><span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">*</span><span style="color:#6e7681"> </span>time.Second)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_12">12</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="427e4c7e912c0a14_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#427e4c7e912c0a14_line_13">13</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchSignals</span>([]byte(<span style="color:#a5d6ff">`{hal: &#39;...&#39;}`</span>))</span></span></code></pre></div></div></div><div data-show="$lang === &#39;java&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="import starfederation.datastar.utils.ServerSentEventGenerator;

// Creates a new `ServerSentEventGenerator` instance.
AbstractResponseAdapter responseAdapter = new HttpServletResponseAdapter(response);
ServerSentEventGenerator generator = new ServerSentEventGenerator(responseAdapter);

// Patches signals.
generator.send(PatchSignals.builder()
    .data(&#34;{\&#34;hal\&#34;: \&#34;Affirmative, Dave. I read you.\&#34;}&#34;)
    .build()
);

Thread.sleep(1000);

generator.send(PatchSignals.builder()
    .data(&#34;{\&#34;hal\&#34;: \&#34;...\&#34;}&#34;)
    .build()
);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_1"> 1</a></span><span><span style="color:#ff7b72">import</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">starfederation.datastar.utils.ServerSentEventGenerator</span>;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_2"> 2</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_3"> 3</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_4"> 4</a></span><span><span style="color:#6e7681"></span>AbstractResponseAdapter<span style="color:#6e7681"> </span>responseAdapter<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">new</span><span style="color:#6e7681"> </span>HttpServletResponseAdapter(response);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_5"> 5</a></span><span><span style="color:#6e7681"></span>ServerSentEventGenerator<span style="color:#6e7681"> </span>generator<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">new</span><span style="color:#6e7681"> </span>ServerSentEventGenerator(responseAdapter);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_6"> 6</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_7"> 7</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches signals.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_8"> 8</a></span><span><span style="color:#6e7681"></span>generator.send(PatchSignals.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_9"> 9</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;{\&#34;hal\&#34;: \&#34;Affirmative, Dave. I read you.\&#34;}&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_10">10</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_11">11</a></span><span><span style="color:#6e7681"></span>);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_12">12</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_13">13</a></span><span><span style="color:#6e7681"></span>Thread.sleep(1000);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_14">14</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_15">15</a></span><span><span style="color:#6e7681"></span>generator.send(PatchSignals.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_16">16</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;{\&#34;hal\&#34;: \&#34;...\&#34;}&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_17">17</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="924278c20e945bff_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#924278c20e945bff_line_18">18</a></span><span><span style="color:#6e7681"></span>);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;kotlin&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="val generator = ServerSentEventGenerator(response)

generator.patchSignals(
    signals = &#34;&#34;&#34;{&#34;hal&#34;: &#34;Affirmative, Dave. I read you.&#34;}&#34;&#34;&#34;,
)

Thread.sleep(ONE_SECOND)

generator.patchSignals(
    signals = &#34;&#34;&#34;{&#34;hal&#34;: &#34;...&#34;}&#34;&#34;&#34;,
)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_1"> 1</a></span><span><span style="color:#ff7b72">val</span> <span style="color:#79c0ff">generator</span> = ServerSentEventGenerator(response)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_3"> 3</a></span><span>generator.patchSignals(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_4"> 4</a></span><span>    signals = <span style="color:#a5d6ff">&#34;&#34;&#34;{&#34;hal&#34;: &#34;Affirmative, Dave. I read you.&#34;}&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_5"> 5</a></span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_6"> 6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_7"> 7</a></span><span><span style="color:#f0883e;font-weight:bold">Thread</span>.sleep(ONE_SECOND)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_8"> 8</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_9"> 9</a></span><span>generator.patchSignals(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_10">10</a></span><span>    signals = <span style="color:#a5d6ff">&#34;&#34;&#34;{&#34;hal&#34;: &#34;...&#34;}&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1fae0811db3d803d_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#1fae0811db3d803d_line_11">11</a></span><span>)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;php&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="use starfederation\datastar\ServerSentEventGenerator;

// Creates a new `ServerSentEventGenerator` instance.
$sse = new ServerSentEventGenerator();

// Patches signals.
$sse-&gt;patchSignals([&#39;hal&#39; =&gt; &#39;Affirmative, Dave. I read you.&#39;]);

sleep(1);

$sse-&gt;patchSignals([&#39;hal&#39; =&gt; &#39;...&#39;]);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_1"> 1</a></span><span><span style="color:#ff7b72">use</span> starfederation\datastar\ServerSentEventGenerator;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_4"> 4</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$sse</span> <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">new</span> ServerSentEventGenerator();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">// Patches signals.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_7"> 7</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchSignals([<span style="color:#a5d6ff">&#39;hal&#39;</span> <span style="color:#ff7b72;font-weight:bold">=&gt;</span> <span style="color:#a5d6ff">&#39;Affirmative, Dave. I read you.&#39;</span>]);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_8"> 8</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_9"> 9</a></span><span>sleep(<span style="color:#a5d6ff">1</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b8ddb99b1a4ac42_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#5b8ddb99b1a4ac42_line_11">11</a></span><span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchSignals([<span style="color:#a5d6ff">&#39;hal&#39;</span> <span style="color:#ff7b72;font-weight:bold">=&gt;</span> <span style="color:#a5d6ff">&#39;...&#39;</span>]);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;python&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="from datastar_py import ServerSentEventGenerator as SSE
from datastar_py.sanic import datastar_response

@app.get(&#39;/do-you-read-me&#39;)
@datastar_response
async def open_doors(request):
    yield SSE.patch_signals({&#34;hal&#34;: &#34;Affirmative, Dave. I read you.&#34;})
    await asyncio.sleep(1)
    yield SSE.patch_signals({&#34;hal&#34;: &#34;...&#34;})"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_1">1</a></span><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">datastar_py</span> <span style="color:#ff7b72">import</span> ServerSentEventGenerator <span style="color:#ff7b72">as</span> SSE
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_2">2</a></span><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">datastar_py.sanic</span> <span style="color:#ff7b72">import</span> datastar_response
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_4">4</a></span><span><span style="color:#d2a8ff;font-weight:bold">@app.get</span>(<span style="color:#a5d6ff">&#39;/do-you-read-me&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_5">5</a></span><span><span style="color:#d2a8ff;font-weight:bold">@datastar_response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_6">6</a></span><span><span style="color:#ff7b72">async</span> <span style="color:#ff7b72">def</span> <span style="color:#d2a8ff;font-weight:bold">open_doors</span>(request):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_7">7</a></span><span>    <span style="color:#ff7b72">yield</span> SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals({<span style="color:#a5d6ff">&#34;hal&#34;</span>: <span style="color:#a5d6ff">&#34;Affirmative, Dave. I read you.&#34;</span>})
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_8">8</a></span><span>    <span style="color:#ff7b72">await</span> asyncio<span style="color:#ff7b72;font-weight:bold">.</span>sleep(<span style="color:#a5d6ff">1</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="12143487f051ce1b_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#12143487f051ce1b_line_9">9</a></span><span>    <span style="color:#ff7b72">yield</span> SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals({<span style="color:#a5d6ff">&#34;hal&#34;</span>: <span style="color:#a5d6ff">&#34;...&#34;</span>})</span></span></code></pre></div></div></div><div data-show="$lang === &#39;ruby&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="require &#39;datastar&#39;

# Create a Datastar::Dispatcher instance

datastar = Datastar.new(request:, response:)

# In a Rack handler, you can instantiate from the Rack env
# datastar = Datastar.from_rack_env(env)

# Start a streaming response
datastar.stream do |sse|
  # Patches signals
  sse.patch_signals(hal: &#39;Affirmative, Dave. I read you.&#39;)

  sleep 1
  
  sse.patch_signals(hal: &#39;...&#39;)
end"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_1"> 1</a></span><span>require <span style="color:#a5d6ff">&#39;datastar&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic"># Create a Datastar::Dispatcher instance</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_4"> 4</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_5"> 5</a></span><span>datastar <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff;font-weight:bold">Datastar</span><span style="color:#ff7b72;font-weight:bold">.</span>new(<span style="color:#a5d6ff">request</span>:, <span style="color:#a5d6ff">response</span>:)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_6"> 6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_7"> 7</a></span><span><span style="color:#8b949e;font-style:italic"># In a Rack handler, you can instantiate from the Rack env</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_8"> 8</a></span><span><span style="color:#8b949e;font-style:italic"># datastar = Datastar.from_rack_env(env)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_9"> 9</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_10">10</a></span><span><span style="color:#8b949e;font-style:italic"># Start a streaming response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_11">11</a></span><span>datastar<span style="color:#ff7b72;font-weight:bold">.</span>stream <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>sse<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_12">12</a></span><span>  <span style="color:#8b949e;font-style:italic"># Patches signals</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_13">13</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals(<span style="color:#a5d6ff">hal</span>: <span style="color:#a5d6ff">&#39;Affirmative, Dave. I read you.&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_14">14</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_15">15</a></span><span>  sleep <span style="color:#a5d6ff">1</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_16">16</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_17">17</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals(<span style="color:#a5d6ff">hal</span>: <span style="color:#a5d6ff">&#39;...&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="34f1a52b0e677150_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#34f1a52b0e677150_line_18">18</a></span><span><span style="color:#ff7b72">end</span></span></span></code></pre></div></div></div><div data-show="$lang === &#39;rust&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="use async_stream::stream;
use datastar::prelude::*;
use std::thread;
use std::time::Duration;

Sse(stream! {
    // Patches signals.
    yield PatchSignals::new(&#34;{hal: &#39;Affirmative, Dave. I read you.&#39;}&#34;).into();

    thread::sleep(Duration::from_secs(1));
    
    yield PatchSignals::new(&#34;{hal: &#39;...&#39;}&#34;).into();
})"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_1"> 1</a></span><span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>async_stream::stream;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_2"> 2</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>datastar::prelude::<span style="color:#ff7b72;font-weight:bold">*</span>;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_3"> 3</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>std::thread;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_4"> 4</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>std::time::Duration;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_5"> 5</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_6"> 6</a></span><span><span style="color:#6e7681"></span>Sse(<span style="color:#d2a8ff;font-weight:bold">stream!</span><span style="color:#6e7681"> </span>{<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_7"> 7</a></span><span><span style="color:#6e7681">    </span><span style="color:#8b949e;font-style:italic">// Patches signals.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_8"> 8</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#6e7681">    </span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchSignals::new(<span style="color:#a5d6ff">&#34;{hal: &#39;Affirmative, Dave. I read you.&#39;}&#34;</span>).into();<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_9"> 9</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_10">10</a></span><span><span style="color:#6e7681">    </span>thread::sleep(Duration::from_secs(<span style="color:#a5d6ff">1</span>));<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_11">11</a></span><span><span style="color:#6e7681">    
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_12">12</a></span><span><span style="color:#6e7681">    </span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchSignals::new(<span style="color:#a5d6ff">&#34;{hal: &#39;...&#39;}&#34;</span>).into();<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3a13692eb28a780_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#f3a13692eb28a780_line_13">13</a></span><span><span style="color:#6e7681"></span>})</span></span></code></pre></div></div></div><div data-show="$lang === &#39;typescript&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="// Creates a new `ServerSentEventGenerator` instance (this also sends required headers)
ServerSentEventGenerator.stream(req, res, (stream) =&gt; {
    // Patches signals.
    stream.patchSignals({&#39;hal&#39;: &#39;Affirmative, Dave. I read you.&#39;});

    setTimeout(() =&gt; {
        stream.patchSignals({&#39;hal&#39;: &#39;...&#39;});
    }, 1000);
});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance (this also sends required headers)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_2">2</a></span><span><span style="color:#8b949e;font-style:italic"></span>ServerSentEventGenerator.stream(req, res, (stream) <span style="color:#ff7b72;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_3">3</a></span><span>    <span style="color:#8b949e;font-style:italic">// Patches signals.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic"></span>    stream.patchSignals({<span style="color:#a5d6ff">&#39;hal&#39;</span><span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;Affirmative, Dave. I read you.&#39;</span>});
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_5">5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_6">6</a></span><span>    setTimeout(() <span style="color:#ff7b72;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_7">7</a></span><span>        stream.patchSignals({<span style="color:#a5d6ff">&#39;hal&#39;</span><span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;...&#39;</span>});
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_8">8</a></span><span>    }, <span style="color:#a5d6ff">1000</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="123cf8b628ffb7b1_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#123cf8b628ffb7b1_line_9">9</a></span><span>});</span></span></code></pre></div></div></div></div></div><blockquote>In addition to your browser’s dev tools, the <a href="/datastar_pro#datastar-inspector">Datastar Inspector</a> can be used to monitor and inspect SSE events received by Datastar.</blockquote><p>We’ll cover event streams and <a href="/reference/sse_events">SSE events</a> in more detail <a href="/guide/backend_requests">later in the guide</a>, but as you can see, they are just plain text events with a special syntax, made simpler by the <a href="/reference/sdks">SDKs</a>.</p><h1 id="datastar_expressions">Datastar Expressions</h1><p>Datastar expressions are strings that are evaluated by <code>data-*</code> attributes. While they are similar to JavaScript, there are some important differences that make them more powerful for declarative hypermedia applications.</p><h2 id="datastar-expressions">Datastar Expressions <a href="#datastar-expressions" class="anchor">#</a></h2><p>The following example outputs <code>1</code> because we’ve defined <code>foo</code> as a signal with the initial value <code>1</code>, and are using <code>$foo</code> in a <code>data-*</code> attribute.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo=&#34;1&#34;&gt;
    &lt;div data-text=&#34;$foo&#34;&gt;&lt;/div&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f76d5bbf5a0e91f8_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f76d5bbf5a0e91f8_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f76d5bbf5a0e91f8_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f76d5bbf5a0e91f8_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f76d5bbf5a0e91f8_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f76d5bbf5a0e91f8_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>A variable <code>el</code> is available in every Datastar expression, representing the element that the attribute is attached to.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-text=&#34;el.offsetHeight&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="24b68aa81491bfd4_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#24b68aa81491bfd4_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;el.offsetHeight&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>When Datastar evaluates the expression <code>$foo</code>, it first converts it to the signal value, and then evaluates that expression in a sandboxed context. This means that JavaScript can be used in Datastar expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-text=&#34;$foo.length&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8b75e7266426c6e6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8b75e7266426c6e6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo.length&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>JavaScript operators are also available in Datastar expressions. This includes (but is not limited to) the ternary operator <code>?:</code>, the logical OR operator <code>||</code>, and the logical AND operator <code>&&</code>. These operators are helpful in keeping Datastar expressions terse.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="// Output one of two values, depending on the truthiness of a signal
&lt;div data-text=&#34;$landingGearRetracted ? &#39;Ready&#39; : &#39;Waiting&#39;&#34;&gt;&lt;/div&gt;

// Show a countdown if the signal is truthy or the time remaining is less than 10 seconds
&lt;div data-show=&#34;$landingGearRetracted || $timeRemaining &lt; 10&#34;&gt;
    Countdown
&lt;/div&gt;

// Only send a request if the signal is truthy
&lt;button data-on:click=&#34;$landingGearRetracted &amp;&amp; @post(&#39;/launch&#39;)&#34;&gt;
    Launch
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_1"> 1</a></span><span>// Output one of two values, depending on the truthiness of a signal
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_2"> 2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$landingGearRetracted ? &#39;Ready&#39; : &#39;Waiting&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_3"> 3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_4"> 4</a></span><span>// Show a countdown if the signal is truthy or the time remaining is less than 10 seconds
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_5"> 5</a></span><span>&lt;<span style="color:#7ee787">div</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$landingGearRetracted || $timeRemaining &lt; 10&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_6"> 6</a></span><span>    Countdown
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_7"> 7</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_8"> 8</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_9"> 9</a></span><span>// Only send a request if the signal is truthy
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_10">10</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$landingGearRetracted &amp;&amp; @post(&#39;/launch&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_11">11</a></span><span>    Launch
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="334c802ff056426c_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#334c802ff056426c_line_12">12</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>Multiple statements can be used in a single expression by separating them with a semicolon.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo=&#34;1&#34;&gt;
    &lt;button data-on:click=&#34;$landingGearRetracted = true; @post(&#39;/launch&#39;)&#34;&gt;
        Force launch
    &lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a493bded67e99529_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a493bded67e99529_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a493bded67e99529_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a493bded67e99529_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$landingGearRetracted = true; @post(&#39;/launch&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a493bded67e99529_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a493bded67e99529_line_3">3</a></span><span>        Force launch
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a493bded67e99529_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#a493bded67e99529_line_4">4</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a493bded67e99529_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#a493bded67e99529_line_5">5</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Expressions may span multiple lines, but a semicolon must be used to separate statements. Unlike JavaScript, line breaks alone are not sufficient to separate statements.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo=&#34;1&#34;&gt;
    &lt;button data-on:click=&#34;
        $landingGearRetracted = true; 
        @post(&#39;/launch&#39;)
    &#34;&gt;
        Force launch
    &lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_3">3</a></span><span><span style="color:#a5d6ff">        $landingGearRetracted = true; 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_4">4</a></span><span><span style="color:#a5d6ff">        @post(&#39;/launch&#39;)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_5">5</a></span><span><span style="color:#a5d6ff">    &#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_6">6</a></span><span>        Force launch
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_7">7</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e78bcfe14e78564_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#2e78bcfe14e78564_line_8">8</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="using-javascript">Using JavaScript <a href="#using-javascript" class="anchor">#</a></h2><p>Most of your JavaScript logic should go in <code>data-*</code> attributes, since reactive signals and actions only work in <a href="/guide/datastar_expressions">Datastar expressions</a>.</p><blockquote>Caution: if you find yourself trying to do too much in Datastar expressions, <strong>you are probably overcomplicating it™</strong>.</blockquote><p>Any JavaScript functionality you require that cannot belong in <code>data-*</code> attributes should be extracted out into <a href="#external-scripts">external scripts</a> or, better yet, <a href="#web-components">web components</a>.</p><blockquote>Always encapsulate state and send <strong>props down, events up</strong>. </blockquote><h3 id="external-scripts">External Scripts <a href="#external-scripts" class="anchor">#</a></h3><p>When using external scripts, you should pass data into functions via arguments and return a result. Alternatively, listen for custom events dispatched from them (props down, events up).</p><p>In this way, the function is encapsulated – all it knows is that it receives input via an argument, acts on it, and optionally returns a result or dispatches a custom event – and <code>data-*</code> attributes can be used to drive reactivity.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:result&gt;
    &lt;input data-bind:foo 
        data-on:input=&#34;$result = myfunction($foo)&#34;
    &gt;
    &lt;span data-text=&#34;$result&#34;&gt;&lt;/span&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c8143d471a218a8b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c8143d471a218a8b_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:result&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c8143d471a218a8b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#c8143d471a218a8b_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c8143d471a218a8b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#c8143d471a218a8b_line_3">3</a></span><span>        data-on:input<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$result = myfunction($foo)&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c8143d471a218a8b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#c8143d471a218a8b_line_4">4</a></span><span>    &gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c8143d471a218a8b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#c8143d471a218a8b_line_5">5</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$result&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c8143d471a218a8b_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#c8143d471a218a8b_line_6">6</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="function myfunction(data) {
    return `You entered: ${data}`;
}"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a262f99631af6a9e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a262f99631af6a9e_line_1">1</a></span><span><span style="color:#ff7b72">function</span> myfunction(data) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a262f99631af6a9e_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a262f99631af6a9e_line_2">2</a></span><span>    <span style="color:#ff7b72">return</span> <span style="color:#a5d6ff">`You entered: </span><span style="color:#a5d6ff">${</span>data<span style="color:#a5d6ff">}</span><span style="color:#a5d6ff">`</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a262f99631af6a9e_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a262f99631af6a9e_line_3">3</a></span><span>}</span></span></code></pre></div></div><p>If your function call is asynchronous then it will need to dispatch a custom event containing the result. While asynchronous code <em>can</em> be placed within Datastar expressions, Datastar will <em>not</em> await it.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:result&gt;
    &lt;input data-bind:foo 
           data-on:input=&#34;myfunction(el, $foo)&#34;
           data-on:mycustomevent__window=&#34;$result = evt.detail.value&#34;
    &gt;
    &lt;span data-text=&#34;$result&#34;&gt;&lt;/span&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73a4c87ef5041f47_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#73a4c87ef5041f47_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:result&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73a4c87ef5041f47_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#73a4c87ef5041f47_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73a4c87ef5041f47_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#73a4c87ef5041f47_line_3">3</a></span><span>           data-on:input<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;myfunction(el, $foo)&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73a4c87ef5041f47_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#73a4c87ef5041f47_line_4">4</a></span><span>           data-on:mycustomevent__window<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$result = evt.detail.value&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73a4c87ef5041f47_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#73a4c87ef5041f47_line_5">5</a></span><span>    &gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73a4c87ef5041f47_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#73a4c87ef5041f47_line_6">6</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$result&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73a4c87ef5041f47_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#73a4c87ef5041f47_line_7">7</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="async function myfunction(element, data) {
    const value = await new Promise((resolve) =&gt; {
        setTimeout(() =&gt; resolve(`You entered: ${data}`), 1000);
    });
    element.dispatchEvent(
        new CustomEvent(&#39;mycustomevent&#39;, {detail: {value}})
    );
}"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_1">1</a></span><span><span style="color:#ff7b72">async</span> <span style="color:#ff7b72">function</span> myfunction(element, data) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_2">2</a></span><span>    <span style="color:#ff7b72">const</span> value <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">await</span> <span style="color:#ff7b72">new</span> Promise((resolve) =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_3">3</a></span><span>        setTimeout(() =&gt; resolve(<span style="color:#a5d6ff">`You entered: </span><span style="color:#a5d6ff">${</span>data<span style="color:#a5d6ff">}</span><span style="color:#a5d6ff">`</span>), <span style="color:#a5d6ff">1000</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_4">4</a></span><span>    });
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_5">5</a></span><span>    element.dispatchEvent(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_6">6</a></span><span>        <span style="color:#ff7b72">new</span> CustomEvent(<span style="color:#a5d6ff">&#39;mycustomevent&#39;</span>, {detail<span style="color:#ff7b72;font-weight:bold">:</span> {value}})
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_7">7</a></span><span>    );
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d32717ee0ac0e4d5_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#d32717ee0ac0e4d5_line_8">8</a></span><span>}</span></span></code></pre></div></div><p>See the <a href="/examples/sortable">sortable example</a>.</p><h3 id="web-components">Web Components <a href="#web-components" class="anchor">#</a></h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components" target="_blank" rel="noopener noreferrer">Web components</a> allow you create reusable, encapsulated, custom elements. They are native to the web and require no external libraries or frameworks. Web components unlock <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements" target="_blank" rel="noopener noreferrer">custom elements</a> – HTML tags with custom behavior and styling.</p><p>When using web components, pass data into them via attributes and listen for custom events dispatched from them (<em>props down, events up</em>).</p><p>In this way, the web component is encapsulated – all it knows is that it receives input via an attribute, acts on it, and optionally dispatches a custom event containing the result – and <code>data-*</code> attributes can be used to drive reactivity.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:result=&#34;&#39;&#39;&#34;&gt;
    &lt;input data-bind:foo /&gt;
    &lt;my-component
        data-attr:src=&#34;$foo&#34;
        data-on:mycustomevent=&#34;$result = evt.detail.value&#34;
    &gt;&lt;/my-component&gt;
    &lt;span data-text=&#34;$result&#34;&gt;&lt;/span&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:result<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_3">3</a></span><span>    &lt;<span style="color:#7ee787">my-component</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_4">4</a></span><span>        data-attr:src<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_5">5</a></span><span>        data-on:mycustomevent<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$result = evt.detail.value&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_6">6</a></span><span>    &gt;&lt;/<span style="color:#7ee787">my-component</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_7">7</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$result&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f4faa999ce5c9ef4_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#f4faa999ce5c9ef4_line_8">8</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="class MyComponent extends HTMLElement {
    static get observedAttributes() {
        return [&#39;src&#39;];
    }

    attributeChangedCallback(name, oldValue, newValue) {
        const value = `You entered: ${newValue}`;
        this.dispatchEvent(
            new CustomEvent(&#39;mycustomevent&#39;, {detail: {value}})
        );
    }
}

customElements.define(&#39;my-component&#39;, MyComponent);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_1"> 1</a></span><span><span style="color:#ff7b72">class</span> MyComponent <span style="color:#ff7b72">extends</span> HTMLElement {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_2"> 2</a></span><span>    <span style="color:#ff7b72">static</span> get observedAttributes() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_3"> 3</a></span><span>        <span style="color:#ff7b72">return</span> [<span style="color:#a5d6ff">&#39;src&#39;</span>];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_4"> 4</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_6"> 6</a></span><span>    attributeChangedCallback(name, oldValue, newValue) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_7"> 7</a></span><span>        <span style="color:#ff7b72">const</span> value <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">`You entered: </span><span style="color:#a5d6ff">${</span>newValue<span style="color:#a5d6ff">}</span><span style="color:#a5d6ff">`</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_8"> 8</a></span><span>        <span style="color:#ff7b72">this</span>.dispatchEvent(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_9"> 9</a></span><span>            <span style="color:#ff7b72">new</span> CustomEvent(<span style="color:#a5d6ff">&#39;mycustomevent&#39;</span>, {detail<span style="color:#ff7b72;font-weight:bold">:</span> {value}})
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_10">10</a></span><span>        );
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_11">11</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_12">12</a></span><span>}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_13">13</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2014036fa8cc027d_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#2014036fa8cc027d_line_14">14</a></span><span>customElements.define(<span style="color:#a5d6ff">&#39;my-component&#39;</span>, MyComponent);</span></span></code></pre></div></div><p>Since the <code>value</code> attribute is allowed on web components, it is also possible to use <code>data-bind</code> to bind a signal to the web component’s value. Note that a <code>change</code> event must be dispatched so that the event listener used by <code>data-bind</code> is triggered by the value change.</p><p>See the <a href="/examples/web_component">web component example</a>.</p><h2 id="executing-scripts">Executing Scripts <a href="#executing-scripts" class="anchor">#</a></h2><p>Just like elements and signals, the backend can also send JavaScript to be executed on the frontend using <a href="/reference/actions#backend-actions">backend actions</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;)&#34;&gt;
    What are you talking about, HAL?
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c429420db426ed41_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c429420db426ed41_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c429420db426ed41_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#c429420db426ed41_line_2">2</a></span><span>    What are you talking about, HAL?
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c429420db426ed41_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#c429420db426ed41_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>If a response has a <code>content-type</code> of <code>text/javascript</code>, the value will be executed as JavaScript in the browser.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="alert(&#39;This mission is too important for me to allow you to jeopardize it.&#39;)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3b4a8a5fa35808e6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#3b4a8a5fa35808e6_line_1">1</a></span><span>alert(<span style="color:#a5d6ff">&#39;This mission is too important for me to allow you to jeopardize it.&#39;</span>)</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><button data-on:click="@get('/guide/datastar_expressions/what_are_you_talking_about_javascript')" class="warning large">What are you talking about, HAL?</button></div></fieldset><p>If the response has a <code>content-type</code> of <code>text/event-stream</code>, it can contain zero or more <a href="/reference/sse_events">SSE events</a>. The example above can be replicated by including a <code>script</code> tag inside of a <code>datastar-patch-elements</code> SSE event.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: elements &lt;div id=&#34;hal&#34;&gt;
data: elements     &lt;script&gt;alert(&#39;This mission is too important for me to allow you to jeopardize it.&#39;)&lt;/script&gt;
data: elements &lt;/div&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="45d24889f80da929_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#45d24889f80da929_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="45d24889f80da929_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#45d24889f80da929_line_2">2</a></span><span>data: elements &lt;div id=&#34;hal&#34;&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="45d24889f80da929_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#45d24889f80da929_line_3">3</a></span><span>data: elements     &lt;script&gt;alert(&#39;This mission is too important for me to allow you to jeopardize it.&#39;)&lt;/script&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="45d24889f80da929_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#45d24889f80da929_line_4">4</a></span><span>data: elements &lt;/div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="45d24889f80da929_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#45d24889f80da929_line_5">5</a></span><span>
</span></span></code></pre></div></div><p>If you <em>only</em> want to execute a script, you can <code>append</code> the script tag to the <code>body</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: mode append
data: selector body
data: elements &lt;script&gt;alert(&#39;This mission is too important for me to allow you to jeopardize it.&#39;)&lt;/script&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c90bb36a0838a684_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c90bb36a0838a684_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c90bb36a0838a684_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#c90bb36a0838a684_line_2">2</a></span><span>data: mode append
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c90bb36a0838a684_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#c90bb36a0838a684_line_3">3</a></span><span>data: selector body
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c90bb36a0838a684_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#c90bb36a0838a684_line_4">4</a></span><span>data: elements &lt;script&gt;alert(&#39;This mission is too important for me to allow you to jeopardize it.&#39;)&lt;/script&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c90bb36a0838a684_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#c90bb36a0838a684_line_5">5</a></span><span>
</span></span></code></pre></div></div><p>Most SDKs have an <code>ExecuteScript</code> helper function for executing a script. Here’s the code to generate the SSE event above using the Go SDK.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="sse := datastar.NewSSE(writer, request)
sse.ExecuteScript(`alert(&#39;This mission is too important for me to allow you to jeopardize it.&#39;)`)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bdda58be6bb0ffea_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#bdda58be6bb0ffea_line_1">1</a></span><span>sse<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">:=</span><span style="color:#6e7681"> </span>datastar.<span style="color:#d2a8ff;font-weight:bold">NewSSE</span>(writer,<span style="color:#6e7681"> </span>request)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bdda58be6bb0ffea_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#bdda58be6bb0ffea_line_2">2</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">ExecuteScript</span>(<span style="color:#a5d6ff">`alert(&#39;This mission is too important for me to allow you to jeopardize it.&#39;)`</span>)</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><button data-on:click="@get('/guide/datastar_expressions/what_are_you_talking_about_sse')" class="warning large">What are you talking about, HAL?</button></div></fieldset><p>We’ll cover event streams and <a href="/reference/sse_events">SSE events</a> in more detail <a href="/guide/backend_requests">later in the guide</a>, but as you can see, they are just plain text events with a special syntax, made simpler by the <a href="/reference/sdks">SDKs</a>.</p><h1 id="backend_requests">Backend Requests</h1><p>Between <a href="/reference/attributes">attributes</a> and <a href="/reference/actions">actions</a>, Datastar provides you with everything you need to build hypermedia-driven applications. Using this approach, the backend drives state to the frontend and acts as the single source of truth, determining what actions the user can take next.</p><h2 id="sending-signals">Sending Signals <a href="#sending-signals" class="anchor">#</a></h2><p>By default, all signals (except for local signals whose keys begin with an underscore) are sent in an object with every backend request. When using a <code>GET</code> request, the signals are sent as a <code>datastar</code> query parameter, otherwise they are sent as a JSON body.</p><p>By sending <strong>all</strong> signals in every request, the backend has full access to the frontend state. This is by design. It is <strong>not</strong> recommended to send partial signals, but if you must, you can use the <a href="/reference/actions#filterSignals"><code>filterSignals</code></a> option to filter the signals sent to the backend.</p><h3 id="nesting-signals">Nesting Signals <a href="#nesting-signals" class="anchor">#</a></h3><p>Signals can be nested, making it easier to target signals in a more granular way on the backend.</p><p>Using dot-notation:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo.bar=&#34;1&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c645d9a8e63c7cff_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c645d9a8e63c7cff_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#f85149">.</span>bar<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Using object syntax:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals=&#34;{foo: {bar: 1}}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cf0b40c7a511c18e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#cf0b40c7a511c18e_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{foo: {bar: 1}}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Using two-way binding:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo.bar /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="13d1be4c25724c1e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#13d1be4c25724c1e_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo<span style="color:#f85149">.</span>bar /&gt;</span></span></code></pre></div></div><p>A practical use-case of nested signals is when you have repetition of state on a page. The following example tracks the open/closed state of a menu on both desktop and mobile devices, and the <a href="/reference/actions#toggleAll">toggleAll()</a> action to toggle the state of all menus at once.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals=&#34;{menu: {isOpen: {desktop: false, mobile: false}}}&#34;&gt;
    &lt;button data-on:click=&#34;@toggleAll({include: /^menu\.isOpen\./})&#34;&gt;
        Open/close menu
    &lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="909fa9c57ba8cd2b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#909fa9c57ba8cd2b_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{menu: {isOpen: {desktop: false, mobile: false}}}&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="909fa9c57ba8cd2b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#909fa9c57ba8cd2b_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@toggleAll({include: /^menu\.isOpen\./})&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="909fa9c57ba8cd2b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#909fa9c57ba8cd2b_line_3">3</a></span><span>        Open/close menu
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="909fa9c57ba8cd2b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#909fa9c57ba8cd2b_line_4">4</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="909fa9c57ba8cd2b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#909fa9c57ba8cd2b_line_5">5</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="reading-signals">Reading Signals <a href="#reading-signals" class="anchor">#</a></h2><p>To read signals from the backend, JSON decode the <code>datastar</code> query param for <code>GET</code> requests, and the request body for all other methods.</p><p>All <a href="/reference/sdks">SDKs</a> provide a helper function to read signals. Here’s how you would read the nested signal <code>foo.bar</code> from an incoming request.</p><div class="code-switcher" data-signals:lang__ifmissing="'go'" data-persist="{include: /^lang$/}"><div class="icons"><button data-on:click="$lang = &#39;csharp&#39;" data-attr:aria-selected="`${$lang === &#39;csharp&#39;}`" title="C#"><iconify-icon icon="vscode-icons:file-type-csharp2" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;go&#39;" data-attr:aria-selected="`${$lang === &#39;go&#39;}`" title="Go"><iconify-icon icon="vscode-icons:file-type-go" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;kotlin&#39;" data-attr:aria-selected="`${$lang === &#39;kotlin&#39;}`" title="Kotlin"><iconify-icon icon="vscode-icons:file-type-kotlin" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;php&#39;" data-attr:aria-selected="`${$lang === &#39;php&#39;}`" title="PHP"><iconify-icon icon="vscode-icons:file-type-php3" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;python&#39;" data-attr:aria-selected="`${$lang === &#39;python&#39;}`" title="Python"><iconify-icon icon="vscode-icons:file-type-python" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;ruby&#39;" data-attr:aria-selected="`${$lang === &#39;ruby&#39;}`" title="Ruby"><iconify-icon icon="vscode-icons:file-type-ruby" noobserver=""></iconify-icon></button></div><div class="snippets"><div data-show="$lang === &#39;clojure&#39;"><p class="callout error"><iconify-icon icon="ph:warning-bold" noobserver=""></iconify-icon>No example found for Clojure</p></div><div data-show="$lang === &#39;csharp&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="using StarFederation.Datastar.DependencyInjection;

// Adds Datastar as a service
builder.Services.AddDatastar();

public record Signals
{
    [JsonPropertyName(&#34;foo&#34;)] [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
    public FooSignals? Foo { get; set; } = null;

    public record FooSignals
    {
        [JsonPropertyName(&#34;bar&#34;)] [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
        public string? Bar { get; set; }
    }
}

app.MapGet(&#34;/read-signals&#34;, async (IDatastarService datastarService) =&gt;
{
    Signals? mySignals = await datastarService.ReadSignalsAsync&lt;Signals&gt;();
    var bar = mySignals?.Foo?.Bar;
});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_1"> 1</a></span><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">StarFederation.Datastar.DependencyInjection</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic">// Adds Datastar as a service</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_4"> 4</a></span><span>builder.Services.AddDatastar();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_6"> 6</a></span><span><span style="color:#ff7b72">public</span> <span style="color:#ff7b72">record</span> <span style="color:#f0883e;font-weight:bold">Signals</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_7"> 7</a></span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_8"> 8</a></span><span>    [JsonPropertyName(&#34;foo&#34;)] [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_9"> 9</a></span><span>    <span style="color:#ff7b72">public</span> FooSignals? Foo { <span style="color:#ff7b72">get</span>; <span style="color:#ff7b72">set</span>; } = <span style="color:#79c0ff">null</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_11">11</a></span><span>    <span style="color:#ff7b72">public</span> <span style="color:#ff7b72">record</span> <span style="color:#f0883e;font-weight:bold">FooSignals</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_12">12</a></span><span>    {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_13">13</a></span><span>        [JsonPropertyName(&#34;bar&#34;)] [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_14">14</a></span><span>        <span style="color:#ff7b72">public</span> <span style="color:#ff7b72">string?</span> Bar { <span style="color:#ff7b72">get</span>; <span style="color:#ff7b72">set</span>; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_15">15</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_16">16</a></span><span>}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_17">17</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_18">18</a></span><span>app.MapGet(<span style="color:#a5d6ff">&#34;/read-signals&#34;</span>, <span style="color:#ff7b72">async</span> (IDatastarService datastarService) =&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_19">19</a></span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_20">20</a></span><span>    Signals? mySignals = <span style="color:#ff7b72">await</span> datastarService.ReadSignalsAsync&lt;Signals&gt;();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_21">21</a></span><span>    <span style="color:#ff7b72">var</span> bar = mySignals?.Foo?.Bar;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66acc484fc23e471_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#66acc484fc23e471_line_22">22</a></span><span>});</span></span></code></pre></div></div></div><div data-show="$lang === &#39;go&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="import (&#34;github.com/starfederation/datastar-go/datastar&#34;)

type Signals struct {
    Foo struct {
        Bar string `json:&#34;bar&#34;`
    } `json:&#34;foo&#34;`
}

signals := &amp;Signals{}
if err := datastar.ReadSignals(request, signals); err != nil {
    http.Error(w, err.Error(), http.StatusBadRequest)
    return
}"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_1"> 1</a></span><span><span style="color:#ff7b72">import</span><span style="color:#6e7681"> </span>(<span style="color:#a5d6ff">&#34;github.com/starfederation/datastar-go/datastar&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_2"> 2</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_3"> 3</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">type</span><span style="color:#6e7681"> </span>Signals<span style="color:#6e7681"> </span><span style="color:#ff7b72">struct</span><span style="color:#6e7681"> </span>{<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_4"> 4</a></span><span><span style="color:#6e7681">    </span>Foo<span style="color:#6e7681"> </span><span style="color:#ff7b72">struct</span><span style="color:#6e7681"> </span>{<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_5"> 5</a></span><span><span style="color:#6e7681">        </span>Bar<span style="color:#6e7681"> </span><span style="color:#ff7b72">string</span><span style="color:#6e7681"> </span><span style="color:#a5d6ff">`json:&#34;bar&#34;`</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_6"> 6</a></span><span><span style="color:#6e7681">    </span>}<span style="color:#6e7681"> </span><span style="color:#a5d6ff">`json:&#34;foo&#34;`</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_7"> 7</a></span><span><span style="color:#6e7681"></span>}<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_8"> 8</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_9"> 9</a></span><span><span style="color:#6e7681"></span>signals<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">:=</span><span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">&amp;</span>Signals{}<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_10">10</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">if</span><span style="color:#6e7681"> </span>err<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">:=</span><span style="color:#6e7681"> </span>datastar.<span style="color:#d2a8ff;font-weight:bold">ReadSignals</span>(request,<span style="color:#6e7681"> </span>signals);<span style="color:#6e7681"> </span>err<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">!=</span><span style="color:#6e7681"> </span><span style="color:#79c0ff">nil</span><span style="color:#6e7681"> </span>{<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_11">11</a></span><span><span style="color:#6e7681">    </span>http.<span style="color:#d2a8ff;font-weight:bold">Error</span>(w,<span style="color:#6e7681"> </span>err.<span style="color:#d2a8ff;font-weight:bold">Error</span>(),<span style="color:#6e7681"> </span>http.StatusBadRequest)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_12">12</a></span><span><span style="color:#6e7681">    </span><span style="color:#ff7b72">return</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="90572ca558eb6621_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#90572ca558eb6621_line_13">13</a></span><span><span style="color:#6e7681"></span>}</span></span></code></pre></div></div></div><div data-show="$lang === &#39;java&#39;"><p class="callout error"><iconify-icon icon="ph:warning-bold" noobserver=""></iconify-icon>No example found for Java</p></div><div data-show="$lang === &#39;kotlin&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="@Serializable
data class Signals(
    val foo: String,
)

val jsonUnmarshaller: JsonUnmarshaller&lt;Signals&gt; = { json -&gt; Json.decodeFromString(json) }

val request: Request =
    postRequest(
        body =
            &#34;&#34;&#34;
            {
                &#34;foo&#34;: &#34;bar&#34;
            }
            &#34;&#34;&#34;.trimIndent(),
    )

val signals = readSignals(request, jsonUnmarshaller)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_1"> 1</a></span><span><span style="color:#d2a8ff;font-weight:bold">@Serializable</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_2"> 2</a></span><span><span style="color:#ff7b72">data</span> <span style="color:#ff7b72">class</span> <span style="color:#f0883e;font-weight:bold">Signals</span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_3"> 3</a></span><span>    <span style="color:#ff7b72">val</span> <span style="color:#79c0ff">foo</span>: String,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_4"> 4</a></span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_6"> 6</a></span><span><span style="color:#ff7b72">val</span> <span style="color:#79c0ff">jsonUnmarshaller</span>: JsonUnmarshaller&lt;Signals&gt; = { json <span style="color:#ff7b72;font-weight:bold">-&gt;</span> <span style="color:#f0883e;font-weight:bold">Json</span>.decodeFromString(json) }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_7"> 7</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_8"> 8</a></span><span><span style="color:#ff7b72">val</span> <span style="color:#79c0ff">request</span>: Request =
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_9"> 9</a></span><span>    postRequest(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_10">10</a></span><span>        body =
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_11">11</a></span><span>            <span style="color:#a5d6ff">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_12">12</a></span><span><span style="color:#a5d6ff">            {
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_13">13</a></span><span><span style="color:#a5d6ff">                &#34;foo&#34;: &#34;bar&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_14">14</a></span><span><span style="color:#a5d6ff">            }
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_15">15</a></span><span><span style="color:#a5d6ff">            &#34;&#34;&#34;</span>.trimIndent(),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_16">16</a></span><span>    )
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_17">17</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7a559ddc10e7ab40_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#7a559ddc10e7ab40_line_18">18</a></span><span><span style="color:#ff7b72">val</span> <span style="color:#79c0ff">signals</span> = readSignals(request, jsonUnmarshaller)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;php&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="use starfederation\datastar\ServerSentEventGenerator;

// Reads all signals from the request.
$signals = ServerSentEventGenerator::readSignals();"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9c42431bc22f345c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#9c42431bc22f345c_line_1">1</a></span><span><span style="color:#ff7b72">use</span> starfederation\datastar\ServerSentEventGenerator;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9c42431bc22f345c_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#9c42431bc22f345c_line_2">2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9c42431bc22f345c_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#9c42431bc22f345c_line_3">3</a></span><span><span style="color:#8b949e;font-style:italic">// Reads all signals from the request.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9c42431bc22f345c_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#9c42431bc22f345c_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$signals</span> <span style="color:#ff7b72;font-weight:bold">=</span> ServerSentEventGenerator<span style="color:#ff7b72;font-weight:bold">::</span>readSignals();</span></span></code></pre></div></div></div><div data-show="$lang === &#39;python&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="from datastar_py.fastapi import datastar_response, read_signals

@app.get(&#34;/updates&#34;)
@datastar_response
async def updates(request: Request):
    # Retrieve a dictionary with the current state of the signals from the frontend
    signals = await read_signals(request)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2a0060a2fb55a38f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2a0060a2fb55a38f_line_1">1</a></span><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">datastar_py.fastapi</span> <span style="color:#ff7b72">import</span> datastar_response, read_signals
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2a0060a2fb55a38f_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2a0060a2fb55a38f_line_2">2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2a0060a2fb55a38f_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2a0060a2fb55a38f_line_3">3</a></span><span><span style="color:#d2a8ff;font-weight:bold">@app.get</span>(<span style="color:#a5d6ff">&#34;/updates&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2a0060a2fb55a38f_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#2a0060a2fb55a38f_line_4">4</a></span><span><span style="color:#d2a8ff;font-weight:bold">@datastar_response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2a0060a2fb55a38f_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#2a0060a2fb55a38f_line_5">5</a></span><span><span style="color:#ff7b72">async</span> <span style="color:#ff7b72">def</span> <span style="color:#d2a8ff;font-weight:bold">updates</span>(request: Request):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2a0060a2fb55a38f_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#2a0060a2fb55a38f_line_6">6</a></span><span>    <span style="color:#8b949e;font-style:italic"># Retrieve a dictionary with the current state of the signals from the frontend</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2a0060a2fb55a38f_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#2a0060a2fb55a38f_line_7">7</a></span><span>    signals <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">await</span> read_signals(request)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;ruby&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="# Setup with request
datastar = Datastar.new(request:, response:)

# Read signals
some_signal = datastar.signals[:some_signal]"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0020cc9cf3a9451_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f0020cc9cf3a9451_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic"># Setup with request</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0020cc9cf3a9451_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f0020cc9cf3a9451_line_2">2</a></span><span>datastar <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff;font-weight:bold">Datastar</span><span style="color:#ff7b72;font-weight:bold">.</span>new(<span style="color:#a5d6ff">request</span>:, <span style="color:#a5d6ff">response</span>:)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0020cc9cf3a9451_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f0020cc9cf3a9451_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0020cc9cf3a9451_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#f0020cc9cf3a9451_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic"># Read signals</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0020cc9cf3a9451_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#f0020cc9cf3a9451_line_5">5</a></span><span>some_signal <span style="color:#ff7b72;font-weight:bold">=</span> datastar<span style="color:#ff7b72;font-weight:bold">.</span>signals<span style="color:#ff7b72;font-weight:bold">[</span><span style="color:#a5d6ff">:some_signal</span><span style="color:#ff7b72;font-weight:bold">]</span></span></span></code></pre></div></div></div><div data-show="$lang === &#39;rust&#39;"><p class="callout error"><iconify-icon icon="ph:warning-bold" noobserver=""></iconify-icon>No example found for Rust</p></div><div data-show="$lang === &#39;typescript&#39;"><p class="callout error"><iconify-icon icon="ph:warning-bold" noobserver=""></iconify-icon>No example found for TypeScript</p></div></div></div><h2 id="sse-events">SSE Events <a href="#sse-events" class="anchor">#</a></h2><p>Datastar can stream zero or more <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events" target="_blank" rel="noopener noreferrer">Server-Sent Events</a> (SSE) from the web server to the browser. There’s no special backend plumbing required to use SSE, just some special syntax. Fortunately, SSE is straightforward and <a href="/essays/event_streams_all_the_way_down">provides us with some advantages</a>, in addition to allowing us to send multiple events in a single response (in contrast to sending <code>text/html</code> or <code>application/json</code> responses).</p><p>First, set up your backend in the language of your choice. Familiarize yourself with <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#sending_events_from_the_server" target="_blank" rel="noopener noreferrer">sending SSE events</a>, or use one of the backend <a href="/reference/sdks">SDKs</a> to get up and running even faster. We’re going to use the SDKs in the examples below, which set the appropriate headers and format the events for us.</p><p>The following code would exist in a controller action endpoint in your backend.</p><div class="code-switcher" data-signals:lang__ifmissing="'go'" data-persist="{include: /^lang$/}"><div class="icons"><button data-on:click="$lang = &#39;clojure&#39;" data-attr:aria-selected="`${$lang === &#39;clojure&#39;}`" title="Clojure"><iconify-icon icon="vscode-icons:file-type-clojure" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;csharp&#39;" data-attr:aria-selected="`${$lang === &#39;csharp&#39;}`" title="C#"><iconify-icon icon="vscode-icons:file-type-csharp2" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;go&#39;" data-attr:aria-selected="`${$lang === &#39;go&#39;}`" title="Go"><iconify-icon icon="vscode-icons:file-type-go" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;java&#39;" data-attr:aria-selected="`${$lang === &#39;java&#39;}`" title="Java"><iconify-icon icon="vscode-icons:file-type-java" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;kotlin&#39;" data-attr:aria-selected="`${$lang === &#39;kotlin&#39;}`" title="Kotlin"><iconify-icon icon="vscode-icons:file-type-kotlin" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;php&#39;" data-attr:aria-selected="`${$lang === &#39;php&#39;}`" title="PHP"><iconify-icon icon="vscode-icons:file-type-php3" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;python&#39;" data-attr:aria-selected="`${$lang === &#39;python&#39;}`" title="Python"><iconify-icon icon="vscode-icons:file-type-python" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;ruby&#39;" data-attr:aria-selected="`${$lang === &#39;ruby&#39;}`" title="Ruby"><iconify-icon icon="vscode-icons:file-type-ruby" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;rust&#39;" data-attr:aria-selected="`${$lang === &#39;rust&#39;}`" title="Rust"><iconify-icon icon="vscode-icons:file-type-rust" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;typescript&#39;" data-attr:aria-selected="`${$lang === &#39;typescript&#39;}`" title="TypeScript"><iconify-icon icon="vscode-icons:file-type-typescript-official" noobserver=""></iconify-icon></button></div><div class="snippets"><div data-show="$lang === &#39;clojure&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code=";; Import the SDK&#39;s api and your adapter
(require
 &#39;[starfederation.datastar.clojure.api :as d*]
 &#39;[starfederation.datastar.clojure.adapter.http-kit :refer [-&gt;sse-response on-open]])

;; in a ring handler
(defn handler [request]
  ;; Create an SSE response
  (-&gt;sse-response request
                  {on-open
                   (fn [sse]
                     ;; Patches elements into the DOM
                     (d*/patch-elements! sse
                                         &#34;&lt;div id=\&#34;question\&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;)

                     ;; Patches signals
                     (d*/patch-signals! sse &#34;{response: &#39;&#39;, answer: &#39;bread&#39;}&#34;))}))"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">;; Import the SDK&#39;s api and your adapter</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_2"> 2</a></span><span>(<span style="color:#d2a8ff;font-weight:bold">require</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_3"> 3</a></span><span> <span style="color:#ff7b72;font-weight:bold">&#39;</span>[<span style="color:#79c0ff">starfederation.datastar.clojure.api</span> <span style="color:#a5d6ff">:as</span> <span style="color:#79c0ff">d*</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_4"> 4</a></span><span> <span style="color:#ff7b72;font-weight:bold">&#39;</span>[<span style="color:#79c0ff">starfederation.datastar.clojure.adapter.http-kit</span> <span style="color:#a5d6ff">:refer</span> [<span style="color:#79c0ff">-&gt;sse-response</span> <span style="color:#79c0ff">on-open</span>]])
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">;; in a ring handler</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_7"> 7</a></span><span>(<span style="color:#ff7b72">defn </span><span style="color:#79c0ff">handler</span> [<span style="color:#79c0ff">request</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_8"> 8</a></span><span>  <span style="color:#8b949e;font-style:italic">;; Create an SSE response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_9"> 9</a></span><span>  (<span style="color:#d2a8ff;font-weight:bold">-&gt;sse-response</span> <span style="color:#79c0ff">request</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_10">10</a></span><span>                  {<span style="color:#79c0ff">on-open</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_11">11</a></span><span>                   (<span style="color:#ff7b72">fn </span>[<span style="color:#79c0ff">sse</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_12">12</a></span><span>                     <span style="color:#8b949e;font-style:italic">;; Patches elements into the DOM</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_13">13</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">d*/patch-elements!</span> <span style="color:#79c0ff">sse</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_14">14</a></span><span>                                         <span style="color:#a5d6ff">&#34;&lt;div id=\&#34;question\&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_15">15</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_16">16</a></span><span>                     <span style="color:#8b949e;font-style:italic">;; Patches signals</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="31967697c6e12f0b_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#31967697c6e12f0b_line_17">17</a></span><span>                     (<span style="color:#d2a8ff;font-weight:bold">d*/patch-signals!</span> <span style="color:#79c0ff">sse</span> <span style="color:#a5d6ff">&#34;{response: &#39;&#39;, answer: &#39;bread&#39;}&#34;</span>))}))</span></span></code></pre></div></div></div><div data-show="$lang === &#39;csharp&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="using StarFederation.Datastar.DependencyInjection;

// Adds Datastar as a service
builder.Services.AddDatastar();

app.MapGet(&#34;/&#34;, async (IDatastarService datastarService) =&gt;
{
    // Patches elements into the DOM.
    await datastarService.PatchElementsAsync(@&#34;&lt;div id=&#34;&#34;question&#34;&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;);

    // Patches signals.
    await datastarService.PatchSignalsAsync(new { response = &#34;&#34;, answer = &#34;bread&#34; });
});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_1"> 1</a></span><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">StarFederation.Datastar.DependencyInjection</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic">// Adds Datastar as a service</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_4"> 4</a></span><span>builder.Services.AddDatastar();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_6"> 6</a></span><span>app.MapGet(<span style="color:#a5d6ff">&#34;/&#34;</span>, <span style="color:#ff7b72">async</span> (IDatastarService datastarService) =&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_7"> 7</a></span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_8"> 8</a></span><span>    <span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_9"> 9</a></span><span>    <span style="color:#ff7b72">await</span> datastarService.PatchElementsAsync(<span style="color:#a5d6ff">@&#34;&lt;div id=&#34;&#34;question&#34;&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_11">11</a></span><span>    <span style="color:#8b949e;font-style:italic">// Patches signals.</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_12">12</a></span><span>    <span style="color:#ff7b72">await</span> datastarService.PatchSignalsAsync(<span style="color:#ff7b72">new</span> { response = <span style="color:#a5d6ff">&#34;&#34;</span>, answer = <span style="color:#a5d6ff">&#34;bread&#34;</span> });
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="48c09764e15d9bdc_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#48c09764e15d9bdc_line_13">13</a></span><span>});</span></span></code></pre></div></div></div><div data-show="$lang === &#39;go&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="import (&#34;github.com/starfederation/datastar-go/datastar&#34;)

// Creates a new `ServerSentEventGenerator` instance.
sse := datastar.NewSSE(w,r)

// Patches elements into the DOM.
sse.PatchElements(
    `&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;`
)

// Patches signals.
sse.PatchSignals([]byte(`{response: &#39;&#39;, answer: &#39;bread&#39;}`))"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_1"> 1</a></span><span><span style="color:#ff7b72">import</span><span style="color:#6e7681"> </span>(<span style="color:#a5d6ff">&#34;github.com/starfederation/datastar-go/datastar&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_2"> 2</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_3"> 3</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_4"> 4</a></span><span><span style="color:#6e7681"></span>sse<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">:=</span><span style="color:#6e7681"> </span>datastar.<span style="color:#d2a8ff;font-weight:bold">NewSSE</span>(w,r)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_5"> 5</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_6"> 6</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_7"> 7</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchElements</span>(<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_8"> 8</a></span><span><span style="color:#6e7681">    </span><span style="color:#a5d6ff">`&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;`</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_9"> 9</a></span><span><span style="color:#6e7681"></span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_10">10</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_11">11</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches signals.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aed428a208316c97_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#aed428a208316c97_line_12">12</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchSignals</span>([]byte(<span style="color:#a5d6ff">`{response: &#39;&#39;, answer: &#39;bread&#39;}`</span>))</span></span></code></pre></div></div></div><div data-show="$lang === &#39;java&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="import starfederation.datastar.utils.ServerSentEventGenerator;

// Creates a new `ServerSentEventGenerator` instance.
AbstractResponseAdapter responseAdapter = new HttpServletResponseAdapter(response);
ServerSentEventGenerator generator = new ServerSentEventGenerator(responseAdapter);

// Patches elements into the DOM.
generator.send(PatchElements.builder()
    .data(&#34;&lt;div id=\&#34;question\&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;)
    .build()
);

// Patches signals.
generator.send(PatchSignals.builder()
    .data(&#34;{\&#34;response\&#34;: \&#34;\&#34;, \&#34;answer\&#34;: \&#34;\&#34;}&#34;)
    .build()
);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_1"> 1</a></span><span><span style="color:#ff7b72">import</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">starfederation.datastar.utils.ServerSentEventGenerator</span>;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_2"> 2</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_3"> 3</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_4"> 4</a></span><span><span style="color:#6e7681"></span>AbstractResponseAdapter<span style="color:#6e7681"> </span>responseAdapter<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">new</span><span style="color:#6e7681"> </span>HttpServletResponseAdapter(response);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_5"> 5</a></span><span><span style="color:#6e7681"></span>ServerSentEventGenerator<span style="color:#6e7681"> </span>generator<span style="color:#6e7681"> </span><span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#6e7681"> </span><span style="color:#ff7b72">new</span><span style="color:#6e7681"> </span>ServerSentEventGenerator(responseAdapter);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_6"> 6</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_7"> 7</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_8"> 8</a></span><span><span style="color:#6e7681"></span>generator.send(PatchElements.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_9"> 9</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;&lt;div id=\&#34;question\&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_10">10</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_11">11</a></span><span><span style="color:#6e7681"></span>);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_12">12</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_13">13</a></span><span><span style="color:#6e7681"></span><span style="color:#8b949e;font-style:italic">// Patches signals.</span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_14">14</a></span><span><span style="color:#6e7681"></span>generator.send(PatchSignals.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_15">15</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;{\&#34;response\&#34;: \&#34;\&#34;, \&#34;answer\&#34;: \&#34;\&#34;}&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_16">16</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd481fded6ff187e_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#cd481fded6ff187e_line_17">17</a></span><span><span style="color:#6e7681"></span>);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;kotlin&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="val generator = ServerSentEventGenerator(response)

generator.patchElements(
    elements = &#34;&#34;&#34;&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;&#34;&#34;,
)

generator.patchSignals(
    signals = &#34;&#34;&#34;{&#34;response&#34;: &#34;&#34;, &#34;answer&#34;: &#34;bread&#34;}&#34;&#34;&#34;,
)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_1">1</a></span><span><span style="color:#ff7b72">val</span> <span style="color:#79c0ff">generator</span> = ServerSentEventGenerator(response)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_2">2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_3">3</a></span><span>generator.patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_4">4</a></span><span>    elements = <span style="color:#a5d6ff">&#34;&#34;&#34;&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_5">5</a></span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_6">6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_7">7</a></span><span>generator.patchSignals(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_8">8</a></span><span>    signals = <span style="color:#a5d6ff">&#34;&#34;&#34;{&#34;response&#34;: &#34;&#34;, &#34;answer&#34;: &#34;bread&#34;}&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8acb5e4a3e49a4f3_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#8acb5e4a3e49a4f3_line_9">9</a></span><span>)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;php&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="use starfederation\datastar\ServerSentEventGenerator;

// Creates a new `ServerSentEventGenerator` instance.
$sse = new ServerSentEventGenerator();

// Patches elements into the DOM.
$sse-&gt;patchElements(
    &#39;&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#39;
);

// Patches signals.
$sse-&gt;patchSignals([&#39;response&#39; =&gt; &#39;&#39;, &#39;answer&#39; =&gt; &#39;bread&#39;]);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_1"> 1</a></span><span><span style="color:#ff7b72">use</span> starfederation\datastar\ServerSentEventGenerator;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_4"> 4</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$sse</span> <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">new</span> ServerSentEventGenerator();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_7"> 7</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_8"> 8</a></span><span>    <span style="color:#a5d6ff">&#39;&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_9"> 9</a></span><span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_11">11</a></span><span><span style="color:#8b949e;font-style:italic">// Patches signals.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="87f15801a1f2f185_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#87f15801a1f2f185_line_12">12</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchSignals([<span style="color:#a5d6ff">&#39;response&#39;</span> <span style="color:#ff7b72;font-weight:bold">=&gt;</span> <span style="color:#a5d6ff">&#39;&#39;</span>, <span style="color:#a5d6ff">&#39;answer&#39;</span> <span style="color:#ff7b72;font-weight:bold">=&gt;</span> <span style="color:#a5d6ff">&#39;bread&#39;</span>]);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;python&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="from datastar_py import ServerSentEventGenerator as SSE
from datastar_py.litestar import DatastarResponse

async def endpoint():
    return DatastarResponse([
        SSE.patch_elements(&#39;&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#39;),
        SSE.patch_signals({&#34;response&#34;: &#34;&#34;, &#34;answer&#34;: &#34;bread&#34;})
    ])"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_1">1</a></span><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">datastar_py</span> <span style="color:#ff7b72">import</span> ServerSentEventGenerator <span style="color:#ff7b72">as</span> SSE
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_2">2</a></span><span><span style="color:#ff7b72">from</span> <span style="color:#ff7b72">datastar_py.litestar</span> <span style="color:#ff7b72">import</span> DatastarResponse
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_4">4</a></span><span><span style="color:#ff7b72">async</span> <span style="color:#ff7b72">def</span> <span style="color:#d2a8ff;font-weight:bold">endpoint</span>():
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_5">5</a></span><span>    <span style="color:#ff7b72">return</span> DatastarResponse([
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_6">6</a></span><span>        SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;&#39;</span>),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_7">7</a></span><span>        SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals({<span style="color:#a5d6ff">&#34;response&#34;</span>: <span style="color:#a5d6ff">&#34;&#34;</span>, <span style="color:#a5d6ff">&#34;answer&#34;</span>: <span style="color:#a5d6ff">&#34;bread&#34;</span>})
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6940a07542f7feee_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#6940a07542f7feee_line_8">8</a></span><span>    ])</span></span></code></pre></div></div></div><div data-show="$lang === &#39;ruby&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="require &#39;datastar&#39;

# Create a Datastar::Dispatcher instance

datastar = Datastar.new(request:, response:)

# In a Rack handler, you can instantiate from the Rack env
# datastar = Datastar.from_rack_env(env)

# Start a streaming response
datastar.stream do |sse|
  # Patches elements into the DOM
  sse.patch_elements %(&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;)

  # Patches signals
  sse.patch_signals(response: &#39;&#39;, answer: &#39;bread&#39;)
end"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_1"> 1</a></span><span>require <span style="color:#a5d6ff">&#39;datastar&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_2"> 2</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_3"> 3</a></span><span><span style="color:#8b949e;font-style:italic"># Create a Datastar::Dispatcher instance</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_4"> 4</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_5"> 5</a></span><span>datastar <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff;font-weight:bold">Datastar</span><span style="color:#ff7b72;font-weight:bold">.</span>new(<span style="color:#a5d6ff">request</span>:, <span style="color:#a5d6ff">response</span>:)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_6"> 6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_7"> 7</a></span><span><span style="color:#8b949e;font-style:italic"># In a Rack handler, you can instantiate from the Rack env</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_8"> 8</a></span><span><span style="color:#8b949e;font-style:italic"># datastar = Datastar.from_rack_env(env)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_9"> 9</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_10">10</a></span><span><span style="color:#8b949e;font-style:italic"># Start a streaming response</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_11">11</a></span><span>datastar<span style="color:#ff7b72;font-weight:bold">.</span>stream <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>sse<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_12">12</a></span><span>  <span style="color:#8b949e;font-style:italic"># Patches elements into the DOM</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_13">13</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements <span style="color:#a5d6ff">%(&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_14">14</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_15">15</a></span><span>  <span style="color:#8b949e;font-style:italic"># Patches signals</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_16">16</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals(<span style="color:#a5d6ff">response</span>: <span style="color:#a5d6ff">&#39;&#39;</span>, <span style="color:#a5d6ff">answer</span>: <span style="color:#a5d6ff">&#39;bread&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e86f05b84ed0ad5b_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#e86f05b84ed0ad5b_line_17">17</a></span><span><span style="color:#ff7b72">end</span></span></span></code></pre></div></div></div><div data-show="$lang === &#39;rust&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="use datastar::prelude::*;
use async_stream::stream;

Sse(stream! {
    // Patches elements into the DOM.
    yield PatchElements::new(&#34;&lt;div id=&#39;question&#39;&gt;What do you put in a toaster?&lt;/div&gt;&#34;).into();

    // Patches signals.
    yield PatchSignals::new(&#34;{response: &#39;&#39;, answer: &#39;bread&#39;}&#34;).into();
})"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_1"> 1</a></span><span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>datastar::prelude::<span style="color:#ff7b72;font-weight:bold">*</span>;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_2"> 2</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">use</span><span style="color:#6e7681"> </span>async_stream::stream;<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_3"> 3</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_4"> 4</a></span><span><span style="color:#6e7681"></span>Sse(<span style="color:#d2a8ff;font-weight:bold">stream!</span><span style="color:#6e7681"> </span>{<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_5"> 5</a></span><span><span style="color:#6e7681">    </span><span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#6e7681">    </span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchElements::new(<span style="color:#a5d6ff">&#34;&lt;div id=&#39;question&#39;&gt;What do you put in a toaster?&lt;/div&gt;&#34;</span>).into();<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_7"> 7</a></span><span><span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_8"> 8</a></span><span><span style="color:#6e7681">    </span><span style="color:#8b949e;font-style:italic">// Patches signals.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_9"> 9</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#6e7681">    </span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchSignals::new(<span style="color:#a5d6ff">&#34;{response: &#39;&#39;, answer: &#39;bread&#39;}&#34;</span>).into();<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aee54ef0aa2a2e24_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#aee54ef0aa2a2e24_line_10">10</a></span><span><span style="color:#6e7681"></span>})</span></span></code></pre></div></div></div><div data-show="$lang === &#39;typescript&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="// Creates a new `ServerSentEventGenerator` instance (this also sends required headers)
ServerSentEventGenerator.stream(req, res, (stream) =&gt; {
      // Patches elements into the DOM.
     stream.patchElements(`&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;`);

     // Patches signals.
     stream.patchSignals({&#39;response&#39;:  &#39;&#39;, &#39;answer&#39;: &#39;bread&#39;});
});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">// Creates a new `ServerSentEventGenerator` instance (this also sends required headers)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_2">2</a></span><span><span style="color:#8b949e;font-style:italic"></span>ServerSentEventGenerator.stream(req, res, (stream) <span style="color:#ff7b72;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_3">3</a></span><span>      <span style="color:#8b949e;font-style:italic">// Patches elements into the DOM.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic"></span>     stream.patchElements(<span style="color:#a5d6ff">`&lt;div id=&#34;question&#34;&gt;What do you put in a toaster?&lt;/div&gt;`</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_5">5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_6">6</a></span><span>     <span style="color:#8b949e;font-style:italic">// Patches signals.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_7">7</a></span><span><span style="color:#8b949e;font-style:italic"></span>     stream.patchSignals({<span style="color:#a5d6ff">&#39;response&#39;</span><span style="color:#ff7b72;font-weight:bold">:</span>  <span style="color:#a5d6ff">&#39;&#39;</span>, <span style="color:#a5d6ff">&#39;answer&#39;</span><span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;bread&#39;</span>});
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cd7b97288983f5cf_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#cd7b97288983f5cf_line_8">8</a></span><span>});</span></span></code></pre></div></div></div></div></div><p>The <code>PatchElements()</code> function updates the provided HTML element into the DOM, replacing the element with <code>id="question"</code>. An element with the ID <code>question</code> must <em>already</em> exist in the DOM.</p><p>The <code>PatchSignals()</code> function updates the <code>response</code> and <code>answer</code> signals into the frontend signals.</p><p>With our backend in place, we can now use the <code>data-on:click</code> attribute to trigger the <a href="/reference/actions#get"><code>&#64;get()</code></a> action, which sends a <code>GET</code> request to the <code>/actions/quiz</code> endpoint on the server when a button is clicked.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div
    data-signals=&#34;{response: &#39;&#39;, answer: &#39;&#39;}&#34;
    data-computed:correct=&#34;$response.toLowerCase() == $answer&#34;
&gt;
    &lt;div id=&#34;question&#34;&gt;&lt;/div&gt;
    &lt;button data-on:click=&#34;@get(&#39;/actions/quiz&#39;)&#34;&gt;Fetch a question&lt;/button&gt;
    &lt;button
        data-show=&#34;$answer != &#39;&#39;&#34;
        data-on:click=&#34;$response = prompt(&#39;Answer:&#39;) ?? &#39;&#39;&#34;
    &gt;
        BUZZ
    &lt;/button&gt;
    &lt;div data-show=&#34;$response != &#39;&#39;&#34;&gt;
        You answered “&lt;span data-text=&#34;$response&#34;&gt;&lt;/span&gt;”.
        &lt;span data-show=&#34;$correct&#34;&gt;That is correct ✅&lt;/span&gt;
        &lt;span data-show=&#34;!$correct&#34;&gt;
        The correct answer is “&lt;span data-text=&#34;$answer&#34;&gt;&lt;/span&gt;” 🤷
        &lt;/span&gt;
    &lt;/div&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">div</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_2"> 2</a></span><span>    data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{response: &#39;&#39;, answer: &#39;&#39;}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_3"> 3</a></span><span>    data-computed:correct<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response.toLowerCase() == $answer&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_4"> 4</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_5"> 5</a></span><span>    &lt;<span style="color:#7ee787">div</span> id<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;question&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_6"> 6</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/actions/quiz&#39;)&#34;</span>&gt;Fetch a question&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_7"> 7</a></span><span>    &lt;<span style="color:#7ee787">button</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_8"> 8</a></span><span>        data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$answer != &#39;&#39;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_9"> 9</a></span><span>        data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response = prompt(&#39;Answer:&#39;) ?? &#39;&#39;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_10">10</a></span><span>    &gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_11">11</a></span><span>        BUZZ
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_12">12</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_13">13</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response != &#39;&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_14">14</a></span><span>        You answered “&lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$response&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;”.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_15">15</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$correct&#34;</span>&gt;That is correct ✅&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_16">16</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;!$correct&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_17">17</a></span><span>        The correct answer is “&lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$answer&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;” 🤷
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_18">18</a></span><span>        &lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_19">19</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a8cb65609608ef82_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#a8cb65609608ef82_line_20">20</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Now when the <code>Fetch a question</code> button is clicked, the server will respond with an event to modify the <code>question</code> element in the DOM and an event to modify the <code>response</code> and <code>answer</code> signals. We’re driving state from the backend!</p><fieldset class="demo"><legend>Demo</legend><div><div data-signals="{response1: '', answer1: ''}" data-computed:correct2="$response1.toLowerCase() == $answer1" style="display: none"></div><p id="question1">...</p><div style="display: flex; gap: var(--size-4)"><button data-on:click="@get('/guide/backend_requests/question')" class="warning large">Fetch a question</button> <button data-show="$answer1 != ''" data-on:click="$response1 = prompt('Answer:') ?? ''" class="success large">BUZZ</button></div><p data-show="$response1 != ''">You answered “<span data-text="$response1"></span>”. <span data-show="$correct2">That is correct ✅</span> <span data-show="!$correct2">The correct answer is “<span data-text="$answer1"></span>” 🤷</span></p></div></fieldset><h3 id="data-indicator"><code>data-indicator</code> <a href="#data-indicator" class="anchor">#</a></h3><p>The <a href="/reference/attributes#data-indicator"><code>data-indicator</code></a> attribute sets the value of a signal to <code>true</code> while the request is in flight, otherwise <code>false</code>. We can use this signal to show a loading indicator, which may be desirable for slower responses.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div id=&#34;question&#34;&gt;&lt;/div&gt;
&lt;button
    data-on:click=&#34;@get(&#39;/actions/quiz&#39;)&#34;
    data-indicator:fetching
&gt;
    Fetch a question
&lt;/button&gt;
&lt;div data-class:loading=&#34;$fetching&#34; class=&#34;indicator&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> id<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;question&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_3">3</a></span><span>    data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/actions/quiz&#39;)&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_4">4</a></span><span>    data-indicator:fetching
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_5">5</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_6">6</a></span><span>    Fetch a question
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_7">7</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c0cca0924f8264f_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#8c0cca0924f8264f_line_8">8</a></span><span>&lt;<span style="color:#7ee787">div</span> data-class:loading<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fetching&#34;</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;indicator&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><fieldset class="demo"><legend>Demo</legend><div><p id="question2">...</p><div style="display: flex; align-items: center; gap: var(--size-4)"><button data-on:click="@get('/guide/backend_requests/question/slow')" data-indicator:fetching class="warning large">Fetch a question</button><div data-class:loading="$fetching" class="indicator"><img srcset="/cdn-cgi/image/format=auto,width=32/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif 1x, /cdn-cgi/image/format=auto,width=64/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif 2x" src="/cdn-cgi/image/format=auto,width=32/static/images/rocket-animated-1d781383a0d7cbb1eb575806abeec107c8a915806fb55ee19e4e33e8632c75e5.gif" alt="Indicator" width="32" height="32" loading=""></div></div></div></fieldset><h2 id="backend-actions">Backend Actions <a href="#backend-actions" class="anchor">#</a></h2><p>We’re not limited to sending just <code>GET</code> requests. Datastar provides <a href="/reference/actions#backend-actions">backend actions</a> for each of the methods available: <code>&#64;get()</code>, <code>&#64;post()</code>, <code>&#64;put()</code>, <code>&#64;patch()</code> and <code>&#64;delete()</code>.</p><p>Here’s how we can send an answer to the server for processing, using a <code>POST</code> request.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@post(&#39;/actions/quiz&#39;)&#34;&gt;
    Submit answer
&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0a7872161b16fc7_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f0a7872161b16fc7_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@post(&#39;/actions/quiz&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0a7872161b16fc7_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f0a7872161b16fc7_line_2">2</a></span><span>    Submit answer
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f0a7872161b16fc7_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f0a7872161b16fc7_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>One of the benefits of using SSE is that we can send multiple events (patch elements and patch signals) in a single response.</p><div class="code-switcher" data-signals:lang__ifmissing="'go'" data-persist="{include: /^lang$/}"><div class="icons"><button data-on:click="$lang = &#39;clojure&#39;" data-attr:aria-selected="`${$lang === &#39;clojure&#39;}`" title="Clojure"><iconify-icon icon="vscode-icons:file-type-clojure" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;csharp&#39;" data-attr:aria-selected="`${$lang === &#39;csharp&#39;}`" title="C#"><iconify-icon icon="vscode-icons:file-type-csharp2" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;go&#39;" data-attr:aria-selected="`${$lang === &#39;go&#39;}`" title="Go"><iconify-icon icon="vscode-icons:file-type-go" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;java&#39;" data-attr:aria-selected="`${$lang === &#39;java&#39;}`" title="Java"><iconify-icon icon="vscode-icons:file-type-java" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;kotlin&#39;" data-attr:aria-selected="`${$lang === &#39;kotlin&#39;}`" title="Kotlin"><iconify-icon icon="vscode-icons:file-type-kotlin" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;php&#39;" data-attr:aria-selected="`${$lang === &#39;php&#39;}`" title="PHP"><iconify-icon icon="vscode-icons:file-type-php3" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;python&#39;" data-attr:aria-selected="`${$lang === &#39;python&#39;}`" title="Python"><iconify-icon icon="vscode-icons:file-type-python" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;ruby&#39;" data-attr:aria-selected="`${$lang === &#39;ruby&#39;}`" title="Ruby"><iconify-icon icon="vscode-icons:file-type-ruby" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;rust&#39;" data-attr:aria-selected="`${$lang === &#39;rust&#39;}`" title="Rust"><iconify-icon icon="vscode-icons:file-type-rust" noobserver=""></iconify-icon></button><button data-on:click="$lang = &#39;typescript&#39;" data-attr:aria-selected="`${$lang === &#39;typescript&#39;}`" title="TypeScript"><iconify-icon icon="vscode-icons:file-type-typescript-official" noobserver=""></iconify-icon></button></div><div class="snippets"><div data-show="$lang === &#39;clojure&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="(d*/patch-elements! sse &#34;&lt;div id=\&#34;question\&#34;&gt;...&lt;/div&gt;&#34;)
(d*/patch-elements! sse &#34;&lt;div id=\&#34;instructions\&#34;&gt;...&lt;/div&gt;&#34;)
(d*/patch-signals! sse &#34;{answer: &#39;...&#39;, prize: &#39;...&#39;}&#34;)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1aac4d421cf9691f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1aac4d421cf9691f_line_1">1</a></span><span>(<span style="color:#d2a8ff;font-weight:bold">d*/patch-elements!</span> <span style="color:#79c0ff">sse</span> <span style="color:#a5d6ff">&#34;&lt;div id=\&#34;question\&#34;&gt;...&lt;/div&gt;&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1aac4d421cf9691f_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#1aac4d421cf9691f_line_2">2</a></span><span>(<span style="color:#d2a8ff;font-weight:bold">d*/patch-elements!</span> <span style="color:#79c0ff">sse</span> <span style="color:#a5d6ff">&#34;&lt;div id=\&#34;instructions\&#34;&gt;...&lt;/div&gt;&#34;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1aac4d421cf9691f_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#1aac4d421cf9691f_line_3">3</a></span><span>(<span style="color:#d2a8ff;font-weight:bold">d*/patch-signals!</span> <span style="color:#79c0ff">sse</span> <span style="color:#a5d6ff">&#34;{answer: &#39;...&#39;, prize: &#39;...&#39;}&#34;</span>)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;csharp&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="datastarService.PatchElementsAsync(@&#34;&lt;div id=&#34;&#34;question&#34;&#34;&gt;...&lt;/div&gt;&#34;);
datastarService.PatchElementsAsync(@&#34;&lt;div id=&#34;&#34;instructions&#34;&#34;&gt;...&lt;/div&gt;&#34;);
datastarService.PatchSignalsAsync(new { answer = &#34;...&#34;, prize = &#34;...&#34; } );"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="591772f0acb64e21_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#591772f0acb64e21_line_1">1</a></span><span>datastarService.PatchElementsAsync(<span style="color:#a5d6ff">@&#34;&lt;div id=&#34;&#34;question&#34;&#34;&gt;...&lt;/div&gt;&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="591772f0acb64e21_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#591772f0acb64e21_line_2">2</a></span><span>datastarService.PatchElementsAsync(<span style="color:#a5d6ff">@&#34;&lt;div id=&#34;&#34;instructions&#34;&#34;&gt;...&lt;/div&gt;&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="591772f0acb64e21_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#591772f0acb64e21_line_3">3</a></span><span>datastarService.PatchSignalsAsync(<span style="color:#ff7b72">new</span> { answer = <span style="color:#a5d6ff">&#34;...&#34;</span>, prize = <span style="color:#a5d6ff">&#34;...&#34;</span> } );</span></span></code></pre></div></div></div><div data-show="$lang === &#39;go&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="sse.PatchElements(`&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;`)
sse.PatchElements(`&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;`)
sse.PatchSignals([]byte(`{answer: &#39;...&#39;, prize: &#39;...&#39;}`))"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8df9058600e2a8bc_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8df9058600e2a8bc_line_1">1</a></span><span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchElements</span>(<span style="color:#a5d6ff">`&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;`</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8df9058600e2a8bc_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8df9058600e2a8bc_line_2">2</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchElements</span>(<span style="color:#a5d6ff">`&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;`</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8df9058600e2a8bc_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8df9058600e2a8bc_line_3">3</a></span><span><span style="color:#6e7681"></span>sse.<span style="color:#d2a8ff;font-weight:bold">PatchSignals</span>([]byte(<span style="color:#a5d6ff">`{answer: &#39;...&#39;, prize: &#39;...&#39;}`</span>))</span></span></code></pre></div></div></div><div data-show="$lang === &#39;java&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="generator.send(PatchElements.builder()
    .data(&#34;&lt;div id=\&#34;question\&#34;&gt;...&lt;/div&gt;&#34;)
    .build()
);
generator.send(PatchElements.builder()
    .data(&#34;&lt;div id=\&#34;instructions\&#34;&gt;...&lt;/div&gt;&#34;)
    .build()
);
generator.send(PatchSignals.builder()
    .data(&#34;{\&#34;answer\&#34;: \&#34;...\&#34;, \&#34;prize\&#34;: \&#34;...\&#34;}&#34;)
    .build()
);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_1"> 1</a></span><span>generator.send(PatchElements.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_2"> 2</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;&lt;div id=\&#34;question\&#34;&gt;...&lt;/div&gt;&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_3"> 3</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_4"> 4</a></span><span><span style="color:#6e7681"></span>);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_5"> 5</a></span><span><span style="color:#6e7681"></span>generator.send(PatchElements.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_6"> 6</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;&lt;div id=\&#34;instructions\&#34;&gt;...&lt;/div&gt;&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_7"> 7</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_8"> 8</a></span><span><span style="color:#6e7681"></span>);<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_9"> 9</a></span><span><span style="color:#6e7681"></span>generator.send(PatchSignals.builder()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_10">10</a></span><span><span style="color:#6e7681">    </span>.data(<span style="color:#a5d6ff">&#34;{\&#34;answer\&#34;: \&#34;...\&#34;, \&#34;prize\&#34;: \&#34;...\&#34;}&#34;</span>)<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_11">11</a></span><span><span style="color:#6e7681">    </span>.build()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="32f2ae5f635f04b0_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#32f2ae5f635f04b0_line_12">12</a></span><span><span style="color:#6e7681"></span>);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;kotlin&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="generator.patchElements(
    elements = &#34;&#34;&#34;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#34;&#34;&#34;,
)
generator.patchElements(
    elements = &#34;&#34;&#34;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#34;&#34;&#34;,
)
generator.patchSignals(
    signals = &#34;&#34;&#34;{&#34;answer&#34;: &#34;...&#34;, &#34;prize&#34;: &#34;...&#34;}&#34;&#34;&#34;,
)"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_1">1</a></span><span>generator.patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_2">2</a></span><span>    elements = <span style="color:#a5d6ff">&#34;&#34;&#34;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_3">3</a></span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_4">4</a></span><span>generator.patchElements(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_5">5</a></span><span>    elements = <span style="color:#a5d6ff">&#34;&#34;&#34;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_6">6</a></span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_7">7</a></span><span>generator.patchSignals(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_8">8</a></span><span>    signals = <span style="color:#a5d6ff">&#34;&#34;&#34;{&#34;answer&#34;: &#34;...&#34;, &#34;prize&#34;: &#34;...&#34;}&#34;&#34;&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="639d71ead242a22a_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#639d71ead242a22a_line_9">9</a></span><span>)</span></span></code></pre></div></div></div><div data-show="$lang === &#39;php&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="$sse-&gt;patchElements(&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;);
$sse-&gt;patchElements(&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;);
$sse-&gt;patchSignals([&#39;answer&#39; =&gt; &#39;...&#39;, &#39;prize&#39; =&gt; &#39;...&#39;]);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="368e760ea71befdb_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#368e760ea71befdb_line_1">1</a></span><span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchElements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="368e760ea71befdb_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#368e760ea71befdb_line_2">2</a></span><span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchElements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="368e760ea71befdb_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#368e760ea71befdb_line_3">3</a></span><span><span style="color:#79c0ff">$sse</span><span style="color:#ff7b72;font-weight:bold">-&gt;</span>patchSignals([<span style="color:#a5d6ff">&#39;answer&#39;</span> <span style="color:#ff7b72;font-weight:bold">=&gt;</span> <span style="color:#a5d6ff">&#39;...&#39;</span>, <span style="color:#a5d6ff">&#39;prize&#39;</span> <span style="color:#ff7b72;font-weight:bold">=&gt;</span> <span style="color:#a5d6ff">&#39;...&#39;</span>]);</span></span></code></pre></div></div></div><div data-show="$lang === &#39;python&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="return DatastarResponse([
    SSE.patch_elements(&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;),
    SSE.patch_elements(&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;),
    SSE.patch_signals({&#34;answer&#34;: &#34;...&#34;, &#34;prize&#34;: &#34;...&#34;})
])"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="239147165cc4c1f5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#239147165cc4c1f5_line_1">1</a></span><span><span style="color:#ff7b72">return</span> DatastarResponse([
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="239147165cc4c1f5_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#239147165cc4c1f5_line_2">2</a></span><span>    SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;</span>),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="239147165cc4c1f5_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#239147165cc4c1f5_line_3">3</a></span><span>    SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;</span>),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="239147165cc4c1f5_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#239147165cc4c1f5_line_4">4</a></span><span>    SSE<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals({<span style="color:#a5d6ff">&#34;answer&#34;</span>: <span style="color:#a5d6ff">&#34;...&#34;</span>, <span style="color:#a5d6ff">&#34;prize&#34;</span>: <span style="color:#a5d6ff">&#34;...&#34;</span>})
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="239147165cc4c1f5_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#239147165cc4c1f5_line_5">5</a></span><span>])</span></span></code></pre></div></div></div><div data-show="$lang === &#39;ruby&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="datastar.stream do |sse|
  sse.patch_elements(&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;)
  sse.patch_elements(&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;)
  sse.patch_signals(answer: &#39;...&#39;, prize: &#39;...&#39;)
end"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="83ebc500e25f9d0f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#83ebc500e25f9d0f_line_1">1</a></span><span>datastar<span style="color:#ff7b72;font-weight:bold">.</span>stream <span style="color:#ff7b72">do</span> <span style="color:#ff7b72;font-weight:bold">|</span>sse<span style="color:#ff7b72;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="83ebc500e25f9d0f_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#83ebc500e25f9d0f_line_2">2</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="83ebc500e25f9d0f_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#83ebc500e25f9d0f_line_3">3</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_elements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="83ebc500e25f9d0f_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#83ebc500e25f9d0f_line_4">4</a></span><span>  sse<span style="color:#ff7b72;font-weight:bold">.</span>patch_signals(<span style="color:#a5d6ff">answer</span>: <span style="color:#a5d6ff">&#39;...&#39;</span>, <span style="color:#a5d6ff">prize</span>: <span style="color:#a5d6ff">&#39;...&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="83ebc500e25f9d0f_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#83ebc500e25f9d0f_line_5">5</a></span><span><span style="color:#ff7b72">end</span></span></span></code></pre></div></div></div><div data-show="$lang === &#39;rust&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="yield PatchElements::new(&#34;&lt;div id=&#39;question&#39;&gt;...&lt;/div&gt;&#34;).into()
yield PatchElements::new(&#34;&lt;div id=&#39;instructions&#39;&gt;...&lt;/div&gt;&#34;).into()
yield PatchSignals::new(&#34;{answer: &#39;...&#39;, prize: &#39;...&#39;}&#34;).into()"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="116b68b28285f6a6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#116b68b28285f6a6_line_1">1</a></span><span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchElements::new(<span style="color:#a5d6ff">&#34;&lt;div id=&#39;question&#39;&gt;...&lt;/div&gt;&#34;</span>).into()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="116b68b28285f6a6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#116b68b28285f6a6_line_2">2</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchElements::new(<span style="color:#a5d6ff">&#34;&lt;div id=&#39;instructions&#39;&gt;...&lt;/div&gt;&#34;</span>).into()<span style="color:#6e7681">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="116b68b28285f6a6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#116b68b28285f6a6_line_3">3</a></span><span><span style="color:#6e7681"></span><span style="color:#ff7b72">yield</span><span style="color:#6e7681"> </span>PatchSignals::new(<span style="color:#a5d6ff">&#34;{answer: &#39;...&#39;, prize: &#39;...&#39;}&#34;</span>).into()</span></span></code></pre></div></div></div><div data-show="$lang === &#39;typescript&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="stream.patchElements(&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;);
stream.patchElements(&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;);
stream.patchSignals({&#39;answer&#39;: &#39;...&#39;, &#39;prize&#39;: &#39;...&#39;});"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5ad3b79e666da8c7_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5ad3b79e666da8c7_line_1">1</a></span><span>stream.patchElements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;question&#34;&gt;...&lt;/div&gt;&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5ad3b79e666da8c7_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5ad3b79e666da8c7_line_2">2</a></span><span>stream.patchElements(<span style="color:#a5d6ff">&#39;&lt;div id=&#34;instructions&#34;&gt;...&lt;/div&gt;&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5ad3b79e666da8c7_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#5ad3b79e666da8c7_line_3">3</a></span><span>stream.patchSignals({<span style="color:#a5d6ff">&#39;answer&#39;</span><span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;...&#39;</span>, <span style="color:#a5d6ff">&#39;prize&#39;</span><span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;...&#39;</span>});</span></span></code></pre></div></div></div></div></div><blockquote>In addition to your browser’s dev tools, the <a href="/datastar_pro#datastar-inspector">Datastar Inspector</a> can be used to monitor and inspect SSE events received by Datastar.</blockquote><p>Read more about SSE events in the <a href="/reference/sse_events">reference</a>.</p><h2 id="congratulations">Congratulations <a href="#congratulations" class="anchor">#</a></h2><p>You’ve actually read the entire guide! You should now know how to use Datastar to build reactive applications that communicate with the backend using backend requests and SSE events.</p><p>Feel free to dive into the <a href="/reference">reference</a> and explore the <a href="/examples">examples</a> next, to learn more about what you can do with Datastar.</p><h1 id="the_tao_of_datastar">The Tao of Datastar</h1><p>Datastar is just a tool. The Tao of Datastar, or “the Datastar way” as it is often referred to, is a set of opinions from the core team on how to best use Datastar to build maintainable, scalable, high-performance web apps. </p><p>Ignore them at your own peril!</p><img srcset="/cdn-cgi/image/format=auto,width=640/static/images/tao-of-datastar-454a92131f2d9d30fb17c6e1c86b56833717cc5e25c318738cfa225b0b3c69f0.png 1x, /cdn-cgi/image/format=auto,width=1280/static/images/tao-of-datastar-454a92131f2d9d30fb17c6e1c86b56833717cc5e25c318738cfa225b0b3c69f0.png 2x" src="/cdn-cgi/image/format=auto,width=640/static/images/tao-of-datastar-454a92131f2d9d30fb17c6e1c86b56833717cc5e25c318738cfa225b0b3c69f0.png" alt="The Tao of Datastar" width="640" height="208" loading=""><h2 id="state-in-the-right-place">State in the Right Place <a href="#state-in-the-right-place" class="anchor">#</a></h2><p>Most state should live in the backend. Since the frontend is exposed to the user, the backend should be the source of truth for your application state.</p><h2 id="start-with-the-defaults">Start with the Defaults <a href="#start-with-the-defaults" class="anchor">#</a></h2><p>The default configuration options are the recommended settings for the majority of applications. Start with the defaults, and before you ever get tempted to change them, stop and ask yourself, <a href="https://youtu.be/5IsSpAOD6K8" target="_blank" rel="noopener noreferrer">well ... how did I get here?</a></p><h2 id="patch-elements-&amp;-signals">Patch Elements &amp; Signals <a href="#patch-elements-&amp;-signals" class="anchor">#</a></h2><p>Since the backend is the source of truth, it should <em>drive</em> the frontend by <strong>patching</strong> (adding, updating and removing) HTML elements and signals.</p><h2 id="use-signals-sparingly">Use Signals Sparingly <a href="#use-signals-sparingly" class="anchor">#</a></h2><p>Overusing signals typically indicates trying to manage state on the frontend. Favor fetching current state from the backend rather than pre-loading and assuming frontend state is current. A good rule of thumb is to <em>only</em> use signals for user interactions (e.g. toggling element visibility) and for sending new state to the backend (e.g. by binding signals to form input elements).</p><h2 id="in-morph-we-trust">In Morph We Trust <a href="#in-morph-we-trust" class="anchor">#</a></h2><p>Morphing ensures that only modified parts of the DOM are updated, preserving state and improving performance. This allows you to send down large chunks of the DOM tree (all the way up to the <code>html</code> tag), sometimes known as “fat morph”, rather than trying to manage fine-grained updates yourself. If you want to explicitly ignore morphing an element, place the <a href="/reference/attributes#data-ignore-morph"><code>data-ignore-morph</code></a> attribute on it.</p><h2 id="sse-responses">SSE Responses <a href="#sse-responses" class="anchor">#</a></h2><p><a href="https://html.spec.whatwg.org/multipage/server-sent-events.html" target="_blank" rel="noopener noreferrer">SSE</a> responses allow you to send <code>0</code> to <code>n</code> events, in which you can <a href="/guide/getting_started/#patching-elements">patch elements</a>, <a href="/guide/reactive_signals#patching-signals">patch signals</a>, and <a href="/guide/datastar_expressions#executing-scripts">execute scripts</a>. Since event streams are just HTTP responses with some special formatting that <a href="/reference/sdks">SDKs</a> can handle for you, there’s no real benefit to using a content type other than <a href="/reference/actions#response-handling"><code>text/event-stream</code></a>.</p><h2 id="compression">Compression <a href="#compression" class="anchor">#</a></h2><p>Since SSE responses stream events from the backend and morphing allows sending large chunks of DOM, compressing the response is a natural choice. Compression ratios of 200:1 are not uncommon when compressing streams using Brotli. Read more about compressing streams in <a href="https://andersmurphy.com/2025/04/15/why-you-should-use-brotli-sse.html" target="_blank" rel="noopener noreferrer">this article</a>.</p><h2 id="backend-templating">Backend Templating <a href="#backend-templating" class="anchor">#</a></h2><p>Since your backend generates your HTML, you can and should use your templating language to <a href="/how_tos/keep_datastar_code_dry">keep things DRY</a> (Don’t Repeat Yourself).</p><h2 id="page-navigation">Page Navigation <a href="#page-navigation" class="anchor">#</a></h2><p>Page navigation hasn't changed in 30 years. Use the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/a" target="_blank" rel="noopener noreferrer">anchor element</a> (<code>&lt;a&gt;</code>) to navigate to a new page, or a <a href="/how_tos/redirect_the_page_from_the_backend">redirect</a> if redirecting from the backend. For smooth page transitions, use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API" target="_blank" rel="noopener noreferrer">View Transition API</a>.</p><h2 id="browser-history">Browser History <a href="#browser-history" class="anchor">#</a></h2><p>Browsers automatically keep a history of pages visited. As soon as you start trying to manage browser history yourself, you are adding complexity. Each page is a resource. Use anchor tags and let the browser do what it is good at.</p><h2 id="cqrs">CQRS <a href="#cqrs" class="anchor">#</a></h2><p><a href="https://martinfowler.com/bliki/CQRS.html" target="_blank" rel="noopener noreferrer">CQRS</a>, in which commands (writes) and requests (reads) are segregated, makes it possible to have a single long-lived request to receive updates from the backend (reads), while making multiple short-lived requests to the backend (writes). It is a powerful pattern that makes real-time collaboration simple using Datastar. Here’s a basic example.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div id=&#34;main&#34; data-init=&#34;@get(&#39;/cqrs_endpoint&#39;)&#34;&gt;
    &lt;button data-on:click=&#34;@post(&#39;/do_something&#39;)&#34;&gt;
        Do something
    &lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ac001275ba80a0d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ac001275ba80a0d_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> id<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;main&#34;</span> data-init<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/cqrs_endpoint&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ac001275ba80a0d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#ac001275ba80a0d_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@post(&#39;/do_something&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ac001275ba80a0d_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#ac001275ba80a0d_line_3">3</a></span><span>        Do something
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ac001275ba80a0d_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#ac001275ba80a0d_line_4">4</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ac001275ba80a0d_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#ac001275ba80a0d_line_5">5</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="loading-indicators">Loading Indicators <a href="#loading-indicators" class="anchor">#</a></h2><p>Loading indicators inform the user that an action is in progress. Use the <a href="/reference/attributes#data-indicator"><code>data-indicator</code></a> attribute to show loading indicators on elements that trigger backend requests. Here’s an example of a button that shows a loading element while waiting for a response from the backend.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div&gt;
    &lt;button data-indicator:_loading
            data-on:click=&#34;@post(&#39;/do_something&#39;)&#34;
    &gt;
        Do something
        &lt;span data-show=&#34;$_loading&#34;&gt;Loading...&lt;/span&gt;
    &lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-indicator:_loading
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_3">3</a></span><span>            data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@post(&#39;/do_something&#39;)&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_4">4</a></span><span>    &gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_5">5</a></span><span>        Do something
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_6">6</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$_loading&#34;</span>&gt;Loading...&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_7">7</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c34a586abfb2b0c3_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#c34a586abfb2b0c3_line_8">8</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>When using <a href="#cqrs">CQRS</a>, it is generally better to manually show a loading indicator when backend requests are made, and allow it to be hidden when the DOM is updated from the backend. Here’s an example.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div&gt;
    &lt;button data-on:click=&#34;el.classList.add(&#39;loading&#39;); @post(&#39;/do_something&#39;)&#34;&gt;
        Do something
        &lt;span&gt;Loading...&lt;/span&gt;
    &lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aa9f10067a4ce8f6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#aa9f10067a4ce8f6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aa9f10067a4ce8f6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#aa9f10067a4ce8f6_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;el.classList.add(&#39;loading&#39;); @post(&#39;/do_something&#39;)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aa9f10067a4ce8f6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#aa9f10067a4ce8f6_line_3">3</a></span><span>        Do something
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aa9f10067a4ce8f6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#aa9f10067a4ce8f6_line_4">4</a></span><span>        &lt;<span style="color:#7ee787">span</span>&gt;Loading...&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aa9f10067a4ce8f6_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#aa9f10067a4ce8f6_line_5">5</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="aa9f10067a4ce8f6_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#aa9f10067a4ce8f6_line_6">6</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="optimistic-updates">Optimistic Updates <a href="#optimistic-updates" class="anchor">#</a></h2><p>Optimistic updates (also known as optimistic UI) are when the UI updates immediately as if an operation succeeded, before the backend actually confirms it. It is a strategy used to makes web apps feel snappier, when it in fact deceives the user. Imagine seeing a confirmation message that an action succeeded, only to be shown a second later that it actually failed. Rather than deceive the user, use <a href="#loading-indicators">loading indicators</a> to show the user that the action is in progress, and only confirm success from the backend (see <a href="/examples/rocket_flow">this example</a>).</p><h2 id="accessibility">Accessibility <a href="#accessibility" class="anchor">#</a></h2><p>The web should be accessible to everyone. Datastar stays out of your way and leaves <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" target="_blank" rel="noopener noreferrer">accessibility</a> to you. Use semantic HTML, apply ARIA where it makes sense, and ensure your app works well with keyboards and screen readers. Here’s an example of using a<a href="/reference/attributes#data-attr"><code>data-attr</code></a> to apply ARIA attributes to a button than toggles the visibility of a menu.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;$_menuOpen = !$_menuOpen&#34;
        data-attr:aria-expanded=&#34;$_menuOpen ? &#39;true&#39; : &#39;false&#39;&#34;
&gt;
    Open/Close Menu
&lt;/button&gt;
&lt;div data-attr:aria-hidden=&#34;$_menuOpen ? &#39;false&#39; : &#39;true&#39;&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7dc1585f13abcc0a_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7dc1585f13abcc0a_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$_menuOpen = !$_menuOpen&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7dc1585f13abcc0a_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#7dc1585f13abcc0a_line_2">2</a></span><span>        data-attr:aria-expanded<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$_menuOpen ? &#39;true&#39; : &#39;false&#39;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7dc1585f13abcc0a_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#7dc1585f13abcc0a_line_3">3</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7dc1585f13abcc0a_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#7dc1585f13abcc0a_line_4">4</a></span><span>    Open/Close Menu
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7dc1585f13abcc0a_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#7dc1585f13abcc0a_line_5">5</a></span><span>&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7dc1585f13abcc0a_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#7dc1585f13abcc0a_line_6">6</a></span><span>&lt;<span style="color:#7ee787">div</span> data-attr:aria-hidden<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$_menuOpen ? &#39;false&#39; : &#39;true&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h1 id="reference">Reference</h1><h1 id="attributes">Attributes</h1><p>Data attributes are evaluated in the <a href="#attribute-order">order</a> they appear in the DOM, have special <a href="#attribute-casing">casing</a> rules, can be <a href="#aliasing-attributes">aliased</a> to avoid conflicts with other libraries, can contain <a href="#datastar-expressions">Datastar expressions</a>, and have <a href="#error-handling">runtime error handling</a>.</p><blockquote>The Datastar <a href="https://marketplace.visualstudio.com/items?itemName=starfederation.datastar-vscode" target="_blank" rel="noopener noreferrer">VSCode extension</a> and <a href="https://plugins.jetbrains.com/plugin/26072-datastar-support" target="_blank" rel="noopener noreferrer">IntelliJ plugin</a> provide autocompletion for all available <code>data-*</code> attributes.</blockquote><h3 id="data-attr"><code>data-attr</code> <a href="#data-attr" class="anchor">#</a></h3><p>Sets the value of any HTML attribute to an expression, and keeps it in sync.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-attr:aria-label=&#34;$foo&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="49c7d8d22db9f991_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#49c7d8d22db9f991_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-attr:aria-label<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The <code>data-attr</code> attribute can also be used to set the values of multiple attributes on an element using a set of key-value pairs, where the keys represent attribute names and the values represent expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-attr=&#34;{&#39;aria-label&#39;: $foo, disabled: $bar}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c5354887bed957f2_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c5354887bed957f2_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-attr<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{&#39;aria-label&#39;: $foo, disabled: $bar}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-bind"><code>data-bind</code> <a href="#data-bind" class="anchor">#</a></h3><p>Creates a signal (if one doesn’t already exist) and sets up two-way data binding between it and an element’s value. This means that the value of the element is updated when the signal changes, and the signal value is updated when the value of the element changes.</p><p>The <code>data-bind</code> attribute can be placed on any HTML element on which data can be input or choices selected (<code>input</code>, <code>select</code>, <code>textarea</code> elements, and web components). Event listeners are added for <code>change</code> and <code>input</code> events.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1aa82f18409e6833_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1aa82f18409e6833_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo /&gt;</span></span></code></pre></div></div><p>The signal name can be specified in the key (as above), or in the value (as below). This can be useful depending on the templating language you are using.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind=&#34;foo&#34; /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4a15fa907a9b981_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4a15fa907a9b981_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;foo&#34;</span> /&gt;</span></span></code></pre></div></div><p><a href="#attribute-casing">Attribute casing</a> rules apply to the signal name.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Both of these create the signal `$fooBar` --&gt;
&lt;input data-bind:foo-bar /&gt;
&lt;input data-bind=&#34;fooBar&#34; /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c6efd52b4fcb2a9_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4c6efd52b4fcb2a9_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Both of these create the signal `$fooBar` --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c6efd52b4fcb2a9_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#4c6efd52b4fcb2a9_line_2">2</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c6efd52b4fcb2a9_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#4c6efd52b4fcb2a9_line_3">3</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;fooBar&#34;</span> /&gt;</span></span></code></pre></div></div><p>The initial value of the signal is set to the value of the element, unless a signal has already been defined. So in the example below, <code>$foo</code> is set to <code>bar</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:foo-bar value=&#34;baz&#34; /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="33aa94cb975783ea_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#33aa94cb975783ea_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:foo-bar value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;baz&#34;</span> /&gt;</span></span></code></pre></div></div><p>Whereas in the example below, <code>$foo</code> inherits the value <code>baz</code> of the predefined signal.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo-bar=&#34;baz&#34;&gt;
    &lt;input data-bind:foo-bar value=&#34;bar&#34; /&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e735123d0ba81dd6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#e735123d0ba81dd6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo-bar<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;baz&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e735123d0ba81dd6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#e735123d0ba81dd6_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo-bar value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;bar&#34;</span> /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e735123d0ba81dd6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#e735123d0ba81dd6_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4 id="predefined-signal-types">Predefined Signal Types</h4><p>When you predefine a signal, its <strong>type</strong> is preserved during binding. Whenever the element’s value changes, the signal value is automatically converted to match the original type. </p><p>For example, in the code below, <code>$fooBar</code> is set to the <strong>number</strong> <code>10</code> (not the string <code>"10"</code>) when the option is selected.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo-bar=&#34;0&#34;&gt;
    &lt;select data-bind:foo-bar&gt;
        &lt;option value=&#34;10&#34;&gt;10&lt;/option&gt;
    &lt;/select&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1121ca3cb8c57f6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a1121ca3cb8c57f6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo-bar<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;0&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1121ca3cb8c57f6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a1121ca3cb8c57f6_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">select</span> data-bind:foo-bar&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1121ca3cb8c57f6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a1121ca3cb8c57f6_line_3">3</a></span><span>        &lt;<span style="color:#7ee787">option</span> value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;10&#34;</span>&gt;10&lt;/<span style="color:#7ee787">option</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1121ca3cb8c57f6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#a1121ca3cb8c57f6_line_4">4</a></span><span>    &lt;/<span style="color:#7ee787">select</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a1121ca3cb8c57f6_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#a1121ca3cb8c57f6_line_5">5</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>In the same way, you can assign multiple input values to a single signal by predefining it as an <strong>array</strong>. In the example below, <code>$fooBar</code> becomes <code>["bar", "baz"]</code> when both checkboxes are checked, and <code>["", ""]</code> when neither is checked.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo-bar=&#34;[]&#34;&gt;
    &lt;input data-bind:foo-bar type=&#34;checkbox&#34; value=&#34;bar&#34; /&gt;
    &lt;input data-bind:foo-bar type=&#34;checkbox&#34; value=&#34;baz&#34; /&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a07c065a95046e12_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a07c065a95046e12_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo-bar<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;[]&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a07c065a95046e12_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a07c065a95046e12_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo-bar type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;checkbox&#34;</span> value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;bar&#34;</span> /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a07c065a95046e12_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a07c065a95046e12_line_3">3</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo-bar type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;checkbox&#34;</span> value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;baz&#34;</span> /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a07c065a95046e12_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#a07c065a95046e12_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4 id="file-uploads">File Uploads</h4><p>Input fields of type <code>file</code> will automatically encode file contents in base64. This means that a form is not required.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input type=&#34;file&#34; data-bind:files multiple /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="81b6d6ef3158b9c4_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#81b6d6ef3158b9c4_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;file&#34;</span> data-bind:files multiple /&gt;</span></span></code></pre></div></div><p>The resulting signal is in the format <code>{ name: string, contents: string, mime: string }[]</code>. See the <a href="/examples/file_upload">file upload</a> example.</p><blockquote>If you want files to be uploaded to the server, rather than be converted to signals, use a form and with <code>multipart/form-data</code> in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/enctype" target="_blank" rel="noopener noreferrer"><code>enctype</code></a> attribute. See the <a href="/reference/actions#backend-actions">backend actions</a> reference.</blockquote><h4>Modifiers</h4><p>Modifiers allow you to modify behavior when binding signals using a key.</p><ul><li><code>__case</code> – Converts the casing of the signal name.<ul><li><code>.camel</code> – Camel case: <code>mySignal</code> (default)</li><li><code>.kebab</code> – Kebab case: <code>my-signal</code></li><li><code>.snake</code> – Snake case: <code>my_signal</code></li><li><code>.pascal</code> – Pascal case: <code>MySignal</code></li></ul></li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;input data-bind:my-signal__case.kebab /&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1ef322104b48c811_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1ef322104b48c811_line_1">1</a></span><span>&lt;<span style="color:#7ee787">input</span> data-bind:my-signal__case<span style="color:#f85149">.</span>kebab /&gt;</span></span></code></pre></div></div><h3 id="data-class"><code>data-class</code> <a href="#data-class" class="anchor">#</a></h3><p>Adds or removes a class to or from an element based on an expression.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-class:font-bold=&#34;$foo == &#39;strong&#39;&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5a31e74a6240ac65_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5a31e74a6240ac65_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-class:font-bold<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo == &#39;strong&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>If the expression evaluates to <code>true</code>, the <code>hidden</code> class is added to the element; otherwise, it is removed.</p><p>The <code>data-class</code> attribute can also be used to add or remove multiple classes from an element using a set of key-value pairs, where the keys represent class names and the values represent expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-class=&#34;{success: $foo != &#39;&#39;, &#39;font-bold&#39;: $foo == &#39;strong&#39;}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="16971874e05d4886_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#16971874e05d4886_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{success: $foo != &#39;&#39;, &#39;font-bold&#39;: $foo == &#39;strong&#39;}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify behavior when defining a class name using a key.</p><ul><li><code>__case</code> – Converts the casing of the class.<ul><li><code>.camel</code> – Camel case: <code>myClass</code></li><li><code>.kebab</code> – Kebab case: <code>my-class</code> (default)</li><li><code>.snake</code> – Snake case: <code>my_class</code></li><li><code>.pascal</code> – Pascal case: <code>MyClass</code></li></ul></li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-class:my-class__case.camel=&#34;$foo&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="407efce1d5e91bd7_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#407efce1d5e91bd7_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-class:my-class__case<span style="color:#f85149">.</span>camel<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-computed"><code>data-computed</code> <a href="#data-computed" class="anchor">#</a></h3><p>Creates a signal that is computed based on an expression. The computed signal is read-only, and its value is automatically updated when any signals in the expression are updated.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-computed:foo=&#34;$bar + $baz&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="711bb2ed688f69f5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#711bb2ed688f69f5_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-computed:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$bar + $baz&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Computed signals are useful for memoizing expressions containing other signals. Their values can be used in other expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-computed:foo=&#34;$bar + $baz&#34;&gt;&lt;/div&gt;
&lt;div data-text=&#34;$foo&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bcff77c1dbeba35_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#bcff77c1dbeba35_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-computed:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$bar + $baz&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="bcff77c1dbeba35_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#bcff77c1dbeba35_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><blockquote>Computed signal expressions must not be used for performing actions (changing other signals, actions, JavaScript functions, etc.). If you need to perform an action in response to a signal change, use the <a href="#data-effect"><code>data-effect</code></a> attribute.</blockquote><p>The <code>data-computed</code> attribute can also be used to create computed signals using a set of key-value pairs, where the keys represent signal names and the values are callables (usually arrow functions) that return a reactive value.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-computed=&#34;{foo: () =&gt; $bar + $baz}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="168751973cd8a293_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#168751973cd8a293_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-computed<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{foo: () =&gt; $bar + $baz}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify behavior when defining computed signals using a key.</p><ul><li><code>__case</code> – Converts the casing of the signal name.<ul><li><code>.camel</code> – Camel case: <code>mySignal</code> (default)</li><li><code>.kebab</code> – Kebab case: <code>my-signal</code></li><li><code>.snake</code> – Snake case: <code>my_signal</code></li><li><code>.pascal</code> – Pascal case: <code>MySignal</code></li></ul></li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-computed:my-signal__case.kebab=&#34;$bar + $baz&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7c17369d67347358_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7c17369d67347358_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-computed:my-signal__case<span style="color:#f85149">.</span>kebab<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$bar + $baz&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-effect"><code>data-effect</code> <a href="#data-effect" class="anchor">#</a></h3><p>Executes an expression on page load and whenever any signals in the expression change. This is useful for performing side effects, such as updating other signals, making requests to the backend, or manipulating the DOM.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-effect=&#34;$foo = $bar + $baz&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="52169c7b87044250_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#52169c7b87044250_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-effect<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo = $bar + $baz&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-ignore"><code>data-ignore</code> <a href="#data-ignore" class="anchor">#</a></h3><p>Datastar walks the entire DOM and applies plugins to each element it encounters. It’s possible to tell Datastar to ignore an element and its descendants by placing a <code>data-ignore</code> attribute on it. This can be useful for preventing naming conflicts with third-party libraries, or when you are unable to <a href="/reference/security#escape-user-input">escape user input</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-ignore data-show-thirdpartylib=&#34;&#34;&gt;
    &lt;div&gt;
        Datastar will not process this element.
    &lt;/div&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7e3f40859b67b509_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7e3f40859b67b509_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-ignore data-show-thirdpartylib<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7e3f40859b67b509_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#7e3f40859b67b509_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7e3f40859b67b509_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#7e3f40859b67b509_line_3">3</a></span><span>        Datastar will not process this element.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7e3f40859b67b509_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#7e3f40859b67b509_line_4">4</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7e3f40859b67b509_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#7e3f40859b67b509_line_5">5</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><ul><li><code>__self</code> – Only ignore the element itself, not its descendants.</li></ul><h3 id="data-ignore-morph"><code>data-ignore-morph</code> <a href="#data-ignore-morph" class="anchor">#</a></h3><p>Similar to the <code>data-ignore</code> attribute, the <code>data-ignore-morph</code> attribute tells the <code>PatchElements</code> watcher to skip processing an element and its children when morphing elements.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-ignore-morph&gt;
    This element will not be morphed.
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2d35b2f064fea3e0_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2d35b2f064fea3e0_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-ignore-morph&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2d35b2f064fea3e0_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2d35b2f064fea3e0_line_2">2</a></span><span>    This element will not be morphed.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2d35b2f064fea3e0_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2d35b2f064fea3e0_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><blockquote>To remove the <code>data-ignore-morph</code> attribute from an element, simply patch the element with the <code>data-ignore-morph</code> attribute removed.</blockquote><h3 id="data-indicator"><code>data-indicator</code> <a href="#data-indicator" class="anchor">#</a></h3><p>Creates a signal and sets its value to <code>true</code> while a fetch request is in flight, otherwise <code>false</code>. The signal can be used to show a loading indicator.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;)&#34;
        data-indicator:fetching
&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5111108ae34be11c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5111108ae34be11c_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5111108ae34be11c_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5111108ae34be11c_line_2">2</a></span><span>        data-indicator:fetching
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5111108ae34be11c_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#5111108ae34be11c_line_3">3</a></span><span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>This can be useful for showing a loading spinner, disabling a button, etc.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;)&#34;
        data-indicator:fetching
        data-attr:disabled=&#34;$fetching&#34;
&gt;&lt;/button&gt;
&lt;div data-show=&#34;$fetching&#34;&gt;Loading...&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ad52ca43edbd52f6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ad52ca43edbd52f6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ad52ca43edbd52f6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#ad52ca43edbd52f6_line_2">2</a></span><span>        data-indicator:fetching
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ad52ca43edbd52f6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#ad52ca43edbd52f6_line_3">3</a></span><span>        data-attr:disabled<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fetching&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ad52ca43edbd52f6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#ad52ca43edbd52f6_line_4">4</a></span><span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ad52ca43edbd52f6_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#ad52ca43edbd52f6_line_5">5</a></span><span>&lt;<span style="color:#7ee787">div</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fetching&#34;</span>&gt;Loading...&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The signal name can be specified in the key (as above), or in the value (as below). This can be useful depending on the templating language you are using.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-indicator=&#34;fetching&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="36129ae82d8ac88e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#36129ae82d8ac88e_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-indicator<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;fetching&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>When using <code>data-indicator</code> with a fetch request initiated in a <code>data-init</code> attribute, you should ensure that the indicator signal is created before the fetch request is initialized.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-indicator:fetching data-init=&#34;@get(&#39;/endpoint&#39;)&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c20c6ae7a8d8578d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c20c6ae7a8d8578d_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-indicator:fetching data-init<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify behavior when defining indicator signals using a key.</p><ul><li><code>__case</code> – Converts the casing of the signal name.<ul><li><code>.camel</code> – Camel case: <code>mySignal</code> (default)</li><li><code>.kebab</code> – Kebab case: <code>my-signal</code></li><li><code>.snake</code> – Snake case: <code>my_signal</code></li><li><code>.pascal</code> – Pascal case: <code>MySignal</code></li></ul></li></ul><h3 id="data-init"><code>data-init</code> <a href="#data-init" class="anchor">#</a></h3><p>Runs an expression when the attribute is initialized. This can happen on page load, when an element is patched into the DOM, and any time the attribute is modified (via a backend action or otherwise).</p><blockquote>The expression contained in the <a href="#data-init"><code>data-init</code></a> attribute is executed when the element attribute is loaded into the DOM. This can happen on page load, when an element is patched into the DOM, and any time the attribute is modified (via a backend action or otherwise).</blockquote><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-init=&#34;$count = 1&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="555a134c53c15392_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#555a134c53c15392_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-init<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count = 1&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to add a delay to the event listener.</p><ul><li><code>__delay</code> – Delay the event listener.<ul><li><code>.500ms</code> – Delay for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Delay for 1 second (accepts any integer).</li></ul></li><li><code>__viewtransition</code> – Wraps the expression in <code>document.startViewTransition()</code> when the View Transition API is available.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-init__delay.500ms=&#34;$count = 1&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6289dc4a58cf571f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#6289dc4a58cf571f_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-init__delay<span style="color:#f85149">.</span>500ms<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count = 1&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-json-signals"><code>data-json-signals</code> <a href="#data-json-signals" class="anchor">#</a></h3><p>Sets the text content of an element to a reactive JSON stringified version of signals. Useful when troubleshooting an issue.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Display all signals --&gt;
&lt;pre data-json-signals&gt;&lt;/pre&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="63ba6a6b94fc5520_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#63ba6a6b94fc5520_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Display all signals --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="63ba6a6b94fc5520_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#63ba6a6b94fc5520_line_2">2</a></span><span>&lt;<span style="color:#7ee787">pre</span> data-json-signals&gt;&lt;/<span style="color:#7ee787">pre</span>&gt;</span></span></code></pre></div></div><p>You can optionally provide a filter object to include or exclude specific signals using regular expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Only show signals that include &#34;user&#34; in their path --&gt;
&lt;pre data-json-signals=&#34;{include: /user/}&#34;&gt;&lt;/pre&gt;

&lt;!-- Show all signals except those ending in &#34;temp&#34; --&gt;
&lt;pre data-json-signals=&#34;{exclude: /temp$/}&#34;&gt;&lt;/pre&gt;

&lt;!-- Combine include and exclude filters --&gt;
&lt;pre data-json-signals=&#34;{include: /^app/, exclude: /password/}&#34;&gt;&lt;/pre&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Only show signals that include &#34;user&#34; in their path --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_2">2</a></span><span>&lt;<span style="color:#7ee787">pre</span> data-json-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{include: /user/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">pre</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Show all signals except those ending in &#34;temp&#34; --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_5">5</a></span><span>&lt;<span style="color:#7ee787">pre</span> data-json-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{exclude: /temp$/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">pre</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_6">6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_7">7</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Combine include and exclude filters --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b2ee20ada6734726_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#b2ee20ada6734726_line_8">8</a></span><span>&lt;<span style="color:#7ee787">pre</span> data-json-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{include: /^app/, exclude: /password/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">pre</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify the output format.</p><ul><li><code>__terse</code> – Outputs a more compact JSON format without extra whitespace. Useful for displaying filtered data inline.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Display filtered signals in a compact format --&gt;
&lt;pre data-json-signals__terse=&#34;{include: /counter/}&#34;&gt;&lt;/pre&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2deefb0ea63e7272_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2deefb0ea63e7272_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Display filtered signals in a compact format --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2deefb0ea63e7272_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2deefb0ea63e7272_line_2">2</a></span><span>&lt;<span style="color:#7ee787">pre</span> data-json-signals__terse<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{include: /counter/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">pre</span>&gt;</span></span></code></pre></div></div><h3 id="data-on"><code>data-on</code> <a href="#data-on" class="anchor">#</a></h3><p>Attaches an event listener to an element, executing an expression whenever the event is triggered.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;$foo = &#39;&#39;&#34;&gt;Reset&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a6c5974e55f099fb_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a6c5974e55f099fb_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo = &#39;&#39;&#34;</span>&gt;Reset&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>An <code>evt</code> variable that represents the event object is available in the expression.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on:my-event=&#34;$foo = evt.detail&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="474e975265b474d9_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#474e975265b474d9_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on:my-event<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo = evt.detail&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The <code>data-on</code> attribute works with <a href="https://developer.mozilla.org/en-US/docs/Web/Events" target="_blank" rel="noopener noreferrer">events</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/Events/Creating_and_triggering_events" target="_blank" rel="noopener noreferrer">custom events</a>. The <code>data-on:submit</code> event listener prevents the default submission behavior of forms.</p><h4>Modifiers</h4><p>Modifiers allow you to modify behavior when events are triggered. Some modifiers have tags to further modify the behavior.</p><ul><li><code>__once</code> * – Only trigger the event listener once.</li><li><code>__passive</code> * – Do not call <code>preventDefault</code> on the event listener.</li><li><code>__capture</code> * – Use a capture event listener.</li><li><code>__case</code> – Converts the casing of the event.<ul><li><code>.camel</code> – Camel case: <code>myEvent</code></li><li><code>.kebab</code> – Kebab case: <code>my-event</code> (default)</li><li><code>.snake</code> – Snake case: <code>my_event</code></li><li><code>.pascal</code> – Pascal case: <code>MyEvent</code></li></ul></li><li><code>__delay</code> – Delay the event listener.<ul><li><code>.500ms</code> – Delay for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Delay for 1 second (accepts any integer).</li></ul></li><li><code>__debounce</code> – Debounce the event listener.<ul><li><code>.500ms</code> – Debounce for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Debounce for 1 second (accepts any integer).</li><li><code>.leading</code> – Debounce with leading edge (must come after timing).</li><li><code>.notrailing</code> – Debounce without trailing edge (must come after timing).</li></ul></li><li><code>__throttle</code> – Throttle the event listener.<ul><li><code>.500ms</code> – Throttle for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Throttle for 1 second (accepts any integer).</li><li><code>.noleading</code> – Throttle without leading edge (must come after timing).</li><li><code>.trailing</code> – Throttle with trailing edge (must come after timing).</li></ul></li><li><code>__viewtransition</code> – Wraps the expression in <code>document.startViewTransition()</code> when the View Transition API is available.</li><li><code>__window</code> – Attaches the event listener to the <code>window</code> element.</li><li><code>__outside</code> – Triggers when the event is outside the element.</li><li><code>__prevent</code> – Calls <code>preventDefault</code> on the event listener.</li><li><code>__stop</code> – Calls <code>stopPropagation</code> on the event listener.</li></ul><p><em>* Only works with built-in events.</em></p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click__window__debounce.500ms.leading=&#34;$foo = &#39;&#39;&#34;&gt;&lt;/button&gt;
&lt;div data-on:my-event__case.camel=&#34;$foo = &#39;&#39;&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cacce95489868d5d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#cacce95489868d5d_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click__window__debounce<span style="color:#f85149">.</span>500ms<span style="color:#f85149">.</span>leading<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo = &#39;&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cacce95489868d5d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#cacce95489868d5d_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on:my-event__case<span style="color:#f85149">.</span>camel<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo = &#39;&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-on-intersect"><code>data-on-intersect</code> <a href="#data-on-intersect" class="anchor">#</a></h3><p>Runs an expression when the element intersects with the viewport.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-intersect=&#34;$intersected = true&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4d95d6984c7ef84f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4d95d6984c7ef84f_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-intersect<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$intersected = true&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify the element intersection behavior and the timing of the event listener.</p><ul><li><code>__once</code> – Only triggers the event once.</li><li><code>__exit</code> – Only triggers the event when the element exits the viewport.</li><li><code>__half</code> – Triggers when half of the element is visible.</li><li><code>__full</code> – Triggers when the full element is visible.</li><li><code>__threshold</code> – Triggers when the element is visible by a certain percentage.<ul><li><code>.25</code> – Triggers when 25% of the element is visible.</li><li><code>.75</code> – Triggers when 75% of the element is visible.</li></ul></li><li><code>__delay</code> – Delay the event listener.<ul><li><code>.500ms</code> – Delay for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Delay for 1 second (accepts any integer).</li></ul></li><li><code>__debounce</code> – Debounce the event listener.<ul><li><code>.500ms</code> – Debounce for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Debounce for 1 second (accepts any integer).</li><li><code>.leading</code> – Debounce with leading edge (must come after timing).</li><li><code>.notrailing</code> – Debounce without trailing edge (must come after timing).</li></ul></li><li><code>__throttle</code> – Throttle the event listener.<ul><li><code>.500ms</code> – Throttle for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Throttle for 1 second (accepts any integer).</li><li><code>.noleading</code> – Throttle without leading edge (must come after timing).</li><li><code>.trailing</code> – Throttle with trailing edge (must come after timing).</li></ul></li><li><code>__viewtransition</code> – Wraps the expression in <code>document.startViewTransition()</code> when the View Transition API is available.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-intersect__once__full=&#34;$fullyIntersected = true&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ce764bbf0a576eb9_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ce764bbf0a576eb9_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-intersect__once__full<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fullyIntersected = true&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-on-interval"><code>data-on-interval</code> <a href="#data-on-interval" class="anchor">#</a></h3><p>Runs an expression at a regular interval. The interval duration defaults to one second and can be modified using the <code>__duration</code> modifier.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-interval=&#34;$count++&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8fddcb633dadbeac_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8fddcb633dadbeac_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-interval<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count++&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify the interval duration.</p><ul><li><code>__duration</code> – Sets the interval duration.<ul><li><code>.500ms</code> – Interval duration of 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Interval duration of 1 second (default).</li><li><code>.leading</code> – Execute the first interval immediately.</li></ul></li><li><code>__viewtransition</code> – Wraps the expression in <code>document.startViewTransition()</code> when the View Transition API is available.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-interval__duration.500ms=&#34;$count++&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ff9c49a4b955421_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2ff9c49a4b955421_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-interval__duration<span style="color:#f85149">.</span>500ms<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count++&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-on-signal-patch"><code>data-on-signal-patch</code> <a href="#data-on-signal-patch" class="anchor">#</a></h3><p>Runs an expression whenever any signals are patched. This is useful for tracking changes, updating computed values, or triggering side effects when data updates.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-signal-patch=&#34;console.log(&#39;A signal changed!&#39;)&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="545370360a64874b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#545370360a64874b_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-signal-patch<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;console.log(&#39;A signal changed!&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The <code>patch</code> variable is available in the expression and contains the signal patch details.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-signal-patch=&#34;console.log(&#39;Signal patch:&#39;, patch)&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d97773f47a2de07_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5d97773f47a2de07_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-signal-patch<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;console.log(&#39;Signal patch:&#39;, patch)&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>You can filter which signals to watch using the <a href="#data-on-signal-patch-filter"><code>data-on-signal-patch-filter</code></a> attribute.</p><h4>Modifiers</h4><p>Modifiers allow you to modify the timing of the event listener.</p><ul><li><code>__delay</code> – Delay the event listener.<ul><li><code>.500ms</code> – Delay for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Delay for 1 second (accepts any integer).</li></ul></li><li><code>__debounce</code> – Debounce the event listener.<ul><li><code>.500ms</code> – Debounce for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Debounce for 1 second (accepts any integer).</li><li><code>.leading</code> – Debounce with leading edge (must come after timing).</li><li><code>.notrailing</code> – Debounce without trailing edge (must come after timing).</li></ul></li><li><code>__throttle</code> – Throttle the event listener.<ul><li><code>.500ms</code> – Throttle for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Throttle for 1 second (accepts any integer).</li><li><code>.noleading</code> – Throttle without leading edge (must come after timing).</li><li><code>.trailing</code> – Throttle with trailing edge (must come after timing).</li></ul></li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-signal-patch__debounce.500ms=&#34;doSomething()&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b41fa9ff884638e3_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b41fa9ff884638e3_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-signal-patch__debounce<span style="color:#f85149">.</span>500ms<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;doSomething()&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-on-signal-patch-filter"><code>data-on-signal-patch-filter</code> <a href="#data-on-signal-patch-filter" class="anchor">#</a></h3><p>Filters which signals to watch when using the <a href="#data-on-signal-patch"><code>data-on-signal-patch</code></a> attribute.</p><p>The <code>data-on-signal-patch-filter</code> attribute accepts an object with <code>include</code> and/or <code>exclude</code> properties that are regular expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Only react to counter signal changes --&gt;
&lt;div data-on-signal-patch-filter=&#34;{include: /^counter$/}&#34;&gt;&lt;/div&gt;

&lt;!-- React to all changes except those ending with &#34;changes&#34; --&gt;
&lt;div data-on-signal-patch-filter=&#34;{exclude: /changes$/}&#34;&gt;&lt;/div&gt;

&lt;!-- Combine include and exclude filters --&gt;
&lt;div data-on-signal-patch-filter=&#34;{include: /user/, exclude: /password/}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Only react to counter signal changes --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-signal-patch-filter<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{include: /^counter$/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- React to all changes except those ending with &#34;changes&#34; --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_5">5</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-signal-patch-filter<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{exclude: /changes$/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_6">6</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_7">7</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Combine include and exclude filters --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="873b6effb3a3a99a_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#873b6effb3a3a99a_line_8">8</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-signal-patch-filter<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{include: /user/, exclude: /password/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-preserve-attr"><code>data-preserve-attr</code> <a href="#data-preserve-attr" class="anchor">#</a></h3><p>Preserves the value of an attribute when morphing DOM elements.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;details open data-preserve-attr=&#34;open&#34;&gt;
    &lt;summary&gt;Title&lt;/summary&gt;
    Content
&lt;/details&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c82dea46497812b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8c82dea46497812b_line_1">1</a></span><span>&lt;<span style="color:#7ee787">details</span> open data-preserve-attr<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;open&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c82dea46497812b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8c82dea46497812b_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">summary</span>&gt;Title&lt;/<span style="color:#7ee787">summary</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c82dea46497812b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8c82dea46497812b_line_3">3</a></span><span>    Content
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c82dea46497812b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8c82dea46497812b_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">details</span>&gt;</span></span></code></pre></div></div><p>You can preserve multiple attributes by separating them with a space.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;details open class=&#34;foo&#34; data-preserve-attr=&#34;open class&#34;&gt;
    &lt;summary&gt;Title&lt;/summary&gt;
    Content
&lt;/details&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="84c81857962c818e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#84c81857962c818e_line_1">1</a></span><span>&lt;<span style="color:#7ee787">details</span> open class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;foo&#34;</span> data-preserve-attr<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;open class&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="84c81857962c818e_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#84c81857962c818e_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">summary</span>&gt;Title&lt;/<span style="color:#7ee787">summary</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="84c81857962c818e_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#84c81857962c818e_line_3">3</a></span><span>    Content
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="84c81857962c818e_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#84c81857962c818e_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">details</span>&gt;</span></span></code></pre></div></div><h3 id="data-ref"><code>data-ref</code> <a href="#data-ref" class="anchor">#</a></h3><p>Creates a new signal that is a reference to the element on which the data attribute is placed.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-ref:foo&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ff269f16811af030_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ff269f16811af030_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-ref:foo&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The signal name can be specified in the key (as above), or in the value (as below). This can be useful depending on the templating language you are using.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-ref=&#34;foo&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a34c5b94b97cf15b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a34c5b94b97cf15b_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-ref<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The signal value can then be used to reference the element.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="$foo is a reference to a &lt;span data-text=&#34;$foo.tagName&#34;&gt;&lt;/span&gt; element"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2f86d9406f9671db_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2f86d9406f9671db_line_1">1</a></span><span>$foo is a reference to a &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo.tagName&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt; element</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify behavior when defining references using a key.</p><ul><li><code>__case</code> – Converts the casing of the signal name.<ul><li><code>.camel</code> – Camel case: <code>mySignal</code> (default)</li><li><code>.kebab</code> – Kebab case: <code>my-signal</code></li><li><code>.snake</code> – Snake case: <code>my_signal</code></li><li><code>.pascal</code> – Pascal case: <code>MySignal</code></li></ul></li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-ref:my-signal__case.kebab&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4e2027d9e93a3765_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4e2027d9e93a3765_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-ref:my-signal__case<span style="color:#f85149">.</span>kebab&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-show"><code>data-show</code> <a href="#data-show" class="anchor">#</a></h3><p>Shows or hides an element based on whether an expression evaluates to <code>true</code> or <code>false</code>. For anything with custom requirements, use <a href="#data-class"><code>data-class</code></a> instead.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-show=&#34;$foo&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="372f092f9c1bf9dd_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#372f092f9c1bf9dd_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>To prevent flickering of the element before Datastar has processed the DOM, you can add a <code>display: none</code> style to the element to hide it initially.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-show=&#34;$foo&#34; style=&#34;display: none&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e0172604a43170c5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#e0172604a43170c5_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span> style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;display: none&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-signals"><code>data-signals</code> <a href="#data-signals" class="anchor">#</a></h3><p>Patches (adds, updates or removes) one or more signals into the existing signals. Values defined later in the DOM tree override those defined earlier.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo=&#34;1&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="137643eb2b47caab_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#137643eb2b47caab_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Signals can be nested using dot-notation.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:foo.bar=&#34;1&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c645d9a8e63c7cff_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c645d9a8e63c7cff_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#f85149">.</span>bar<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The <code>data-signals</code> attribute can also be used to patch multiple signals using a set of key-value pairs, where the keys represent signal names and the values represent expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals=&#34;{foo: {bar: 1, baz: 2}}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="18f7f32903b72425_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#18f7f32903b72425_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{foo: {bar: 1, baz: 2}}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The value above is written in JavaScript object notation, but JSON, which is a subset and which most templating languages have built-in support for, is also allowed.</p><p>Setting a signal’s value to <code>null</code> or <code>undefined</code> removes the signal.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals=&#34;{foo: null}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b5be7d8870bf084c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b5be7d8870bf084c_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{foo: null}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Keys used in <code>data-signals:*</code> are converted to camel case, so the signal name <code>mySignal</code> must be written as <code>data-signals:my-signal</code> or <code>data-signals="&#123;mySignal: 1&#125;"</code>.</p><p>Signals beginning with an underscore are <em>not</em> included in requests to the backend by default. You can opt to include them by modifying the value of the <a href="/reference/actions#filterSignals"><code>filterSignals</code></a> option.</p><blockquote>Signal names cannot begin with nor contain a double underscore (<code>__</code>), due to its use as a modifier delimiter.</blockquote><h4>Modifiers</h4><p>Modifiers allow you to modify behavior when patching signals using a key.</p><ul><li><code>__case</code> – Converts the casing of the signal name.<ul><li><code>.camel</code> – Camel case: <code>mySignal</code> (default)</li><li><code>.kebab</code> – Kebab case: <code>my-signal</code></li><li><code>.snake</code> – Snake case: <code>my_signal</code></li><li><code>.pascal</code> – Pascal case: <code>MySignal</code></li></ul></li><li><code>__ifmissing</code> – Only patches signals if their keys do not already exist. This is useful for setting defaults without overwriting existing values.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-signals:my-signal__case.kebab=&#34;1&#34;
     data-signals:foo__ifmissing=&#34;1&#34;
&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5bd17939ddecc176_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5bd17939ddecc176_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:my-signal__case<span style="color:#f85149">.</span>kebab<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5bd17939ddecc176_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5bd17939ddecc176_line_2">2</a></span><span>     data-signals:foo__ifmissing<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5bd17939ddecc176_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#5bd17939ddecc176_line_3">3</a></span><span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-style"><code>data-style</code> <a href="#data-style" class="anchor">#</a></h3><p>Sets the value of inline CSS styles on an element based on an expression, and keeps them in sync.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-style:display=&#34;$hiding &amp;&amp; &#39;none&#39;&#34;&gt;&lt;/div&gt;
&lt;div data-style:background-color=&#34;$red ? &#39;red&#39; : &#39;blue&#39;&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3a79370cdf9b3f5b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#3a79370cdf9b3f5b_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-style:display<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$hiding &amp;&amp; &#39;none&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3a79370cdf9b3f5b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#3a79370cdf9b3f5b_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-style:background-color<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$red ? &#39;red&#39; : &#39;blue&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The <code>data-style</code> attribute can also be used to set multiple style properties on an element using a set of key-value pairs, where the keys represent CSS property names and the values represent expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-style=&#34;{
    display: $hiding ? &#39;none&#39; : &#39;flex&#39;,
    &#39;background-color&#39;: $red ? &#39;red&#39; : &#39;green&#39;
}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7cbe2ae7a40e1ca9_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7cbe2ae7a40e1ca9_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7cbe2ae7a40e1ca9_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#7cbe2ae7a40e1ca9_line_2">2</a></span><span><span style="color:#a5d6ff">    display: $hiding ? &#39;none&#39; : &#39;flex&#39;,
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7cbe2ae7a40e1ca9_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#7cbe2ae7a40e1ca9_line_3">3</a></span><span><span style="color:#a5d6ff">    &#39;background-color&#39;: $red ? &#39;red&#39; : &#39;green&#39;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7cbe2ae7a40e1ca9_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#7cbe2ae7a40e1ca9_line_4">4</a></span><span><span style="color:#a5d6ff">}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Empty string, <code>null</code>, <code>undefined</code>, or <code>false</code> values will restore the original inline style value if one existed, or remove the style property if there was no initial value. This allows you to use the logical AND operator (<code>&&</code>) for conditional styles: <code>$condition && 'value'</code> will apply the style when the condition is true and restore the original value when false.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- When $x is false, color remains red from inline style --&gt;
&lt;div style=&#34;color: red;&#34; data-style:color=&#34;$x &amp;&amp; &#39;green&#39;&#34;&gt;&lt;/div&gt;

&lt;!-- When $hiding is true, display becomes none; when false, reverts to flex from inline style --&gt;
&lt;div style=&#34;display: flex;&#34; data-style:display=&#34;$hiding &amp;&amp; &#39;none&#39;&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5faf646af26dcd5e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5faf646af26dcd5e_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- When $x is false, color remains red from inline style --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5faf646af26dcd5e_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5faf646af26dcd5e_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;color: red;&#34;</span> data-style:color<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$x &amp;&amp; &#39;green&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5faf646af26dcd5e_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#5faf646af26dcd5e_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5faf646af26dcd5e_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#5faf646af26dcd5e_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- When $hiding is true, display becomes none; when false, reverts to flex from inline style --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5faf646af26dcd5e_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#5faf646af26dcd5e_line_5">5</a></span><span>&lt;<span style="color:#7ee787">div</span> style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;display: flex;&#34;</span> data-style:display<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$hiding &amp;&amp; &#39;none&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The plugin tracks initial inline style values and restores them when data-style expressions become falsy or during cleanup. This ensures existing inline styles are preserved and only the dynamic changes are managed by Datastar.</p><h3 id="data-text"><code>data-text</code> <a href="#data-text" class="anchor">#</a></h3><p>Binds the text content of an element to an expression.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-text=&#34;$foo&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="cb5e60d29ddf9c36_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#cb5e60d29ddf9c36_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="pro-attributes">Pro Attributes <a href="#pro-attributes" class="anchor">#</a></h2><p>The Pro attributes add functionality to the free open source Datastar framework. These attributes are available under a <a href="/datastar_pro#license">commercial license</a> that helps fund our open source work.</p><h3 id="data-animate"><code>data-animate</code> <a href="#data-animate" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Allows you to animate element attributes over time. Animated attributes are updated reactively whenever signals used in the expression change.</p><h3 id="data-custom-validity"><code>data-custom-validity</code> <a href="#data-custom-validity" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Allows you to add custom validity to an element using an expression. The expression must evaluate to a string that will be set as the custom validity message. If the string is empty, the input is considered valid. If the string is non-empty, the input is considered invalid and the string is used as the reported message.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;form&gt;
    &lt;input data-bind:foo name=&#34;foo&#34; /&gt;
    &lt;input data-bind:bar name=&#34;bar&#34;
           data-custom-validity=&#34;$foo === $bar ? &#39;&#39; : &#39;Values must be the same.&#39;&#34;
    /&gt;
    &lt;button&gt;Submit form&lt;/button&gt;
&lt;/form&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="313fac6aaa99bedf_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#313fac6aaa99bedf_line_1">1</a></span><span>&lt;<span style="color:#7ee787">form</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="313fac6aaa99bedf_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#313fac6aaa99bedf_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:foo name<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;foo&#34;</span> /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="313fac6aaa99bedf_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#313fac6aaa99bedf_line_3">3</a></span><span>    &lt;<span style="color:#7ee787">input</span> data-bind:bar name<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;bar&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="313fac6aaa99bedf_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#313fac6aaa99bedf_line_4">4</a></span><span>           data-custom-validity<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo === $bar ? &#39;&#39; : &#39;Values must be the same.&#39;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="313fac6aaa99bedf_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#313fac6aaa99bedf_line_5">5</a></span><span>    /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="313fac6aaa99bedf_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#313fac6aaa99bedf_line_6">6</a></span><span>    &lt;<span style="color:#7ee787">button</span>&gt;Submit form&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="313fac6aaa99bedf_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#313fac6aaa99bedf_line_7">7</a></span><span>&lt;/<span style="color:#7ee787">form</span>&gt;</span></span></code></pre></div></div><h3 id="data-on-raf"><code>data-on-raf</code> <a href="#data-on-raf" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Runs an expression on every <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestAnimationFrame" target="_blank" rel="noopener noreferrer"><code>requestAnimationFrame</code></a> event.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-raf=&#34;$count++&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f3d6525176589761_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f3d6525176589761_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-raf<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count++&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify the timing of the event listener.</p><ul><li><code>__throttle</code> – Throttle the event listener.<ul><li><code>.500ms</code> – Throttle for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Throttle for 1 second (accepts any integer).</li><li><code>.noleading</code> – Throttle without leading edge (must come after timing).</li><li><code>.trailing</code> – Throttle with trailing edge (must come after timing).</li></ul></li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-raf__throttle.10ms=&#34;$count++&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4ddbbcc7e3c8c532_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4ddbbcc7e3c8c532_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-raf__throttle<span style="color:#f85149">.</span>10ms<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count++&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-on-resize"><code>data-on-resize</code> <a href="#data-on-resize" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Runs an expression whenever an element’s dimensions change.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-resize=&#34;$count++&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e68f607d78643580_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#e68f607d78643580_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-resize<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count++&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify the timing of the event listener.</p><ul><li><code>__debounce</code> – Debounce the event listener.<ul><li><code>.500ms</code> – Debounce for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Debounce for 1 second (accepts any integer).</li><li><code>.leading</code> – Debounce with leading edge (must come after timing).</li><li><code>.notrailing</code> – Debounce without trailing edge (must come after timing).</li></ul></li><li><code>__throttle</code> – Throttle the event listener.<ul><li><code>.500ms</code> – Throttle for 500 milliseconds (accepts any integer).</li><li><code>.1s</code> – Throttle for 1 second (accepts any integer).</li><li><code>.noleading</code> – Throttle without leading edge (must come after timing).</li><li><code>.trailing</code> – Throttle with trailing edge (must come after timing).</li></ul></li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on-resize__debounce.10ms=&#34;$count++&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7aaa2baebef808e6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7aaa2baebef808e6_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on-resize__debounce<span style="color:#f85149">.</span>10ms<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$count++&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-persist"><code>data-persist</code> <a href="#data-persist" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Persists signals in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank" rel="noopener noreferrer">local storage</a>. This is useful for storing values between page loads.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-persist&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a2136193f05a0248_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a2136193f05a0248_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-persist&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The signals to be persisted can be filtered by providing a value that is an object with <code>include</code> and/or <code>exclude</code> properties that are regular expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-persist=&#34;{include: /foo/, exclude: /bar/}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a41ad8fabcfc8110_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a41ad8fabcfc8110_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-persist<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{include: /foo/, exclude: /bar/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>You can use a custom storage key by adding it after <code>data-persist:</code>. By default, signals are stored using the key <code>datastar</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-persist:mykey&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="83fdfed0646b6f92_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#83fdfed0646b6f92_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-persist:mykey&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify the storage target.</p><ul><li><code>__session</code> – Persists signals in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" target="_blank" rel="noopener noreferrer">session storage</a> instead of local storage.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Persists signals using a custom key `mykey` in session storage --&gt;
&lt;div data-persist:mykey__session&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b0edcd1e4fb2e88_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5b0edcd1e4fb2e88_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Persists signals using a custom key `mykey` in session storage --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5b0edcd1e4fb2e88_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5b0edcd1e4fb2e88_line_2">2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-persist:mykey__session&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-query-string"><code>data-query-string</code> <a href="#data-query-string" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Syncs query string params to signal values on page load, and syncs signal values to query string params on change.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-query-string&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="830b1bf6da51d089_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#830b1bf6da51d089_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-query-string&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>The signals to be synced can be filtered by providing a value that is an object with <code>include</code> and/or <code>exclude</code> properties that are regular expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-query-string=&#34;{include: /foo/, exclude: /bar/}&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4a824ef2de4574fa_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4a824ef2de4574fa_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-query-string<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{include: /foo/, exclude: /bar/}&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to enable history support.</p><ul><li><code>__filter</code> – Filters out empty values when syncing signal values to query string params.</li><li><code>__history</code> – Enables history support – each time a matching signal changes, a new entry is added to the browser’s history stack. Signal values are restored from the query string params on popstate events.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-query-string__filter__history&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="36187f26b9d1dd8f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#36187f26b9d1dd8f_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-query-string__filter__history&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-replace-url"><code>data-replace-url</code> <a href="#data-replace-url" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Replaces the URL in the browser without reloading the page. The value can be a relative or absolute URL, and is an evaluated expression.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-replace-url=&#34;`/page${page}`&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a49b653770106c0b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a49b653770106c0b_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-replace-url<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;`/page${page}`&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="data-scroll-into-view"><code>data-scroll-into-view</code> <a href="#data-scroll-into-view" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Scrolls the element into view. Useful when updating the DOM from the backend, and you want to scroll to the new content.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-scroll-into-view&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f806521a709e308c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f806521a709e308c_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-scroll-into-view&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h4>Modifiers</h4><p>Modifiers allow you to modify scrolling behavior.</p><ul><li><code>__smooth</code> – Scrolling is animated smoothly.</li><li><code>__instant</code> – Scrolling is instant.</li><li><code>__auto</code> – Scrolling is determined by the computed <code>scroll-behavior</code> CSS property.</li><li><code>__hstart</code> – Scrolls to the left of the element.</li><li><code>__hcenter</code> – Scrolls to the horizontal center of the element.</li><li><code>__hend</code> – Scrolls to the right of the element.</li><li><code>__hnearest</code> – Scrolls to the nearest horizontal edge of the element.</li><li><code>__vstart</code> – Scrolls to the top of the element.</li><li><code>__vcenter</code> – Scrolls to the vertical center of the element.</li><li><code>__vend</code> – Scrolls to the bottom of the element.</li><li><code>__vnearest</code> – Scrolls to the nearest vertical edge of the element.</li><li><code>__focus</code> – Focuses the element after scrolling.</li></ul><h3 id="data-rocket"><code>data-rocket</code> <a href="#data-rocket" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Creates a Rocket web component. See the <a href="/reference/rocket">Rocket reference</a> for details.</p><h3 id="data-view-transition"><code>data-view-transition</code> <a href="#data-view-transition" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><p>Sets the <code>view-transition-name</code> style attribute explicitly.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-view-transition=&#34;$foo&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3e95115f963539e5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#3e95115f963539e5_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-view-transition<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Page level transitions are automatically handled by an injected meta tag. Inter-page elements are automatically transitioned if the <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API" target="_blank" rel="noopener noreferrer">View Transition API</a> is available in the browser and <code>useViewTransitions</code> is <code>true</code>.</p><h2 id="attribute-order">Attribute Order <a href="#attribute-order" class="anchor">#</a></h2><p>Elements are evaluated by walking the DOM in a depth-first manner, and attributes are processed in the order they appear in the element. This is important in some cases, such as when using <code>data-indicator</code> with a fetch request initiated in a <code>data-init</code> attribute, in which the indicator signal must be created before the fetch request is initialized.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-indicator:fetching data-init=&#34;@get(&#39;/endpoint&#39;)&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="c20c6ae7a8d8578d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#c20c6ae7a8d8578d_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-indicator:fetching data-init<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="attribute-casing">Attribute Casing <a href="#attribute-casing" class="anchor">#</a></h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*" target="_blank" rel="noopener noreferrer">According to the HTML spec</a>, all <code>data-*</code> attributes (not Datastar the framework, but any time a data attribute appears in the DOM) are case-insensitive. When Datastar processes these attributes, hyphenated names are automatically converted to <a href="https://developer.mozilla.org/en-US/docs/Glossary/Camel_case" target="_blank" rel="noopener noreferrer">camel case</a> by removing hyphens and uppercasing the letter following each hyphen.</p><p>Datastar handles casing of data attribute key suffixes containing hyphens in two ways:</p><ol><li>The keys used in attributes that define signals (<code>data-bind:*</code>, <code>data-signals:*</code>, <code>data-computed:*</code>, etc.), are converted to camel case (the recommended casing for signals) by removing hyphens and uppercasing the letter following each hyphen. For example, <code>data-signals:my-signal</code> defines a signal named <code>mySignal</code>, and you would use the signal in a <a href="/guide/datastar_expressions">Datastar expression</a> as <code>$mySignal</code>.</li><li>The keys suffixes used by all other attributes are, by default, converted to <a href="https://developer.mozilla.org/en-US/docs/Glossary/Kebab_case" target="_blank" rel="noopener noreferrer">kebab case</a>. For example, <code>data-class:text-blue-700</code> adds or removes the class <code>text-blue-700</code>, and <code>data-on:rocket-launched</code> would react to the event named <code>rocket-launched</code>.</li></ol><p>You can use the <code>__case</code> modifier to convert between <code>camelCase</code>, <code>kebab-case</code>, <code>snake_case</code>, and <code>PascalCase</code>, or alternatively use object syntax when available.</p><p>For example, if listening for an event called <code>widgetLoaded</code>, you would use <code>data-on:widget-loaded__case.camel</code>.</p><h2 id="aliasing-attributes">Aliasing Attributes <a href="#aliasing-attributes" class="anchor">#</a></h2><p>It is possible to alias <code>data-*</code> attributes to a custom alias (<code>data-alias-*</code>, for example) using the <a href="/bundler">bundler</a>. A custom alias should <em>only</em> be used if you have a conflict with a legacy library and <a href="#data-ignore"><code>data-ignore</code></a> cannot be used.</p><p>We maintain a <code>data-star-*</code> aliased version that can be included as follows.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;script type=&#34;module&#34; src=&#34;https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-RC.7/bundles/datastar-aliased.js&#34;&gt;&lt;/script&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="abd8824dfb2cebd5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#abd8824dfb2cebd5_line_1">1</a></span><span>&lt;<span style="color:#7ee787">script</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;module&#34;</span> src<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;https://cdn.jsdelivr.net/gh/starfederation/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f3f6e3f6e4e3f6e5d7a6b9a7b9a7bac5d4b9a0">[email&#160;protected]</a>/bundles/datastar-aliased.js&#34;</span>&gt;&lt;/<span style="color:#7ee787">script</span>&gt;</span></span></code></pre></div></div><h2 id="datastar-expressions">Datastar Expressions <a href="#datastar-expressions" class="anchor">#</a></h2><p>Datastar expressions used in <code>data-*</code> attributes parse signals, converting all dollar signs followed by valid signal name characters into their corresponding signal values. Expressions support standard JavaScript syntax, including operators, function calls, ternary expressions, and object and array literals.</p><p>A variable <code>el</code> is available in every Datastar expression, representing the element that the attribute exists on.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div id=&#34;bar&#34; data-text=&#34;$foo + el.id&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d63654c6f7ff6082_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#d63654c6f7ff6082_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> id<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;bar&#34;</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo + el.id&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>Read more about <a href="/guide/datastar_expressions">Datastar expressions</a> in the guide.</p><h2 id="error-handling">Error Handling <a href="#error-handling" class="anchor">#</a></h2><p>Datastar has built-in error handling and reporting for runtime errors. When a data attribute is used incorrectly, for example <code>data-text-foo</code>, the following error message is logged to the browser console.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="Uncaught datastar runtime error: textKeyNotAllowed
More info: https://data-star.dev/errors/key_not_allowed?metadata=%7B%22plugin%22%3A%7B%22name%22%3A%22text%22%2C%22type%22%3A%22attribute%22%7D%2C%22element%22%3A%7B%22id%22%3A%22%22%2C%22tag%22%3A%22DIV%22%7D%2C%22expression%22%3A%7B%22rawKey%22%3A%22textFoo%22%2C%22key%22%3A%22foo%22%2C%22value%22%3A%22%22%2C%22fnContent%22%3A%22%22%7D%7D
Context: {
    &#34;plugin&#34;: {
        &#34;name&#34;: &#34;text&#34;,
        &#34;type&#34;: &#34;attribute&#34;
    },
    &#34;element&#34;: {
        &#34;id&#34;: &#34;&#34;,
        &#34;tag&#34;: &#34;DIV&#34;
    },
    &#34;expression&#34;: {
        &#34;rawKey&#34;: &#34;textFoo&#34;,
        &#34;key&#34;: &#34;foo&#34;,
        &#34;value&#34;: &#34;&#34;,
        &#34;fnContent&#34;: &#34;&#34;
    }
}"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_1"> 1</a></span><span>Uncaught datastar runtime error: textKeyNotAllowed
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_2"> 2</a></span><span>More info: https://data-star.dev/errors/key_not_allowed?metadata=%7B%22plugin%22%3A%7B%22name%22%3A%22text%22%2C%22type%22%3A%22attribute%22%7D%2C%22element%22%3A%7B%22id%22%3A%22%22%2C%22tag%22%3A%22DIV%22%7D%2C%22expression%22%3A%7B%22rawKey%22%3A%22textFoo%22%2C%22key%22%3A%22foo%22%2C%22value%22%3A%22%22%2C%22fnContent%22%3A%22%22%7D%7D
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_3"> 3</a></span><span>Context: {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_4"> 4</a></span><span>    &#34;plugin&#34;: {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_5"> 5</a></span><span>        &#34;name&#34;: &#34;text&#34;,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_6"> 6</a></span><span>        &#34;type&#34;: &#34;attribute&#34;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_7"> 7</a></span><span>    },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_8"> 8</a></span><span>    &#34;element&#34;: {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_9"> 9</a></span><span>        &#34;id&#34;: &#34;&#34;,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_10">10</a></span><span>        &#34;tag&#34;: &#34;DIV&#34;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_11">11</a></span><span>    },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_12">12</a></span><span>    &#34;expression&#34;: {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_13">13</a></span><span>        &#34;rawKey&#34;: &#34;textFoo&#34;,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_14">14</a></span><span>        &#34;key&#34;: &#34;foo&#34;,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_15">15</a></span><span>        &#34;value&#34;: &#34;&#34;,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_16">16</a></span><span>        &#34;fnContent&#34;: &#34;&#34;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_17">17</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2ddab06c5b466acb_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#2ddab06c5b466acb_line_18">18</a></span><span>}</span></span></code></pre></div></div><p>The “More info” link takes you directly to a context-aware error page that explains the error and provides correct sample usage. See   <a href="/errors/key_not_allowed?metadata=%7B%22plugin%22%3A%7B%22name%22%3A%22text%22%2C%22type%22%3A%22attribute%22%7D%2C%22element%22%3A%7B%22id%22%3A%22%22%2C%22tag%22%3A%22DIV%22%7D%2C%22expression%22%3A%7B%22rawKey%22%3A%22textFoo%22%2C%22key%22%3A%22foo%22%2C%22value%22%3A%22%22%2C%22fnContent%22%3A%22%22%7D%7D">the error page for the example above</a>, and all available error messages in the sidebar menu.</p><h1 id="actions">Actions</h1><p>Datastar provides actions (helper functions) that can be used in Datastar expressions.</p><blockquote>The <code>&#64;</code> prefix designates actions that are safe to use in expressions. This is a security feature that prevents arbitrary JavaScript from being executed in the browser. Datastar uses <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function" target="_blank" rel="noopener noreferrer"><code>Function()</code> constructors</a> to create and execute these actions in a secure and controlled sandboxed environment.</blockquote><h3 id="peek"><code>@peek()</code> <a href="#peek" class="anchor">#</a></h3><blockquote><code>&#64;peek(callable: () => any)</code></blockquote><p>Allows accessing signals without subscribing to their changes in expressions.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-text=&#34;$foo + @peek(() =&gt; $bar)&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b9d7af6b1f40fcef_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b9d7af6b1f40fcef_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$foo + @peek(() =&gt; $bar)&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><p>In the example above, the expression in the <code>data-text</code> attribute will be re-evaluated whenever <code>$foo</code> changes, but it will <em>not</em> be re-evaluated when <code>$bar</code> changes, since it is evaluated inside the <code>&#64;peek()</code> action.</p><h3 id="setall"><code>@setAll()</code> <a href="#setall" class="anchor">#</a></h3><blockquote><code>&#64;setAll(value: any, filter?: &#123;include: RegExp, exclude?: RegExp&#125;)</code></blockquote><p>Sets the value of all matching signals (or all signals if no filter is used) to the expression provided in the first argument. The second argument is an optional filter object with an <code>include</code> property that accepts a regular expression to match signal paths. You can optionally provide an <code>exclude</code> property to exclude specific patterns.</p><blockquote>The <a href="/datastar_pro#datastar-inspector">Datastar Inspector</a> can be used to inspect and filter current signals and view signal patch events in real-time.</blockquote><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Sets the `foo` signal only --&gt;
&lt;div data-signals:foo=&#34;false&#34;&gt;
    &lt;button data-on:click=&#34;@setAll(true, {include: /^foo$/})&#34;&gt;&lt;/button&gt;
&lt;/div&gt;

&lt;!-- Sets all signals starting with `user.` --&gt;
&lt;div data-signals=&#34;{user: {name: &#39;&#39;, nickname: &#39;&#39;}}&#34;&gt;
    &lt;button data-on:click=&#34;@setAll(&#39;johnny&#39;, {include: /^user\./})&#34;&gt;&lt;/button&gt;
&lt;/div&gt;

&lt;!-- Sets all signals except those ending with `_temp` --&gt;
&lt;div data-signals=&#34;{data: &#39;&#39;, data_temp: &#39;&#39;, info: &#39;&#39;, info_temp: &#39;&#39;}&#34;&gt;
    &lt;button data-on:click=&#34;@setAll(&#39;reset&#39;, {include: /.*/, exclude: /_temp$/})&#34;&gt;&lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Sets the `foo` signal only --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_2"> 2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;false&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_3"> 3</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@setAll(true, {include: /^foo$/})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_4"> 4</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Sets all signals starting with `user.` --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_7"> 7</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{user: {name: &#39;&#39;, nickname: &#39;&#39;}}&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_8"> 8</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@setAll(&#39;johnny&#39;, {include: /^user\./})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_9"> 9</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_11">11</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Sets all signals except those ending with `_temp` --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_12">12</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{data: &#39;&#39;, data_temp: &#39;&#39;, info: &#39;&#39;, info_temp: &#39;&#39;}&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_13">13</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@setAll(&#39;reset&#39;, {include: /.*/, exclude: /_temp$/})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d69cd974fcb9f7cc_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#d69cd974fcb9f7cc_line_14">14</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="toggleall"><code>@toggleAll()</code> <a href="#toggleall" class="anchor">#</a></h3><blockquote><code>&#64;toggleAll(filter?: &#123;include: RegExp, exclude?: RegExp&#125;)</code></blockquote><p>Toggles the boolean value of all matching signals (or all signals if no filter is used). The argument is an optional filter object with an <code>include</code> property that accepts a regular expression to match signal paths. You can optionally provide an <code>exclude</code> property to exclude specific patterns.</p><blockquote>The <a href="/datastar_pro#datastar-inspector">Datastar Inspector</a> can be used to inspect and filter current signals and view signal patch events in real-time.</blockquote><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Toggles the `foo` signal only --&gt;
&lt;div data-signals:foo=&#34;false&#34;&gt;
    &lt;button data-on:click=&#34;@toggleAll({include: /^foo$/})&#34;&gt;&lt;/button&gt;
&lt;/div&gt;

&lt;!-- Toggles all signals starting with `is` --&gt;
&lt;div data-signals=&#34;{isOpen: false, isActive: true, isEnabled: false}&#34;&gt;
    &lt;button data-on:click=&#34;@toggleAll({include: /^is/})&#34;&gt;&lt;/button&gt;
&lt;/div&gt;

&lt;!-- Toggles signals starting with `settings.` --&gt;
&lt;div data-signals=&#34;{settings: {darkMode: false, autoSave: true}}&#34;&gt;
    &lt;button data-on:click=&#34;@toggleAll({include: /^settings\./})&#34;&gt;&lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Toggles the `foo` signal only --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_2"> 2</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:foo<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;false&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_3"> 3</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@toggleAll({include: /^foo$/})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_4"> 4</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_5"> 5</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Toggles all signals starting with `is` --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_7"> 7</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{isOpen: false, isActive: true, isEnabled: false}&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_8"> 8</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@toggleAll({include: /^is/})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_9"> 9</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_10">10</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_11">11</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Toggles signals starting with `settings.` --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_12">12</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{settings: {darkMode: false, autoSave: true}}&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_13">13</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@toggleAll({include: /^settings\./})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7419d4b8527c8da6_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#7419d4b8527c8da6_line_14">14</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="backend-actions">Backend Actions <a href="#backend-actions" class="anchor">#</a></h2><h3 id="get"><code>@get()</code> <a href="#get" class="anchor">#</a></h3><blockquote><code>&#64;get(uri: string, options=&#123;  &#125;)</code></blockquote><p>Sends a <code>GET</code> request to the backend using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="noopener noreferrer">Fetch API</a>. The URI can be any valid endpoint and the response must contain zero or more <a href="/reference/sse_events">Datastar SSE events</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;)&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ebf0ff66ac2e2a10_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ebf0ff66ac2e2a10_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>By default, requests are sent with a <code>Datastar-Request: true</code> header, and a <code>&#123;datastar: *&#125;</code> object containing all existing signals, except those beginning with an underscore. This behavior can be changed using the <a href="#filterSignals"><code>filterSignals</code></a> option, which allows you to include or exclude specific signals using regular expressions.</p><blockquote>When using a <code>get</code> request, the signals are sent as a query parameter, otherwise they are sent as a JSON body.</blockquote><p>When a page is hidden (in a background tab, for example), the default behavior for <code>get</code> requests is for the SSE connection to be closed, and reopened when the page becomes visible again. To keep the connection open when the page is hidden, set the <a href="#openWhenHidden"><code>openWhenHidden</code></a> option to <code>true</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;, {openWhenHidden: true})&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="9ddd07251c54cab5_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#9ddd07251c54cab5_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;, {openWhenHidden: true})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>It’s possible to send form encoded requests by setting the <code>contentType</code> option to <code>form</code>. This sends requests using <code>application/x-www-form-urlencoded</code> encoding.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;, {contentType: &#39;form&#39;})&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="66f6eb16ff991e13_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#66f6eb16ff991e13_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;, {contentType: &#39;form&#39;})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>It’s also possible to send requests using <code>multipart/form-data</code> encoding by specifying it in the <code>form</code> element’s <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/enctype" target="_blank" rel="noopener noreferrer"><code>enctype</code></a> attribute. This should be used when uploading files. See the <a href="/examples/form_data">form data example</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;form enctype=&#34;multipart/form-data&#34;&gt;
    &lt;input type=&#34;file&#34; name=&#34;file&#34; /&gt;
    &lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;, {contentType: &#39;form&#39;})&#34;&gt;&lt;/button&gt;
&lt;/form&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ef64e694a2a2b66d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ef64e694a2a2b66d_line_1">1</a></span><span>&lt;<span style="color:#7ee787">form</span> enctype<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;multipart/form-data&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ef64e694a2a2b66d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#ef64e694a2a2b66d_line_2">2</a></span><span>    &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;file&#34;</span> name<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;file&#34;</span> /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ef64e694a2a2b66d_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#ef64e694a2a2b66d_line_3">3</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;, {contentType: &#39;form&#39;})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ef64e694a2a2b66d_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#ef64e694a2a2b66d_line_4">4</a></span><span>&lt;/<span style="color:#7ee787">form</span>&gt;</span></span></code></pre></div></div><h3 id="post"><code>@post()</code> <a href="#post" class="anchor">#</a></h3><blockquote><code>&#64;post(uri: string, options=&#123;  &#125;)</code></blockquote><p>Works the same as <a href="#get"><code>&#64;get()</code></a> but sends a <code>POST</code> request to the backend.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@post(&#39;/endpoint&#39;)&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d39e685f67f85321_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#d39e685f67f85321_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@post(&#39;/endpoint&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><h3 id="put"><code>@put()</code> <a href="#put" class="anchor">#</a></h3><blockquote><code>&#64;put(uri: string, options=&#123;  &#125;)</code></blockquote><p>Works the same as <a href="#get"><code>&#64;get()</code></a> but sends a <code>PUT</code> request to the backend.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@put(&#39;/endpoint&#39;)&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4e70b9011d501df3_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4e70b9011d501df3_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@put(&#39;/endpoint&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><h3 id="patch"><code>@patch()</code> <a href="#patch" class="anchor">#</a></h3><blockquote><code>&#64;patch(uri: string, options=&#123;  &#125;)</code></blockquote><p>Works the same as <a href="#get"><code>&#64;get()</code></a> but sends a <code>PATCH</code> request to the backend.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@patch(&#39;/endpoint&#39;)&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6044266908c2b1e1_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#6044266908c2b1e1_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@patch(&#39;/endpoint&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><h3 id="delete"><code>@delete()</code> <a href="#delete" class="anchor">#</a></h3><blockquote><code>&#64;delete(uri: string, options=&#123;  &#125;)</code></blockquote><p>Works the same as <a href="#get"><code>&#64;get()</code></a> but sends a <code>DELETE</code> request to the backend.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@delete(&#39;/endpoint&#39;)&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="26080a1232a6d933_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#26080a1232a6d933_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@delete(&#39;/endpoint&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><h3 id="options">Options <a href="#options" class="anchor">#</a></h3><p>All of the actions above take a second argument of options.</p><ul><li><code id="contentType">contentType</code> – The type of content to send. A value of <code>json</code> sends all signals in a JSON request. A value of <code>form</code> tells the action to look for the closest form to the element on which it is placed (unless a <code>selector</code> option is provided), perform validation on the form elements, and send them to the backend using a form request (no signals are sent). Defaults to <code>json</code>.</li><li><code id="filterSignals">filterSignals</code> – A filter object with an <code>include</code> property that accepts a regular expression to match signal paths (defaults to all signals: <code>/.*/</code>), and an optional <code>exclude</code> property to exclude specific signal paths (defaults to all signals that do not have a <code>_</code> prefix: <code>/(^_|\._).*/</code>).<blockquote>The <a href="/datastar_pro#datastar-inspector">Datastar Inspector</a> can be used to inspect and filter current signals and view signal patch events in real-time.</blockquote></li><li><code id="selector">selector</code> – Optionally specifies a form to send when the <code>contentType</code> option is set to <code>form</code>. If the value is <code>null</code>, the closest form is used. Defaults to <code>null</code>.</li><li><code id="headers">headers</code> – An object containing headers to send with the request.</li><li><code id="openWhenHidden">openWhenHidden</code> – Whether to keep the connection open when the page is hidden. Useful for dashboards but can cause a drain on battery life and other resources when enabled. Defaults to <code>false</code> for <code>get</code> requests, and <code>true</code> for all other HTTP methods.</li><li><code id="payload">payload</code> – Allows the fetch payload to be overridden with a custom object.</li><li><code id="retry">retry</code> – Determines when to retry requests. Can be <code>'auto'</code> (default, retries on network errors only), <code>'error'</code> (retries on <code>4xx</code> and <code>5xx</code> responses), <code>'always'</code> (retries on all non-<code>204</code> responses except redirects), or <code>'never'</code> (disables retries). Defaults to <code>'auto'</code>.</li><li><code id="retryInterval">retryInterval</code> – The retry interval in milliseconds. Defaults to <code>1000</code> (one second).</li><li><code id="retryScaler">retryScaler</code> – A numeric multiplier applied to scale retry wait times. Defaults to <code>2</code>.</li><li><code id="retryMaxWaitMs">retryMaxWaitMs</code> – The maximum allowable wait time in milliseconds between retries. Defaults to <code>30000</code> (30 seconds).</li><li><code id="retryMaxCount">retryMaxCount</code> – The maximum number of retry attempts. Defaults to <code>10</code>.</li><li><code id="requestCancellation">requestCancellation</code> – Controls request cancellation behavior. Can be <code>'auto'</code> (default, cancels existing requests on the same element), <code>'disabled'</code> (allows concurrent requests), or an <code>AbortController</code> instance for custom control. Defaults to <code>'auto'</code>.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;, {
    filterSignals: {include: /^foo\./},
    headers: {
        &#39;X-Csrf-Token&#39;: &#39;JImikTbsoCYQ9oGOcvugov0Awc5LbqFsZW6ObRCxuq&#39;,
    },
    openWhenHidden: true,
    requestCancellation: &#39;disabled&#39;,
})&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_1">1</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;, {
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_2">2</a></span><span><span style="color:#a5d6ff">    filterSignals: {include: /^foo\./},
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_3">3</a></span><span><span style="color:#a5d6ff">    headers: {
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_4">4</a></span><span><span style="color:#a5d6ff">        &#39;X-Csrf-Token&#39;: &#39;JImikTbsoCYQ9oGOcvugov0Awc5LbqFsZW6ObRCxuq&#39;,
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_5">5</a></span><span><span style="color:#a5d6ff">    },
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_6">6</a></span><span><span style="color:#a5d6ff">    openWhenHidden: true,
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_7">7</a></span><span><span style="color:#a5d6ff">    requestCancellation: &#39;disabled&#39;,
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="dbadd09cf88e8aa_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#dbadd09cf88e8aa_line_8">8</a></span><span><span style="color:#a5d6ff">})&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><h3 id="request-cancellation">Request Cancellation <a href="#request-cancellation" class="anchor">#</a></h3><p>By default, when a new fetch request is initiated on an element, any existing request on that same element is automatically cancelled. This prevents multiple concurrent requests from conflicting with each other and ensures clean state management.</p><p>For example, if a user rapidly clicks a button that triggers a backend action, only the most recent request will be processed:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Clicking this button multiple times will cancel previous requests (default behavior) --&gt;
&lt;button data-on:click=&#34;@get(&#39;/slow-endpoint&#39;)&#34;&gt;Load Data&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="eae94014c8a17e1d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#eae94014c8a17e1d_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Clicking this button multiple times will cancel previous requests (default behavior) --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="eae94014c8a17e1d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#eae94014c8a17e1d_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/slow-endpoint&#39;)&#34;</span>&gt;Load Data&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><p>This automatic cancellation happens at the element level, meaning requests on different elements can run concurrently without interfering with each other.</p><p>You can control this behavior using the <a href="#requestCancellation"><code>requestCancellation</code></a> option:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Allow concurrent requests (no automatic cancellation) --&gt;
&lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;, {requestCancellation: &#39;disabled&#39;})&#34;&gt;Allow Multiple&lt;/button&gt;

&lt;!-- Custom abort controller for fine-grained control --&gt;
&lt;div data-signals:controller=&#34;new AbortController()&#34;&gt;
    &lt;button data-on:click=&#34;@get(&#39;/endpoint&#39;, {requestCancellation: $controller})&#34;&gt;Start Request&lt;/button&gt;
    &lt;button data-on:click=&#34;$controller.abort()&#34;&gt;Cancel Request&lt;/button&gt;
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Allow concurrent requests (no automatic cancellation) --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;, {requestCancellation: &#39;disabled&#39;})&#34;</span>&gt;Allow Multiple&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Custom abort controller for fine-grained control --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_5">5</a></span><span>&lt;<span style="color:#7ee787">div</span> data-signals:controller<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;new AbortController()&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_6">6</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@get(&#39;/endpoint&#39;, {requestCancellation: $controller})&#34;</span>&gt;Start Request&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_7">7</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$controller.abort()&#34;</span>&gt;Cancel Request&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="56d97e557e14fab7_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#56d97e557e14fab7_line_8">8</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h3 id="response-handling">Response Handling <a href="#response-handling" class="anchor">#</a></h3><p>Backend actions automatically handle different response content types:</p><ul><li><code>text/event-stream</code> – Standard SSE responses with <a href="/reference/sse_events">Datastar SSE events</a>.</li><li><code>text/html</code> – HTML elements to patch into the DOM.</li><li><code>application/json</code> – JSON encoded signals to patch.</li><li><code>text/javascript</code> – JavaScript code to execute in the browser.</li></ul><h4><code id="text/html">text/html</code></h4><p>When returning HTML (<code>text/html</code>), the server can optionally include the following response headers:</p><ul><li><code>datastar-selector</code> – A CSS selector for the target elements to patch</li><li><code>datastar-mode</code> – How to patch the elements (<code>outer</code>, <code>inner</code>, <code>remove</code>, <code>replace</code>, <code>prepend</code>, <code>append</code>, <code>before</code>, <code>after</code>). Defaults to <code>outer</code>.</li><li><code>datastar-use-view-transition</code> – Whether to use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API" target="_blank" rel="noopener noreferrer">View Transition API</a> when patching elements.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="response.headers.set(&#39;Content-Type&#39;, &#39;text/html&#39;)
response.headers.set(&#39;datastar-selector&#39;, &#39;#my-element&#39;)
response.headers.set(&#39;datastar-mode&#39;, &#39;inner&#39;)
response.body = &#39;&lt;p&gt;New content&lt;/p&gt;&#39;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="fbec5221f6724490_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#fbec5221f6724490_line_1">1</a></span><span>response.headers.set(&#39;Content-Type&#39;, &#39;text/html&#39;)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="fbec5221f6724490_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#fbec5221f6724490_line_2">2</a></span><span>response.headers.set(&#39;datastar-selector&#39;, &#39;#my-element&#39;)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="fbec5221f6724490_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#fbec5221f6724490_line_3">3</a></span><span>response.headers.set(&#39;datastar-mode&#39;, &#39;inner&#39;)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="fbec5221f6724490_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#fbec5221f6724490_line_4">4</a></span><span>response.body = &#39;&lt;<span style="color:#7ee787">p</span>&gt;New content&lt;/<span style="color:#7ee787">p</span>&gt;&#39;</span></span></code></pre></div></div><h4><code id="application/json">application/json</code></h4><p>When returning JSON (<code>application/json</code>), the server can optionally include the following response header:</p><ul><li><code>datastar-only-if-missing</code> – If set to <code>true</code>, only patch signals that don’t already exist.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="response.headers.set(&#39;Content-Type&#39;, &#39;application/json&#39;)
response.headers.set(&#39;datastar-only-if-missing&#39;, &#39;true&#39;)
response.body = JSON.stringify({ foo: &#39;bar&#39; })"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="51c86097c42ac99d_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#51c86097c42ac99d_line_1">1</a></span><span>response.headers.set(&#39;Content-Type&#39;, &#39;application/json&#39;)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="51c86097c42ac99d_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#51c86097c42ac99d_line_2">2</a></span><span>response.headers.set(&#39;datastar-only-if-missing&#39;, &#39;true&#39;)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="51c86097c42ac99d_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#51c86097c42ac99d_line_3">3</a></span><span>response.body = JSON.stringify({ foo: &#39;bar&#39; })</span></span></code></pre></div></div><h4><code id="text/javascript">text/javascript</code></h4><p>When returning JavaScript (<code>text/javascript</code>), the server can optionally include the following response header:</p><ul><li><code>datastar-script-attributes</code> – Sets the script element’s attributes using a JSON encoded string.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="response.headers.set(&#39;Content-Type&#39;, &#39;text/javascript&#39;)
response.headers.set(&#39;datastar-script-attributes&#39;, JSON.stringify({ type: &#39;module&#39; }))
response.body = &#39;console.log(&#34;Hello from server!&#34;);&#39;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e859903bfa6f9a6c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#e859903bfa6f9a6c_line_1">1</a></span><span>response.headers.set(&#39;Content-Type&#39;, &#39;text/javascript&#39;)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e859903bfa6f9a6c_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#e859903bfa6f9a6c_line_2">2</a></span><span>response.headers.set(&#39;datastar-script-attributes&#39;, JSON.stringify({ type: &#39;module&#39; }))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e859903bfa6f9a6c_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#e859903bfa6f9a6c_line_3">3</a></span><span>response.body = &#39;console.log(&#34;Hello from server!&#34;);&#39;</span></span></code></pre></div></div><h3 id="events">Events <a href="#events" class="anchor">#</a></h3><p>All of the actions above trigger <code>datastar-fetch</code> events during the fetch request lifecycle. The event type determines the stage of the request.</p><ul><li><code>started</code> – Triggered when the fetch request is started.</li><li><code>finished</code> – Triggered when the fetch request is finished.</li><li><code>error</code> – Triggered when the fetch request encounters an error.</li><li><code>retrying</code> – Triggered when the fetch request is retrying.</li><li><code>retries-failed</code> – Triggered when all fetch retries have failed.</li></ul><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;div data-on:datastar-fetch=&#34;
    evt.detail.type === &#39;error&#39; &amp;&amp; console.log(&#39;Fetch error encountered&#39;)
&#34;&gt;&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d641459169abcd9a_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#d641459169abcd9a_line_1">1</a></span><span>&lt;<span style="color:#7ee787">div</span> data-on:datastar-fetch<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d641459169abcd9a_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#d641459169abcd9a_line_2">2</a></span><span><span style="color:#a5d6ff">    evt.detail.type === &#39;error&#39; &amp;&amp; console.log(&#39;Fetch error encountered&#39;)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="d641459169abcd9a_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#d641459169abcd9a_line_3">3</a></span><span><span style="color:#a5d6ff">&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h2 id="pro-actions">Pro Actions <a href="#pro-actions" class="anchor">#</a></h2><h3 id="clipboard"><code>@clipboard()</code> <a href="#clipboard" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><blockquote><code>&#64;clipboard(text: string, isBase64?: boolean)</code></blockquote><p>Copies the provided text to the clipboard. If the second parameter is <code>true</code>, the text is treated as <a href="https://developer.mozilla.org/en-US/docs/Glossary/Base64" target="_blank" rel="noopener noreferrer">Base64</a> encoded, and is decoded before copying.</p><blockquote>Base64 encoding is useful when copying content that contains special characters, quotes, or code fragments that might not be valid within HTML attributes. This prevents parsing errors and ensures the content is safely embedded in <code>data-*</code> attributes.</blockquote><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Copy plain text --&gt;
&lt;button data-on:click=&#34;@clipboard(&#39;Hello, world!&#39;)&#34;&gt;&lt;/button&gt;

&lt;!-- Copy base64 encoded text (will decode before copying) --&gt;
&lt;button data-on:click=&#34;@clipboard(&#39;SGVsbG8sIHdvcmxkIQ==&#39;, true)&#34;&gt;&lt;/button&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="acd1b932cf7a18c7_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#acd1b932cf7a18c7_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Copy plain text --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="acd1b932cf7a18c7_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#acd1b932cf7a18c7_line_2">2</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@clipboard(&#39;Hello, world!&#39;)&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="acd1b932cf7a18c7_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#acd1b932cf7a18c7_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="acd1b932cf7a18c7_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#acd1b932cf7a18c7_line_4">4</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Copy base64 encoded text (will decode before copying) --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="acd1b932cf7a18c7_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#acd1b932cf7a18c7_line_5">5</a></span><span>&lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@clipboard(&#39;SGVsbG8sIHdvcmxkIQ==&#39;, true)&#34;</span>&gt;&lt;/<span style="color:#7ee787">button</span>&gt;</span></span></code></pre></div></div><h3 id="fit"><code>@fit()</code> <a href="#fit" class="anchor">#</a><a href="/datastar_pro" title="Datastar Pro" class="badge pro">Pro</a></h3><blockquote><code>&#64;fit(v: number, oldMin: number, oldMax: number, newMin: number, newMax: number, shouldClamp=false, shouldRound=false)</code></blockquote><p>Linearly interpolates a value from one range to another. This is useful for converting between different scales, such as mapping a slider value to a percentage or converting temperature units.</p><p>The optional <code>shouldClamp</code> parameter ensures the result stays within the new range, and <code>shouldRound</code> rounds the result to the nearest integer.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Convert a 0-100 slider to 0-255 RGB value --&gt;
&lt;div&gt;
    &lt;input type=&#34;range&#34; min=&#34;0&#34; max=&#34;100&#34; value=&#34;50&#34; data-bind:slider-value&gt;
    &lt;div data-computed:rgb-value=&#34;@fit($sliderValue, 0, 100, 0, 255)&#34;&gt;
        RGB Value: &lt;span data-text=&#34;$rgbValue&#34;&gt;&lt;/span&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Convert Celsius to Fahrenheit --&gt;
&lt;div&gt;
    &lt;input type=&#34;number&#34; data-bind:celsius value=&#34;20&#34; /&gt;
    &lt;div data-computed:fahrenheit=&#34;@fit($celsius, 0, 100, 32, 212)&#34;&gt;
        &lt;span data-text=&#34;$celsius&#34;&gt;&lt;/span&gt;°C = &lt;span data-text=&#34;$fahrenheit.toFixed(1)&#34;&gt;&lt;/span&gt;°F
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Map mouse position to element opacity (clamped) --&gt;
&lt;div
    data-signals:mouse-x=&#34;0&#34;
    data-computed:opacity=&#34;@fit($mouseX, 0, window.innerWidth, 0, 1, true)&#34;
    data-on:mousemove__window=&#34;$mouseX = evt.clientX&#34;
    data-attr:style=&#34;&#39;opacity: &#39; + $opacity&#34;
&gt;
    Move your mouse horizontally to change opacity
&lt;/div&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Convert a 0-100 slider to 0-255 RGB value --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_2"> 2</a></span><span>&lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_3"> 3</a></span><span>    &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;range&#34;</span> min<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;0&#34;</span> max<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;100&#34;</span> value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;50&#34;</span> data-bind:slider-value&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_4"> 4</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-computed:rgb-value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@fit($sliderValue, 0, 100, 0, 255)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_5"> 5</a></span><span>        RGB Value: &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$rgbValue&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_6"> 6</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_7"> 7</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_8"> 8</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_9"> 9</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Convert Celsius to Fahrenheit --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_10">10</a></span><span>&lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_11">11</a></span><span>    &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;number&#34;</span> data-bind:celsius value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;20&#34;</span> /&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_12">12</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-computed:fahrenheit<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@fit($celsius, 0, 100, 32, 212)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_13">13</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$celsius&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;°C = &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$fahrenheit.toFixed(1)&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;°F
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_14">14</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_15">15</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_16">16</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_17">17</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Map mouse position to element opacity (clamped) --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_18">18</a></span><span>&lt;<span style="color:#7ee787">div</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_19">19</a></span><span>    data-signals:mouse-x<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_20">20</a></span><span>    data-computed:opacity<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@fit($mouseX, 0, window.innerWidth, 0, 1, true)&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_21">21</a></span><span>    data-on:mousemove__window<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$mouseX = evt.clientX&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_22">22</a></span><span>    data-attr:style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;opacity: &#39; + $opacity&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_23">23</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_24">24</a></span><span>    Move your mouse horizontally to change opacity
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b61835fa80d48826_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#b61835fa80d48826_line_25">25</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;</span></span></code></pre></div></div><h1 id="rocket">Rocket</h1><p class="callout error">Rocket is currently in alpha – available with Datastar Pro.</p><p>Rocket is a <a href="/datastar_pro">Datastar Pro</a> plugin that bridges <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components" target="_blank" rel="noopener noreferrer">Web Components</a> with Datastar’s reactive system. It allows you to create encapsulated, reusable components with reactive data binding.</p><blockquote>Rocket is a powerful feature, and should be used sparingly. For most applications, standard Datastar templates and global signals are sufficient. Reserve Rocket for cases where component encapsulation is essential, such as integrating third-party libraries or creating complex, reusable UI elements.</blockquote><h3 id="basic-example">Basic example <a href="#basic-example" class="anchor">#</a></h3><p>Traditional web components require verbose class definitions and manual DOM management. Rocket eliminates this complexity with a declarative, template-based approach.</p><p>Here’s a Rocket component compared to a vanilla web component.</p><div class="code-switcher" data-signals="{&#34;rocketExample&#34;:&#34;rocket&#34;}"><div class="icons"><button data-on:click="$rocketExample = &#39;rocket&#39;" data-attr:aria-selected="`${$rocketExample === &#39;rocket&#39;}`" title="Rocket Component"><img src="/cdn-cgi/image/format=auto/static/images/rocket-128x128-38eb37d4251e4854ef5fdd7bbee042336c82e36fa2fbafdd212d911c74c7fd39.png"></button><button data-on:click="$rocketExample = &#39;vanilla&#39;" data-attr:aria-selected="`${$rocketExample === &#39;vanilla&#39;}`" title="Vanilla Web Component"><iconify-icon icon="vscode-icons:file-type-js-official" noobserver=""></iconify-icon></button></div><div class="snippets"><div data-show="$rocketExample === &#39;rocket&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:simple-counter
          data-props:count=&#34;int|min:0|=0&#34;
          data-props:start=&#34;int|min:0|=0&#34;
          data-props:step=&#34;int|min:1|max:10|=1&#34;
&gt;
  &lt;script&gt;
    $$count = $$start
  &lt;/script&gt;
  &lt;template data-if=&#34;$$errs?.start&#34;&gt;
    &lt;div data-text=&#34;$$errs.start[0].value&#34;&gt;&lt;/div&gt;
  &lt;/template&gt;
  &lt;template data-if=&#34;$$errs?.step&#34;&gt;
    &lt;div data-text=&#34;$$errs.step[0].value&#34;&gt;&lt;/div&gt;
  &lt;/template&gt;
  &lt;button data-on:click=&#34;$$count -= $$step&#34;&gt;-&lt;/button&gt;
  &lt;span data-text=&#34;$$count&#34;&gt;&lt;/span&gt;
  &lt;button data-on:click=&#34;$$count += $$step&#34;&gt;+&lt;/button&gt;
  &lt;button data-on:click=&#34;$$count = $$start&#34;&gt;Reset&lt;/button&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:simple-counter
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_2"> 2</a></span><span>          data-props:count<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|min:0|=0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_3"> 3</a></span><span>          data-props:start<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|min:0|=0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_4"> 4</a></span><span>          data-props:step<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|min:1|max:10|=1&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_5"> 5</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_6"> 6</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_7"> 7</a></span><span>    $$count <span style="color:#ff7b72;font-weight:bold">=</span> $$start
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_8"> 8</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_9"> 9</a></span><span>  &lt;<span style="color:#7ee787">template</span> data-if<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$errs?.start&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_10">10</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$errs.start[0].value&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_11">11</a></span><span>  &lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_12">12</a></span><span>  &lt;<span style="color:#7ee787">template</span> data-if<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$errs?.step&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_13">13</a></span><span>    &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$errs.step[0].value&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_14">14</a></span><span>  &lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_15">15</a></span><span>  &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count -= $$step&#34;</span>&gt;-&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_16">16</a></span><span>  &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_17">17</a></span><span>  &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count += $$step&#34;</span>&gt;+&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_18">18</a></span><span>  &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count = $$start&#34;</span>&gt;Reset&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2658919688293c78_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#2658919688293c78_line_19">19</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div></div><div data-show="$rocketExample === &#39;vanilla&#39;"><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="class SimpleCounter extends HTMLElement {
  static observedAttributes = [&#39;start&#39;, &#39;step&#39;];
  
  constructor() {
    super();
    this.innerHTML = `
      &lt;div class=&#34;error&#34; style=&#34;display: none;&#34;&gt;&lt;/div&gt;
      &lt;button class=&#34;dec&#34;&gt;-&lt;/button&gt;
      &lt;span class=&#34;count&#34;&gt;0&lt;/span&gt;
      &lt;button class=&#34;inc&#34;&gt;+&lt;/button&gt;
      &lt;button class=&#34;reset&#34;&gt;Reset&lt;/button&gt;
    `;
    
    this.errorEl = this.querySelector(&#39;.error&#39;);
    this.decBtn = this.querySelector(&#39;.dec&#39;);
    this.incBtn = this.querySelector(&#39;.inc&#39;);
    this.resetBtn = this.querySelector(&#39;.reset&#39;);
    this.countEl = this.querySelector(&#39;.count&#39;);
    
    this.handleDec = () =&gt; { 
      const newValue = this.count - this.step;
      if (newValue &gt;= 0) {
        this.count = newValue;
        this.updateDisplay();
      }
    };
    this.handleInc = () =&gt; { 
      this.count += this.step;
      this.updateDisplay();
    };
    this.handleReset = () =&gt; { 
      this.count = this.start; 
      this.updateDisplay(); 
    };
    
    this.decBtn.addEventListener(&#39;click&#39;, this.handleDec);
    this.incBtn.addEventListener(&#39;click&#39;, this.handleInc);
    this.resetBtn.addEventListener(&#39;click&#39;, this.handleReset);
  }
  
  connectedCallback() {
    const startVal = parseInt(this.getAttribute(&#39;start&#39;) || &#39;0&#39;);
    const stepVal = parseInt(this.getAttribute(&#39;step&#39;) || &#39;1&#39;);
    
    if (startVal &lt; 0) {
      this.errorEl.textContent = &#39;start must be at least 0&#39;;
      this.errorEl.style.display = &#39;block&#39;;
      this.start = 0;
    } else {
      this.start = startVal;
      this.errorEl.style.display = &#39;none&#39;;
    }
    
    if (stepVal &lt; 1 || stepVal &gt; 10) {
      this.errorEl.textContent = &#39;step must be between 1 and 10&#39;;
      this.errorEl.style.display = &#39;block&#39;;
      this.step = Math.max(1, Math.min(10, stepVal));
    } else {
      this.step = stepVal;
      if (this.start === startVal) {
        this.errorEl.style.display = &#39;none&#39;;
      }
    }
    
    this.count = this.start;
    this.updateDisplay();
  }
  
  disconnectedCallback() {
    this.decBtn.removeEventListener(&#39;click&#39;, this.handleDec);
    this.incBtn.removeEventListener(&#39;click&#39;, this.handleInc);
    this.resetBtn.removeEventListener(&#39;click&#39;, this.handleReset);
  }
  
  attributeChangedCallback(name, oldValue, newValue) {
    if (name === &#39;start&#39;) {
      const startVal = parseInt(newValue || &#39;0&#39;);
      if (startVal &lt; 0) {
        this.errorEl.textContent = &#39;start must be at least 0&#39;;
        this.errorEl.style.display = &#39;block&#39;;
        this.start = 0;
      } else {
        this.start = startVal;
        this.errorEl.style.display = &#39;none&#39;;
      }
      this.count = this.start;
    } else if (name === &#39;step&#39;) {
      const stepVal = parseInt(newValue || &#39;1&#39;);
      if (stepVal &lt; 1 || stepVal &gt; 10) {
        this.errorEl.textContent = &#39;step must be between 1 and 10&#39;;
        this.errorEl.style.display = &#39;block&#39;;
        this.step = Math.max(1, Math.min(10, stepVal));
      } else {
        this.step = stepVal;
        this.errorEl.style.display = &#39;none&#39;;
      }
    }
    if (this.isConnected) {
      this.updateDisplay();
    }
  }
  
  updateDisplay() {
    this.countEl.textContent = this.count;
  }
}

customElements.define(&#39;simple-counter&#39;, SimpleCounter);"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_1">  1</a></span><span><span style="color:#ff7b72">class</span> SimpleCounter <span style="color:#ff7b72">extends</span> HTMLElement {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_2">  2</a></span><span>  <span style="color:#ff7b72">static</span> observedAttributes <span style="color:#ff7b72;font-weight:bold">=</span> [<span style="color:#a5d6ff">&#39;start&#39;</span>, <span style="color:#a5d6ff">&#39;step&#39;</span>];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_3">  3</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_4">  4</a></span><span>  constructor() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_5">  5</a></span><span>    <span style="color:#ff7b72">super</span>();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_6">  6</a></span><span>    <span style="color:#ff7b72">this</span>.innerHTML <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">`
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_7">  7</a></span><span><span style="color:#a5d6ff">      &lt;div class=&#34;error&#34; style=&#34;display: none;&#34;&gt;&lt;/div&gt;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_8">  8</a></span><span><span style="color:#a5d6ff">      &lt;button class=&#34;dec&#34;&gt;-&lt;/button&gt;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_9">  9</a></span><span><span style="color:#a5d6ff">      &lt;span class=&#34;count&#34;&gt;0&lt;/span&gt;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_10"> 10</a></span><span><span style="color:#a5d6ff">      &lt;button class=&#34;inc&#34;&gt;+&lt;/button&gt;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_11"> 11</a></span><span><span style="color:#a5d6ff">      &lt;button class=&#34;reset&#34;&gt;Reset&lt;/button&gt;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_12"> 12</a></span><span><span style="color:#a5d6ff">    `</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_13"> 13</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_14"> 14</a></span><span>    <span style="color:#ff7b72">this</span>.errorEl <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.querySelector(<span style="color:#a5d6ff">&#39;.error&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_15"> 15</a></span><span>    <span style="color:#ff7b72">this</span>.decBtn <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.querySelector(<span style="color:#a5d6ff">&#39;.dec&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_16"> 16</a></span><span>    <span style="color:#ff7b72">this</span>.incBtn <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.querySelector(<span style="color:#a5d6ff">&#39;.inc&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_17"> 17</a></span><span>    <span style="color:#ff7b72">this</span>.resetBtn <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.querySelector(<span style="color:#a5d6ff">&#39;.reset&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_18"> 18</a></span><span>    <span style="color:#ff7b72">this</span>.countEl <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.querySelector(<span style="color:#a5d6ff">&#39;.count&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_19"> 19</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_20"> 20</a></span><span>    <span style="color:#ff7b72">this</span>.handleDec <span style="color:#ff7b72;font-weight:bold">=</span> () =&gt; { 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_21"> 21</a></span><span>      <span style="color:#ff7b72">const</span> newValue <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.count <span style="color:#ff7b72;font-weight:bold">-</span> <span style="color:#ff7b72">this</span>.step;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_22"> 22</a></span><span>      <span style="color:#ff7b72">if</span> (newValue <span style="color:#ff7b72;font-weight:bold">&gt;=</span> <span style="color:#a5d6ff">0</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_23"> 23</a></span><span>        <span style="color:#ff7b72">this</span>.count <span style="color:#ff7b72;font-weight:bold">=</span> newValue;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_24"> 24</a></span><span>        <span style="color:#ff7b72">this</span>.updateDisplay();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_25"> 25</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_26"> 26</a></span><span>    };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_27"> 27</a></span><span>    <span style="color:#ff7b72">this</span>.handleInc <span style="color:#ff7b72;font-weight:bold">=</span> () =&gt; { 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_28"> 28</a></span><span>      <span style="color:#ff7b72">this</span>.count <span style="color:#ff7b72;font-weight:bold">+=</span> <span style="color:#ff7b72">this</span>.step;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_29"> 29</a></span><span>      <span style="color:#ff7b72">this</span>.updateDisplay();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_30"> 30</a></span><span>    };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_31"> 31</a></span><span>    <span style="color:#ff7b72">this</span>.handleReset <span style="color:#ff7b72;font-weight:bold">=</span> () =&gt; { 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_32"> 32</a></span><span>      <span style="color:#ff7b72">this</span>.count <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.start; 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_33"> 33</a></span><span>      <span style="color:#ff7b72">this</span>.updateDisplay(); 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_34"> 34</a></span><span>    };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_35"> 35</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_36"> 36</a></span><span>    <span style="color:#ff7b72">this</span>.decBtn.addEventListener(<span style="color:#a5d6ff">&#39;click&#39;</span>, <span style="color:#ff7b72">this</span>.handleDec);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_37"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_37"> 37</a></span><span>    <span style="color:#ff7b72">this</span>.incBtn.addEventListener(<span style="color:#a5d6ff">&#39;click&#39;</span>, <span style="color:#ff7b72">this</span>.handleInc);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_38"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_38"> 38</a></span><span>    <span style="color:#ff7b72">this</span>.resetBtn.addEventListener(<span style="color:#a5d6ff">&#39;click&#39;</span>, <span style="color:#ff7b72">this</span>.handleReset);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_39"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_39"> 39</a></span><span>  }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_40"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_40"> 40</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_41"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_41"> 41</a></span><span>  connectedCallback() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_42"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_42"> 42</a></span><span>    <span style="color:#ff7b72">const</span> startVal <span style="color:#ff7b72;font-weight:bold">=</span> parseInt(<span style="color:#ff7b72">this</span>.getAttribute(<span style="color:#a5d6ff">&#39;start&#39;</span>) <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#a5d6ff">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_43"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_43"> 43</a></span><span>    <span style="color:#ff7b72">const</span> stepVal <span style="color:#ff7b72;font-weight:bold">=</span> parseInt(<span style="color:#ff7b72">this</span>.getAttribute(<span style="color:#a5d6ff">&#39;step&#39;</span>) <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#a5d6ff">&#39;1&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_44"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_44"> 44</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_45"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_45"> 45</a></span><span>    <span style="color:#ff7b72">if</span> (startVal <span style="color:#ff7b72;font-weight:bold">&lt;</span> <span style="color:#a5d6ff">0</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_46"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_46"> 46</a></span><span>      <span style="color:#ff7b72">this</span>.errorEl.textContent <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;start must be at least 0&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_47"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_47"> 47</a></span><span>      <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;block&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_48"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_48"> 48</a></span><span>      <span style="color:#ff7b72">this</span>.start <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_49"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_49"> 49</a></span><span>    } <span style="color:#ff7b72">else</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_50"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_50"> 50</a></span><span>      <span style="color:#ff7b72">this</span>.start <span style="color:#ff7b72;font-weight:bold">=</span> startVal;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_51"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_51"> 51</a></span><span>      <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;none&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_52"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_52"> 52</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_53"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_53"> 53</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_54"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_54"> 54</a></span><span>    <span style="color:#ff7b72">if</span> (stepVal <span style="color:#ff7b72;font-weight:bold">&lt;</span> <span style="color:#a5d6ff">1</span> <span style="color:#ff7b72;font-weight:bold">||</span> stepVal <span style="color:#ff7b72;font-weight:bold">&gt;</span> <span style="color:#a5d6ff">10</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_55"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_55"> 55</a></span><span>      <span style="color:#ff7b72">this</span>.errorEl.textContent <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;step must be between 1 and 10&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_56"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_56"> 56</a></span><span>      <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;block&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_57"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_57"> 57</a></span><span>      <span style="color:#ff7b72">this</span>.step <span style="color:#ff7b72;font-weight:bold">=</span> Math.max(<span style="color:#a5d6ff">1</span>, Math.min(<span style="color:#a5d6ff">10</span>, stepVal));
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_58"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_58"> 58</a></span><span>    } <span style="color:#ff7b72">else</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_59"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_59"> 59</a></span><span>      <span style="color:#ff7b72">this</span>.step <span style="color:#ff7b72;font-weight:bold">=</span> stepVal;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_60"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_60"> 60</a></span><span>      <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72">this</span>.start <span style="color:#ff7b72;font-weight:bold">===</span> startVal) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_61"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_61"> 61</a></span><span>        <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;none&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_62"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_62"> 62</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_63"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_63"> 63</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_64"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_64"> 64</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_65"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_65"> 65</a></span><span>    <span style="color:#ff7b72">this</span>.count <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.start;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_66"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_66"> 66</a></span><span>    <span style="color:#ff7b72">this</span>.updateDisplay();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_67"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_67"> 67</a></span><span>  }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_68"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_68"> 68</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_69"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_69"> 69</a></span><span>  disconnectedCallback() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_70"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_70"> 70</a></span><span>    <span style="color:#ff7b72">this</span>.decBtn.removeEventListener(<span style="color:#a5d6ff">&#39;click&#39;</span>, <span style="color:#ff7b72">this</span>.handleDec);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_71"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_71"> 71</a></span><span>    <span style="color:#ff7b72">this</span>.incBtn.removeEventListener(<span style="color:#a5d6ff">&#39;click&#39;</span>, <span style="color:#ff7b72">this</span>.handleInc);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_72"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_72"> 72</a></span><span>    <span style="color:#ff7b72">this</span>.resetBtn.removeEventListener(<span style="color:#a5d6ff">&#39;click&#39;</span>, <span style="color:#ff7b72">this</span>.handleReset);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_73"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_73"> 73</a></span><span>  }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_74"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_74"> 74</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_75"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_75"> 75</a></span><span>  attributeChangedCallback(name, oldValue, newValue) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_76"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_76"> 76</a></span><span>    <span style="color:#ff7b72">if</span> (name <span style="color:#ff7b72;font-weight:bold">===</span> <span style="color:#a5d6ff">&#39;start&#39;</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_77"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_77"> 77</a></span><span>      <span style="color:#ff7b72">const</span> startVal <span style="color:#ff7b72;font-weight:bold">=</span> parseInt(newValue <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#a5d6ff">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_78"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_78"> 78</a></span><span>      <span style="color:#ff7b72">if</span> (startVal <span style="color:#ff7b72;font-weight:bold">&lt;</span> <span style="color:#a5d6ff">0</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_79"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_79"> 79</a></span><span>        <span style="color:#ff7b72">this</span>.errorEl.textContent <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;start must be at least 0&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_80"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_80"> 80</a></span><span>        <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;block&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_81"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_81"> 81</a></span><span>        <span style="color:#ff7b72">this</span>.start <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_82"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_82"> 82</a></span><span>      } <span style="color:#ff7b72">else</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_83"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_83"> 83</a></span><span>        <span style="color:#ff7b72">this</span>.start <span style="color:#ff7b72;font-weight:bold">=</span> startVal;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_84"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_84"> 84</a></span><span>        <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;none&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_85"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_85"> 85</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_86"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_86"> 86</a></span><span>      <span style="color:#ff7b72">this</span>.count <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.start;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_87"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_87"> 87</a></span><span>    } <span style="color:#ff7b72">else</span> <span style="color:#ff7b72">if</span> (name <span style="color:#ff7b72;font-weight:bold">===</span> <span style="color:#a5d6ff">&#39;step&#39;</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_88"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_88"> 88</a></span><span>      <span style="color:#ff7b72">const</span> stepVal <span style="color:#ff7b72;font-weight:bold">=</span> parseInt(newValue <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#a5d6ff">&#39;1&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_89"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_89"> 89</a></span><span>      <span style="color:#ff7b72">if</span> (stepVal <span style="color:#ff7b72;font-weight:bold">&lt;</span> <span style="color:#a5d6ff">1</span> <span style="color:#ff7b72;font-weight:bold">||</span> stepVal <span style="color:#ff7b72;font-weight:bold">&gt;</span> <span style="color:#a5d6ff">10</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_90"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_90"> 90</a></span><span>        <span style="color:#ff7b72">this</span>.errorEl.textContent <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;step must be between 1 and 10&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_91"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_91"> 91</a></span><span>        <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;block&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_92"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_92"> 92</a></span><span>        <span style="color:#ff7b72">this</span>.step <span style="color:#ff7b72;font-weight:bold">=</span> Math.max(<span style="color:#a5d6ff">1</span>, Math.min(<span style="color:#a5d6ff">10</span>, stepVal));
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_93"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_93"> 93</a></span><span>      } <span style="color:#ff7b72">else</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_94"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_94"> 94</a></span><span>        <span style="color:#ff7b72">this</span>.step <span style="color:#ff7b72;font-weight:bold">=</span> stepVal;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_95"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_95"> 95</a></span><span>        <span style="color:#ff7b72">this</span>.errorEl.style.display <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;none&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_96"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_96"> 96</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_97"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_97"> 97</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_98"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_98"> 98</a></span><span>    <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72">this</span>.isConnected) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_99"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_99"> 99</a></span><span>      <span style="color:#ff7b72">this</span>.updateDisplay();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_100"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_100">100</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_101"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_101">101</a></span><span>  }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_102"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_102">102</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_103"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_103">103</a></span><span>  updateDisplay() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_104"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_104">104</a></span><span>    <span style="color:#ff7b72">this</span>.countEl.textContent <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">this</span>.count;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_105"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_105">105</a></span><span>  }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_106"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_106">106</a></span><span>}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_107"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_107">107</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1176d4430b63da30_line_108"><a style="outline:none;text-decoration:none;color:inherit" href="#1176d4430b63da30_line_108">108</a></span><span>customElements.define(<span style="color:#a5d6ff">&#39;simple-counter&#39;</span>, SimpleCounter);</span></span></code></pre></div></div></div></div></div><h2 id="overview">Overview <a href="#overview" class="anchor">#</a></h2><p>Rocket allows you to turn HTML templates into fully reactive web components. The backend remains the source of truth, but your frontend components are now encapsulated and reusable without any of the usual hassle.</p><p>Add <code>data-rocket:my-component</code> to a <code>template</code> element to turn it into a Rocket component. Component signals are automatically <a href="#signal-scoping">scoped</a> with <code>$$</code>, so component instances don’t interfere with each other.</p><p>You can use Rocket to wrap external libraries using <a href="#module-imports">module imports</a>, and create <a href="#element-references">references to elements</a> within your component. Each component gets its own signal namespace that plays nicely with Datastar’s global signals. When you remove a component from the DOM, all its <code>$$</code> signals are cleaned up automatically.</p><h3 id="bridging-web-components-and-datastar">Bridging Web Components and Datastar <a href="#bridging-web-components-and-datastar" class="anchor">#</a></h3><p>Web components want encapsulation; Datastar wants a global signal store. Rocket gives you both by creating isolated namespaces for each component. Each instance gets its own sandbox that doesn’t mess with other components on the page, or with global signals.</p><p>Multiple component instances work seamlessly, each getting its own numbered namespace. You still have access to global signals when you need them, but your component state stays isolated and clean.</p><h3 id="signal-scoping">Signal Scoping <a href="#signal-scoping" class="anchor">#</a></h3><p>Use <code>$$</code> for component-scoped signals, and <code>$</code> for global signals. Component signals are automatically cleaned up when you remove the component from the DOM - no memory leaks, no manual cleanup required.</p><p>Behind the scenes, your <code>$$count</code> becomes something like <code>$._rocket.my_counter.id1.count</code>, with each instance getting its own id-prefixed namespace. You never have to think about this complexity - just write <code>$$count</code> and Rocket handles the rest.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="// Your component template writes:
&lt;button data-on:click=&#34;$$count++&#34;&gt;Increment&lt;/button&gt;
&lt;span data-text=&#34;$$count&#34;&gt;&lt;/span&gt;

// Rocket transforms it to (for instance #1):
&lt;button data-on:click=&#34;$._rocket.my_counter.id1.count++&#34;&gt;Increment&lt;/button&gt;
&lt;span data-text=&#34;$._rocket.my_counter.id1.count&#34;&gt;&lt;/span&gt;

// The global Datastar signal structure:
$._rocket = {
  my_counter: {
    id1: { count: 0 }, // First counter instance
    id2: { count: 5 }, // Second counter instance
    id3: { count: 10 } // Third counter instance
  },
  user_card: {
    id4: { name: &#34;Alice&#34; }, // Different component type
    id5: { name: &#34;Bob&#34; }
  }
}"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">// Your component template writes:
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_2"> 2</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#ff7b72;font-weight:bold">&lt;</span>button data<span style="color:#ff7b72;font-weight:bold">-</span>on<span style="color:#ff7b72;font-weight:bold">:</span>click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count++&#34;</span><span style="color:#ff7b72;font-weight:bold">&gt;</span>Increment<span style="color:#ff7b72;font-weight:bold">&lt;</span><span style="color:#f85149">/button&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_3"> 3</a></span><span><span style="color:#ff7b72;font-weight:bold">&lt;</span>span data<span style="color:#ff7b72;font-weight:bold">-</span>text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count&#34;</span><span style="color:#ff7b72;font-weight:bold">&gt;&lt;</span><span style="color:#f85149">/span&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_4"> 4</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_5"> 5</a></span><span><span style="color:#8b949e;font-style:italic">// Rocket transforms it to (for instance #1):
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic"></span><span style="color:#ff7b72;font-weight:bold">&lt;</span>button data<span style="color:#ff7b72;font-weight:bold">-</span>on<span style="color:#ff7b72;font-weight:bold">:</span>click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$._rocket.my_counter.id1.count++&#34;</span><span style="color:#ff7b72;font-weight:bold">&gt;</span>Increment<span style="color:#ff7b72;font-weight:bold">&lt;</span><span style="color:#f85149">/button&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_7"> 7</a></span><span><span style="color:#ff7b72;font-weight:bold">&lt;</span>span data<span style="color:#ff7b72;font-weight:bold">-</span>text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$._rocket.my_counter.id1.count&#34;</span><span style="color:#ff7b72;font-weight:bold">&gt;&lt;</span><span style="color:#f85149">/span&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_8"> 8</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_9"> 9</a></span><span><span style="color:#8b949e;font-style:italic">// The global Datastar signal structure:
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_10">10</a></span><span><span style="color:#8b949e;font-style:italic"></span>$._rocket <span style="color:#ff7b72;font-weight:bold">=</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_11">11</a></span><span>  my_counter<span style="color:#ff7b72;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_12">12</a></span><span>    id1<span style="color:#ff7b72;font-weight:bold">:</span> { count<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">0</span> }, <span style="color:#8b949e;font-style:italic">// First counter instance
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_13">13</a></span><span><span style="color:#8b949e;font-style:italic"></span>    id2<span style="color:#ff7b72;font-weight:bold">:</span> { count<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">5</span> }, <span style="color:#8b949e;font-style:italic">// Second counter instance
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_14">14</a></span><span><span style="color:#8b949e;font-style:italic"></span>    id3<span style="color:#ff7b72;font-weight:bold">:</span> { count<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">10</span> } <span style="color:#8b949e;font-style:italic">// Third counter instance
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_15">15</a></span><span><span style="color:#8b949e;font-style:italic"></span>  },
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_16">16</a></span><span>  user_card<span style="color:#ff7b72;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_17">17</a></span><span>    id4<span style="color:#ff7b72;font-weight:bold">:</span> { name<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#34;Alice&#34;</span> }, <span style="color:#8b949e;font-style:italic">// Different component type
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_18">18</a></span><span><span style="color:#8b949e;font-style:italic"></span>    id5<span style="color:#ff7b72;font-weight:bold">:</span> { name<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#34;Bob&#34;</span> }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_19">19</a></span><span>  }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2e2215e24db173a2_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#2e2215e24db173a2_line_20">20</a></span><span>}</span></span></code></pre></div></div><h2 id="defining-rocket-components">Defining Rocket Components <a href="#defining-rocket-components" class="anchor">#</a></h2><p>Rocket components are defined using a HTML <code>template</code> element with the <code>data-rocket:my-component</code> attribute, where <code>my-component</code> is the name of the resulting web component. The name must contain at least one hyphen, as per the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements#name" target="_blank" rel="noopener noreferrer">custom element</a> specification.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:my-counter&gt;
  &lt;script&gt;
    $$count = 0  
  &lt;/script&gt;
  &lt;button data-on:click=&#34;$$count++&#34;&gt;
    Count: &lt;span data-text=&#34;$$count&#34;&gt;&lt;/span&gt;
  &lt;/button&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:my-counter&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_3">3</a></span><span>    $$count <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">0</span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_4">4</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_5">5</a></span><span>  &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count++&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_6">6</a></span><span>    Count: &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_7">7</a></span><span>  &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6cdbcc0b87b79669_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#6cdbcc0b87b79669_line_8">8</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><p>This gets compiled to a web component, meaning that usage is simply:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;my-counter&gt;&lt;/my-counter&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7c7c28e35710f0f3_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7c7c28e35710f0f3_line_1">1</a></span><span>&lt;<span style="color:#7ee787">my-counter</span>&gt;&lt;/<span style="color:#7ee787">my-counter</span>&gt;</span></span></code></pre></div></div><p>Rocket components <em>must</em> be defined before being used in the DOM.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Template element must appear first in the DOM. --&gt;
&lt;template data-rocket:my-counter&gt;&lt;/template&gt;

&lt;my-counter&gt;&lt;/my-counter&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="da440c2dbd7fa8c4_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#da440c2dbd7fa8c4_line_1">1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Template element must appear first in the DOM. --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="da440c2dbd7fa8c4_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#da440c2dbd7fa8c4_line_2">2</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:my-counter&gt;&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="da440c2dbd7fa8c4_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#da440c2dbd7fa8c4_line_3">3</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="da440c2dbd7fa8c4_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#da440c2dbd7fa8c4_line_4">4</a></span><span>&lt;<span style="color:#7ee787">my-counter</span>&gt;&lt;/<span style="color:#7ee787">my-counter</span>&gt;</span></span></code></pre></div></div><h2 id="signal-management">Signal Management <a href="#signal-management" class="anchor">#</a></h2><p>Rocket makes it possible to work with both component-scoped and global signals (global to the entire page).</p><h3 id="component-signals">Component Signals <a href="#component-signals" class="anchor">#</a></h3><p>Component-scoped signals use the <code>$$</code> prefix and are isolated to each component instance.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:isolated-counter&gt;
  &lt;script&gt;
    // These are component-scoped – each instance has its own values
    $$count = 0
    $$step = 1
    $$maxCount = 10
    $$isAtMax = computed(() =&gt; $$count &gt;= $$maxCount)
    
    // Component actions
    actions.increment = () =&gt; {
      if ($$count &lt; $$maxCount) {
        $$count += $$step
      }
    }
  &lt;/script&gt;
  
  &lt;div&gt;
    &lt;p&gt;Count: &lt;span data-text=&#34;$$count&#34;&gt;&lt;/span&gt;&lt;/p&gt;
    &lt;p data-show=&#34;$$isAtMax&#34; class=&#34;error&#34;&gt;Maximum reached!&lt;/p&gt;
    &lt;button data-on:click=&#34;@increment()&#34; data-attr:disabled=&#34;$$isAtMax&#34;&gt;+&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- Multiple instances work independently --&gt;
&lt;isolated-counter&gt;&lt;/isolated-counter&gt;
&lt;isolated-counter&gt;&lt;/isolated-counter&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:isolated-counter&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_2"> 2</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_3"> 3</a></span><span>    <span style="color:#8b949e;font-style:italic">// These are component-scoped – each instance has its own values
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_4"> 4</a></span><span><span style="color:#8b949e;font-style:italic"></span>    $$count <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">0</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_5"> 5</a></span><span>    $$step <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">1</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_6"> 6</a></span><span>    $$maxCount <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">10</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_7"> 7</a></span><span>    $$isAtMax <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; $$count <span style="color:#ff7b72;font-weight:bold">&gt;=</span> $$maxCount)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_8"> 8</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_9"> 9</a></span><span>    <span style="color:#8b949e;font-style:italic">// Component actions
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_10">10</a></span><span><span style="color:#8b949e;font-style:italic"></span>    actions.increment <span style="color:#ff7b72;font-weight:bold">=</span> () =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_11">11</a></span><span>      <span style="color:#ff7b72">if</span> ($$count <span style="color:#ff7b72;font-weight:bold">&lt;</span> $$maxCount) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_12">12</a></span><span>        $$count <span style="color:#ff7b72;font-weight:bold">+=</span> $$step
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_13">13</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_14">14</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_15">15</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_16">16</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_17">17</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_18">18</a></span><span>    &lt;<span style="color:#7ee787">p</span>&gt;Count: &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$count&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;&lt;/<span style="color:#7ee787">p</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_19">19</a></span><span>    &lt;<span style="color:#7ee787">p</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$isAtMax&#34;</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;error&#34;</span>&gt;Maximum reached!&lt;/<span style="color:#7ee787">p</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_20">20</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@increment()&#34;</span> data-attr:disabled<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$isAtMax&#34;</span>&gt;+&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_21">21</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_22">22</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_23">23</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_24">24</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Multiple instances work independently --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_25">25</a></span><span>&lt;<span style="color:#7ee787">isolated-counter</span>&gt;&lt;/<span style="color:#7ee787">isolated-counter</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="e80ce0944baf7643_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#e80ce0944baf7643_line_26">26</a></span><span>&lt;<span style="color:#7ee787">isolated-counter</span>&gt;&lt;/<span style="color:#7ee787">isolated-counter</span>&gt;</span></span></code></pre></div></div><h3 id="global-signals">Global Signals <a href="#global-signals" class="anchor">#</a></h3><p>Global signals use the <code>$</code> prefix and are shared across the entire page.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:theme-toggle&gt;
  &lt;script&gt;
    // Access global theme state
    if (!$theme) {
      $theme = &#39;light&#39;
    }
    
    actions.toggleTheme = () =&gt; {
      $theme = $theme === &#39;light&#39; ? &#39;dark&#39; : &#39;light&#39;
    }
  &lt;/script&gt;
  
  &lt;button data-on:click=&#34;@toggleTheme()&#34;&gt;
    &lt;span data-text=&#34;$theme === &#39;light&#39; ? &#39;🌙&#39; : &#39;☀️&#39;&#34;&gt;&lt;/span&gt;
    &lt;span data-text=&#34;$theme === &#39;light&#39; ? &#39;Dark Mode&#39; : &#39;Light Mode&#39;&#34;&gt;&lt;/span&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;!-- All instances share the same global theme --&gt;
&lt;theme-toggle&gt;&lt;/theme-toggle&gt;
&lt;theme-toggle&gt;&lt;/theme-toggle&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:theme-toggle&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_2"> 2</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_3"> 3</a></span><span>    <span style="color:#8b949e;font-style:italic">// Access global theme state
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_4"> 4</a></span><span><span style="color:#8b949e;font-style:italic"></span>    <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72;font-weight:bold">!</span>$theme) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_5"> 5</a></span><span>      $theme <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;light&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_6"> 6</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_7"> 7</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_8"> 8</a></span><span>    actions.toggleTheme <span style="color:#ff7b72;font-weight:bold">=</span> () =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_9"> 9</a></span><span>      $theme <span style="color:#ff7b72;font-weight:bold">=</span> $theme <span style="color:#ff7b72;font-weight:bold">===</span> <span style="color:#a5d6ff">&#39;light&#39;</span> <span style="color:#ff7b72;font-weight:bold">?</span> <span style="color:#a5d6ff">&#39;dark&#39;</span> <span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;light&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_10">10</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_11">11</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_12">12</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_13">13</a></span><span>  &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@toggleTheme()&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_14">14</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$theme === &#39;light&#39; ? &#39;🌙&#39; : &#39;☀️&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_15">15</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$theme === &#39;light&#39; ? &#39;Dark Mode&#39; : &#39;Light Mode&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_16">16</a></span><span>  &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_17">17</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_18">18</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_19">19</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- All instances share the same global theme --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_20">20</a></span><span>&lt;<span style="color:#7ee787">theme-toggle</span>&gt;&lt;/<span style="color:#7ee787">theme-toggle</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a7bc1fc7e4cef174_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#a7bc1fc7e4cef174_line_21">21</a></span><span>&lt;<span style="color:#7ee787">theme-toggle</span>&gt;&lt;/<span style="color:#7ee787">theme-toggle</span>&gt;</span></span></code></pre></div></div><h2 id="props">Props <a href="#props" class="anchor">#</a></h2><p>The <code>data-props:*</code> attribute allows you to define component props with codecs for validation and defaults.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;!-- Component definition with defaults --&gt;
&lt;template data-rocket:progress-bar
          data-props:value=&#34;int|=0&#34;
          data-props:max=&#34;int|=100&#34; 
          data-props:color=&#34;string|=blue&#34;
&gt;
  &lt;script&gt;
    $$percentage = computed(() =&gt; Math.round(($$value / $$max) * 100))
  &lt;/script&gt;
  
  &lt;div class=&#34;progress-container&#34;&gt;
    &lt;div class=&#34;progress-bar&#34; 
        data-style=&#34;{
          width: $$percentage + &#39;%&#39;,
          backgroundColor: $$color
        }&#34;&gt;
    &lt;/div&gt;
    &lt;span data-text=&#34;$$percentage + &#39;%&#39;&#34;&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- Usage --&gt;
&lt;progress-bar data-attr:value=&#34;&#39;75&#39;&#34; data-attr:color=&#34;&#39;green&#39;&#34;&gt;&lt;/progress-bar&gt;
&lt;progress-bar data-attr:value=&#34;&#39;30&#39;&#34; data-attr:max=&#34;&#39;50&#39;&#34;&gt;&lt;/progress-bar&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_1"> 1</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Component definition with defaults --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_2"> 2</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:progress-bar
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_3"> 3</a></span><span>          data-props:value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|=0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_4"> 4</a></span><span>          data-props:max<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|=100&#34;</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_5"> 5</a></span><span>          data-props:color<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|=blue&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_6"> 6</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_7"> 7</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_8"> 8</a></span><span>    $$percentage <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; Math.round(($$value <span style="color:#ff7b72;font-weight:bold">/</span> $$max) <span style="color:#ff7b72;font-weight:bold">*</span> <span style="color:#a5d6ff">100</span>))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_9"> 9</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_10">10</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_11">11</a></span><span>  &lt;<span style="color:#7ee787">div</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;progress-container&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_12">12</a></span><span>    &lt;<span style="color:#7ee787">div</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;progress-bar&#34;</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_13">13</a></span><span>        data-style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_14">14</a></span><span><span style="color:#a5d6ff">          width: $$percentage + &#39;%&#39;,
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_15">15</a></span><span><span style="color:#a5d6ff">          backgroundColor: $$color
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_16">16</a></span><span><span style="color:#a5d6ff">        }&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_17">17</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_18">18</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$percentage + &#39;%&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_19">19</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_20">20</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_21">21</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_22">22</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Usage --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_23">23</a></span><span>&lt;<span style="color:#7ee787">progress-bar</span> data-attr:value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;75&#39;&#34;</span> data-attr:color<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;green&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">progress-bar</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ecd42f8fdb3d149b_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#ecd42f8fdb3d149b_line_24">24</a></span><span>&lt;<span style="color:#7ee787">progress-bar</span> data-attr:value<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;30&#39;&#34;</span> data-attr:max<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;50&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">progress-bar</span>&gt;</span></span></code></pre></div></div><p>Rocket automatically transforms and validates values using the <a href="#validation-with-codecs">codecs</a> defined in <code>data-props:*</code> attributes.</p><h2 id="setup-scripts">Setup Scripts <a href="#setup-scripts" class="anchor">#</a></h2><p>Setup scripts initialize component behavior and run when the component is created. Rocket supports both component (per-instance) and static (one-time) setup scripts.</p><h3 id="component-setup-scripts">Component Setup Scripts <a href="#component-setup-scripts" class="anchor">#</a></h3><p>Regular <code>&lt;script&gt;</code> tags run for each component instance.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:timer
          data-props:seconds=&#34;int|=0&#34;
          data-props:running=&#34;boolean|=false&#34;
          data-props:interval=&#34;int|=1000&#34;
&gt;
  &lt;script&gt;
    $$minutes = computed(() =&gt; Math.floor($$seconds / 60))
    $$displayTime = computed(() =&gt; {
      const m = String($$minutes).padStart(2, &#39;0&#39;)
      const s = String($$seconds % 60).padStart(2, &#39;0&#39;)
      return m + &#39;:&#39; + s
    })
    
    let intervalId
    effect(() =&gt; {
      if ($$running) {
        intervalId = setInterval(() =&gt; $$seconds++, $$interval)
      } else {
        clearInterval(intervalId)
      }
    })
    
    // Cleanup when component is removed
    onCleanup(() =&gt; {
      clearInterval(intervalId)
    })
  &lt;/script&gt;
  
  &lt;div&gt;
    &lt;h2 data-text=&#34;$$displayTime&#34;&gt;&lt;/h2&gt;
    &lt;button data-on:click=&#34;$$running = !$$running&#34; 
            data-text=&#34;$$running ? &#39;Stop&#39; : &#39;Start&#39;&#34;&gt;
    &lt;/button&gt;
    &lt;button data-on:click=&#34;$$seconds = 0&#34;&gt;Reset&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:timer
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_2"> 2</a></span><span>          data-props:seconds<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|=0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_3"> 3</a></span><span>          data-props:running<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;boolean|=false&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_4"> 4</a></span><span>          data-props:interval<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|=1000&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_5"> 5</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_6"> 6</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_7"> 7</a></span><span>    $$minutes <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; Math.floor($$seconds <span style="color:#ff7b72;font-weight:bold">/</span> <span style="color:#a5d6ff">60</span>))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_8"> 8</a></span><span>    $$displayTime <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_9"> 9</a></span><span>      <span style="color:#ff7b72">const</span> m <span style="color:#ff7b72;font-weight:bold">=</span> String($$minutes).padStart(<span style="color:#a5d6ff">2</span>, <span style="color:#a5d6ff">&#39;0&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_10">10</a></span><span>      <span style="color:#ff7b72">const</span> s <span style="color:#ff7b72;font-weight:bold">=</span> String($$seconds <span style="color:#ff7b72;font-weight:bold">%</span> <span style="color:#a5d6ff">60</span>).padStart(<span style="color:#a5d6ff">2</span>, <span style="color:#a5d6ff">&#39;0&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_11">11</a></span><span>      <span style="color:#ff7b72">return</span> m <span style="color:#ff7b72;font-weight:bold">+</span> <span style="color:#a5d6ff">&#39;:&#39;</span> <span style="color:#ff7b72;font-weight:bold">+</span> s
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_12">12</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_13">13</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_14">14</a></span><span>    <span style="color:#ff7b72">let</span> intervalId
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_15">15</a></span><span>    effect(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_16">16</a></span><span>      <span style="color:#ff7b72">if</span> ($$running) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_17">17</a></span><span>        intervalId <span style="color:#ff7b72;font-weight:bold">=</span> setInterval(() =&gt; $$seconds<span style="color:#ff7b72;font-weight:bold">++</span>, $$interval)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_18">18</a></span><span>      } <span style="color:#ff7b72">else</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_19">19</a></span><span>        clearInterval(intervalId)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_20">20</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_21">21</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_22">22</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_23">23</a></span><span>    <span style="color:#8b949e;font-style:italic">// Cleanup when component is removed
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_24">24</a></span><span><span style="color:#8b949e;font-style:italic"></span>    onCleanup(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_25">25</a></span><span>      clearInterval(intervalId)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_26">26</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_27">27</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_28">28</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_29">29</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_30">30</a></span><span>    &lt;<span style="color:#7ee787">h2</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$displayTime&#34;</span>&gt;&lt;/<span style="color:#7ee787">h2</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_31">31</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$running = !$$running&#34;</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_32">32</a></span><span>            data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$running ? &#39;Stop&#39; : &#39;Start&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_33">33</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_34">34</a></span><span>    &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$seconds = 0&#34;</span>&gt;Reset&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_35">35</a></span><span>&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="6abe4866c0e34187_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#6abe4866c0e34187_line_36">36</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="host-element-access">Host Element Access <a href="#host-element-access" class="anchor">#</a></h3><p>Rocket injects an <code>el</code> binding into every component setup script. It always points to the current custom element instance, even when you opt into Shadow DOM, so you can imperatively read attributes, toggle classes, or wire event listeners.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:focus-pill&gt;
  &lt;script&gt;
    el.setAttribute(&#39;role&#39;, &#39;button&#39;)
    el.addEventListener(&#39;focus&#39;, () =&gt; el.classList.add(&#39;is-focused&#39;))
    el.addEventListener(&#39;blur&#39;, () =&gt; el.classList.remove(&#39;is-focused&#39;))
  &lt;/script&gt;
  
  &lt;span&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/span&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:focus-pill&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_3">3</a></span><span>    el.setAttribute(<span style="color:#a5d6ff">&#39;role&#39;</span>, <span style="color:#a5d6ff">&#39;button&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_4">4</a></span><span>    el.addEventListener(<span style="color:#a5d6ff">&#39;focus&#39;</span>, () =&gt; el.classList.add(<span style="color:#a5d6ff">&#39;is-focused&#39;</span>))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_5">5</a></span><span>    el.addEventListener(<span style="color:#a5d6ff">&#39;blur&#39;</span>, () =&gt; el.classList.remove(<span style="color:#a5d6ff">&#39;is-focused&#39;</span>))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_6">6</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_7">7</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_8">8</a></span><span>  &lt;<span style="color:#7ee787">span</span>&gt;&lt;<span style="color:#7ee787">slot</span>&gt;&lt;/<span style="color:#7ee787">slot</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8c3f6cdb29111cbf_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#8c3f6cdb29111cbf_line_9">9</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><p>Setup code executes inside an arrow function sandbox, so <code>this</code> has no meaning inside component scripts. Use <code>el</code> any time you need the host element—for example to call <code>el.shadowRoot</code>, <code>el.setAttribute</code>, or pass it into a third-party library.</p><h3 id="static-setup-scripts">Static Setup Scripts <a href="#static-setup-scripts" class="anchor">#</a></h3><p>Scripts with a <code>data-static</code> attribute only run once, when the component type is first registered. This is useful for shared constants or utilities.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:icon-button&gt;
  &lt;script data-static&gt;
    const icons = {
      heart: &#39;❤️&#39;,
      star: &#39;⭐&#39;,
      thumbs: &#39;👍&#39;,
      fire: &#39;🔥&#39;
    }
  &lt;/script&gt;
  
  &lt;script&gt;
    $$icon = $$type || &#39;heart&#39;
    $$emoji = computed(() =&gt; icons[$$icon] || &#39;❓&#39;)
  &lt;/script&gt;
  
  &lt;button data-on:click=&#34;@click()&#34;&gt;
    &lt;span data-text=&#34;$$emoji&#34;&gt;&lt;/span&gt;
    &lt;span data-text=&#34;$$label || &#39;Click me&#39;&#34;&gt;&lt;/span&gt;
  &lt;/button&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:icon-button&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_2"> 2</a></span><span>  &lt;<span style="color:#7ee787">script</span> data-static&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_3"> 3</a></span><span>    <span style="color:#ff7b72">const</span> icons <span style="color:#ff7b72;font-weight:bold">=</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_4"> 4</a></span><span>      heart<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;❤️&#39;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_5"> 5</a></span><span>      star<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;⭐&#39;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_6"> 6</a></span><span>      thumbs<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;👍&#39;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_7"> 7</a></span><span>      fire<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;🔥&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_8"> 8</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_9"> 9</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_10">10</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_11">11</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_12">12</a></span><span>    $$icon <span style="color:#ff7b72;font-weight:bold">=</span> $$type <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#a5d6ff">&#39;heart&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_13">13</a></span><span>    $$emoji <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; icons[$$icon] <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#a5d6ff">&#39;❓&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_14">14</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_15">15</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_16">16</a></span><span>  &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@click()&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_17">17</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$emoji&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_18">18</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$label || &#39;Click me&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_19">19</a></span><span>  &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="37e9a26342f83c42_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#37e9a26342f83c42_line_20">20</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h2 id="module-imports">Module Imports <a href="#module-imports" class="anchor">#</a></h2><p>Rocket allows you to wrap external libraries, loading them before the component initializes and the setup script runs. Use <code>data-import:*</code> for modern ES modules, and add the <code>__iife</code> modifier (<code>data-import:foo__iife</code>) for legacy globals.</p><h3 id="esm-imports-default">ESM Imports (default) <a href="#esm-imports-default" class="anchor">#</a></h3><p>The <code>data-import:*</code> attribute loads modern ES modules by default.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:qr-generator
          data-props:text=&#34;string|trim|required!|=Hello World&#34;
          data-props:size=&#34;int|min:50|max:1000|=200&#34;
          data-import:qr=&#34;https://cdn.jsdelivr.net/npm/qr-creator@1.0.0/+esm&#34;
&gt;
  &lt;script&gt;
    $$errorText = &#39;&#39;
    
    effect(() =&gt; {
      // Check for validation errors first
      if ($$hasErrs) {
        const messages = []
        if ($$errs?.text) {
          messages.push(&#39;Text is required&#39;)
        }
        if ($$errs?.size) {
          messages.push(&#39;Size must be 50-1000px&#39;)
        }
        $$errorText = messages.join(&#39;, &#39;) || &#39;Validation failed&#39;
        return
      }

      if (!$$canvas) {
        return
      }

      if (!qr) {
        $$errorText = &#39;QR library not loaded&#39;
        return
      }
      
      try {
        qr.render({
          text: $$text,
          size: $$size
        }, $$canvas)
        $$errorText = &#39;&#39;
      } catch (err) {
        $$errorText = &#39;QR generation failed&#39;
      }
    })
  &lt;/script&gt;
  
  &lt;div data-style=&#34;{width: $$size + &#39;px&#39;, height: $$size + &#39;px&#39;}&#34;&gt;
    &lt;template data-if=&#34;!$$errorText&#34;&gt;
      &lt;canvas data-ref=&#34;canvas&#34; style=&#34;display: block;&#34;&gt;&lt;/canvas&gt;
    &lt;/template&gt;
    &lt;template data-else&gt;
      &lt;div data-text=&#34;$$errorText&#34; class=&#34;error&#34;&gt;&lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:qr-generator
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_2"> 2</a></span><span>          data-props:text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|trim|required!|=Hello World&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_3"> 3</a></span><span>          data-props:size<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|min:50|max:1000|=200&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_4"> 4</a></span><span>          data-import:qr<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;https://cdn.jsdelivr.net/npm/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b7c6c59ad4c5d2d6c3d8c5f78699879987">[email&#160;protected]</a>/+esm&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_5"> 5</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_6"> 6</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_7"> 7</a></span><span>    $$errorText <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_8"> 8</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_9"> 9</a></span><span>    effect(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_10">10</a></span><span>      <span style="color:#8b949e;font-style:italic">// Check for validation errors first
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_11">11</a></span><span><span style="color:#8b949e;font-style:italic"></span>      <span style="color:#ff7b72">if</span> ($$hasErrs) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_12">12</a></span><span>        <span style="color:#ff7b72">const</span> messages <span style="color:#ff7b72;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_13">13</a></span><span>        <span style="color:#ff7b72">if</span> ($$errs<span style="color:#ff7b72;font-weight:bold">?</span>.text) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_14">14</a></span><span>          messages.push(<span style="color:#a5d6ff">&#39;Text is required&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_15">15</a></span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_16">16</a></span><span>        <span style="color:#ff7b72">if</span> ($$errs<span style="color:#ff7b72;font-weight:bold">?</span>.size) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_17">17</a></span><span>          messages.push(<span style="color:#a5d6ff">&#39;Size must be 50-1000px&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_18">18</a></span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_19">19</a></span><span>        $$errorText <span style="color:#ff7b72;font-weight:bold">=</span> messages.join(<span style="color:#a5d6ff">&#39;, &#39;</span>) <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#a5d6ff">&#39;Validation failed&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_20">20</a></span><span>        <span style="color:#ff7b72">return</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_21">21</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_22">22</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_23">23</a></span><span>      <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72;font-weight:bold">!</span>$$canvas) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_24">24</a></span><span>        <span style="color:#ff7b72">return</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_25">25</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_26">26</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_27">27</a></span><span>      <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72;font-weight:bold">!</span>qr) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_28">28</a></span><span>        $$errorText <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;QR library not loaded&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_29">29</a></span><span>        <span style="color:#ff7b72">return</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_30">30</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_31">31</a></span><span>      
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_32">32</a></span><span>      <span style="color:#ff7b72">try</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_33">33</a></span><span>        qr.render({
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_34">34</a></span><span>          text<span style="color:#ff7b72;font-weight:bold">:</span> $$text,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_35">35</a></span><span>          size<span style="color:#ff7b72;font-weight:bold">:</span> $$size
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_36">36</a></span><span>        }, $$canvas)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_37"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_37">37</a></span><span>        $$errorText <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_38"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_38">38</a></span><span>      } <span style="color:#ff7b72">catch</span> (err) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_39"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_39">39</a></span><span>        $$errorText <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;QR generation failed&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_40"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_40">40</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_41"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_41">41</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_42"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_42">42</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_43"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_43">43</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_44"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_44">44</a></span><span>  &lt;<span style="color:#7ee787">div</span> data-style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;{width: $$size + &#39;px&#39;, height: $$size + &#39;px&#39;}&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_45"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_45">45</a></span><span>    &lt;<span style="color:#7ee787">template</span> data-if<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;!$$errorText&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_46"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_46">46</a></span><span>      &lt;<span style="color:#7ee787">canvas</span> data-ref<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;canvas&#34;</span> style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;display: block;&#34;</span>&gt;&lt;/<span style="color:#7ee787">canvas</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_47"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_47">47</a></span><span>    &lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_48"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_48">48</a></span><span>    &lt;<span style="color:#7ee787">template</span> data-else&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_49"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_49">49</a></span><span>      &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$errorText&#34;</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;error&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_50"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_50">50</a></span><span>    &lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_51"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_51">51</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="3cb46e28a5f4057e_line_52"><a style="outline:none;text-decoration:none;color:inherit" href="#3cb46e28a5f4057e_line_52">52</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="iife-imports-legacy-globals">IIFE Imports (legacy globals) <a href="#iife-imports-legacy-globals" class="anchor">#</a></h3><p>Add the <code>__iife</code> modifier for legacy libraries that expose globals. The library must expose a global variable that matches the alias you specify after <code>data-import:</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:chart
          data-props:data=&#34;json|=[]&#34;
          data-props:type=&#34;string|=line&#34;
          data-import:chart__iife=&#34;https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js&#34;
&gt;
  &lt;script&gt;
    let chartInstance
    
    effect(() =&gt; {
      if (!$$canvas || !chart || !$$data.length) {
        return
      }

      if (chartInstance) {
        chartInstance.destroy()
      }
      
      const ctx = $$canvas.getContext(&#39;2d&#39;)
      chartInstance = new chart.Chart(ctx, {
        type: $$type,
        data: {
          datasets: [{
            data: $$data,
            backgroundColor: &#39;#3b82f6&#39;
          }]
        }
      })
    })
    
    onCleanup(() =&gt; {
      if (chartInstance) {
        chartInstance.destroy()
      }
    })
  &lt;/script&gt;
  
  &lt;canvas data-ref=&#34;canvas&#34;&gt;&lt;/canvas&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:chart
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_2"> 2</a></span><span>          data-props:data<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;json|=[]&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_3"> 3</a></span><span>          data-props:type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|=line&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_4"> 4</a></span><span>          data-import:chart__iife<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;https://cdn.jsdelivr.net/npm/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="98fbf0f9eaecb6f2ebd8acb6acb6a8">[email&#160;protected]</a>/dist/chart.umd.js&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_5"> 5</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_6"> 6</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_7"> 7</a></span><span>    <span style="color:#ff7b72">let</span> chartInstance
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_8"> 8</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_9"> 9</a></span><span>    effect(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_10">10</a></span><span>      <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72;font-weight:bold">!</span>$$canvas <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#ff7b72;font-weight:bold">!</span>chart <span style="color:#ff7b72;font-weight:bold">||</span> <span style="color:#ff7b72;font-weight:bold">!</span>$$data.length) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_11">11</a></span><span>        <span style="color:#ff7b72">return</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_12">12</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_13">13</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_14">14</a></span><span>      <span style="color:#ff7b72">if</span> (chartInstance) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_15">15</a></span><span>        chartInstance.destroy()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_16">16</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_17">17</a></span><span>      
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_18">18</a></span><span>      <span style="color:#ff7b72">const</span> ctx <span style="color:#ff7b72;font-weight:bold">=</span> $$canvas.getContext(<span style="color:#a5d6ff">&#39;2d&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_19">19</a></span><span>      chartInstance <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">new</span> chart.Chart(ctx, {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_20">20</a></span><span>        type<span style="color:#ff7b72;font-weight:bold">:</span> $$type,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_21">21</a></span><span>        data<span style="color:#ff7b72;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_22">22</a></span><span>          datasets<span style="color:#ff7b72;font-weight:bold">:</span> [{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_23">23</a></span><span>            data<span style="color:#ff7b72;font-weight:bold">:</span> $$data,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_24">24</a></span><span>            backgroundColor<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">&#39;#3b82f6&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_25">25</a></span><span>          }]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_26">26</a></span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_27">27</a></span><span>      })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_28">28</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_29">29</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_30">30</a></span><span>    onCleanup(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_31">31</a></span><span>      <span style="color:#ff7b72">if</span> (chartInstance) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_32">32</a></span><span>        chartInstance.destroy()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_33">33</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_34">34</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_35">35</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_36">36</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_37"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_37">37</a></span><span>  &lt;<span style="color:#7ee787">canvas</span> data-ref<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;canvas&#34;</span>&gt;&lt;/<span style="color:#7ee787">canvas</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4f651ed891871e8b_line_38"><a style="outline:none;text-decoration:none;color:inherit" href="#4f651ed891871e8b_line_38">38</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h2 id="rocket-attributes">Rocket Attributes <a href="#rocket-attributes" class="anchor">#</a></h2><p>In addition to the Rocket-specific <code>data-*</code> attributes defined above, the following attributes are available within Rocket components.</p><p>Rocket only transforms Datastar attributes such as <code>data-text</code>, <code>data-on</code>, and <code>data-attr</code>. Custom <code>data-*</code> attributes you add for your own semantics (e.g., <code>data-info="Hello Delaney!"</code>) are preserved verbatim in the rendered DOM.</p><p>By default, Rocket renders into the light DOM of the custom element, so the component’s content participates directly in the page layout and inherits global styles. The shadow attributes <code>data-shadow-*</code> let's you opt a component into using a Shadow DOM host instead. If you’re not familiar with Shadow DOM concepts like the <a href="https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot" target="_blank" rel="noopener noreferrer">shadow root</a>, it’s worth reading the MDN documentation first.</p><h3 id="data-shadow-open"><code>data-shadow-open</code> <a href="#data-shadow-open" class="anchor">#</a></h3><p>Use <code>data-shadow-open</code> to force an <strong>open Shadow DOM</strong> when you want style encapsulation but still need access to internal elements via <code>element.shadowRoot</code>, which is useful during debugging or integration.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:tag-pill
          data-shadow-open
          data-props:label=&#34;string|trim|required!&#34;&gt;
  &lt;style&gt;
    .pill {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0.5rem;
      border-radius: 999px;
      background: #0f172a;
      color: white;
      font-size: 0.75rem;
      gap: 0.25rem;
    }
    .dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #22c55e;
    }
  &lt;/style&gt;
  &lt;div class=&#34;pill&#34;&gt;
    &lt;span class=&#34;dot&#34;&gt;&lt;/span&gt;
    &lt;span data-text=&#34;$$label&#34;&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- Styles are fully encapsulated, but devtools and test harnesses can still inspect the .pill element via element.shadowRoot --&gt;
&lt;tag-pill data-attr:label=&#34;&#39;Shadow-ready&#39;&#34;&gt;&lt;/tag-pill&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:tag-pill
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_2"> 2</a></span><span>          data-shadow-open
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_3"> 3</a></span><span>          data-props:label<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|trim|required!&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_4"> 4</a></span><span>  &lt;<span style="color:#7ee787">style</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_5"> 5</a></span><span>    .<span style="color:#f0883e;font-weight:bold">pill</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_6"> 6</a></span><span>      <span style="color:#ff7b72">display</span>: <span style="color:#79c0ff">inline-flex</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_7"> 7</a></span><span>      <span style="color:#ff7b72">align-items</span>: <span style="color:#79c0ff">center</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_8"> 8</a></span><span>      <span style="color:#ff7b72">padding</span>: <span style="color:#a5d6ff">0.25</span><span style="color:#ff7b72">rem</span> <span style="color:#a5d6ff">0.5</span><span style="color:#ff7b72">rem</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_9"> 9</a></span><span>      <span style="color:#ff7b72">border-radius</span>: <span style="color:#a5d6ff">999</span><span style="color:#ff7b72">px</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_10">10</a></span><span>      <span style="color:#ff7b72">background</span>: <span style="color:#a5d6ff">#0f172a</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_11">11</a></span><span>      <span style="color:#ff7b72">color</span>: <span style="color:#79c0ff">white</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_12">12</a></span><span>      <span style="color:#ff7b72">font-size</span>: <span style="color:#a5d6ff">0.75</span><span style="color:#ff7b72">rem</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_13">13</a></span><span>      <span style="color:#ff7b72">gap</span>: <span style="color:#a5d6ff">0.25</span><span style="color:#ff7b72">rem</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_14">14</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_15">15</a></span><span>    .<span style="color:#f0883e;font-weight:bold">dot</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_16">16</a></span><span>      <span style="color:#ff7b72">width</span>: <span style="color:#a5d6ff">6</span><span style="color:#ff7b72">px</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_17">17</a></span><span>      <span style="color:#ff7b72">height</span>: <span style="color:#a5d6ff">6</span><span style="color:#ff7b72">px</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_18">18</a></span><span>      <span style="color:#ff7b72">border-radius</span>: <span style="color:#a5d6ff">999</span><span style="color:#ff7b72">px</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_19">19</a></span><span>      <span style="color:#ff7b72">background</span>: <span style="color:#a5d6ff">#22c55e</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_20">20</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_21">21</a></span><span>  &lt;/<span style="color:#7ee787">style</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_22">22</a></span><span>  &lt;<span style="color:#7ee787">div</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;pill&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_23">23</a></span><span>    &lt;<span style="color:#7ee787">span</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;dot&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_24">24</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$label&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_25">25</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_26">26</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_27">27</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_28">28</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- Styles are fully encapsulated, but devtools and test harnesses can still inspect the .pill element via element.shadowRoot --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="5d544ed8a5147b0c_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#5d544ed8a5147b0c_line_29">29</a></span><span>&lt;<span style="color:#7ee787">tag-pill</span> data-attr:label<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;Shadow-ready&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">tag-pill</span>&gt;</span></span></code></pre></div></div><h3 id="data-shadow-closed"><code>data-shadow-closed</code> <a href="#data-shadow-closed" class="anchor">#</a></h3><p>Use <code>data-shadow-closed</code> to force a <strong>closed Shadow DOM</strong>. Choose this when you want the implementation to be fully encapsulated and inaccessible via <code>element.shadowRoot</code>, while still benefitting from Shadow DOM styling and slot projection.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:status-tooltip
          data-shadow-closed
          data-props:text=&#34;string|trim|required!&#34;&gt;
  &lt;script&gt;
    $$show = false
  &lt;/script&gt;

  &lt;span data-on:mouseenter=&#34;$$show = true&#34;
        data-on:mouseleave=&#34;$$show = false&#34;&gt;
    &lt;slot&gt;&lt;/slot&gt;
    &lt;span data-show=&#34;$$show&#34; class=&#34;tooltip&#34;
          data-text=&#34;$$text&#34;&gt;&lt;/span&gt;
  &lt;/span&gt;
&lt;/template&gt;

&lt;!-- The tooltip DOM is hidden inside a closed shadow root --&gt;
&lt;status-tooltip data-attr:text=&#34;&#39;Hello from Rocket&#39;&#34;&gt;
  Hover me
&lt;/status-tooltip&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:status-tooltip
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_2"> 2</a></span><span>          data-shadow-closed
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_3"> 3</a></span><span>          data-props:text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|trim|required!&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_4"> 4</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_5"> 5</a></span><span>    $$show <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">false</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_6"> 6</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_7"> 7</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_8"> 8</a></span><span>  &lt;<span style="color:#7ee787">span</span> data-on:mouseenter<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$show = true&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_9"> 9</a></span><span>        data-on:mouseleave<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$show = false&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_10">10</a></span><span>    &lt;<span style="color:#7ee787">slot</span>&gt;&lt;/<span style="color:#7ee787">slot</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_11">11</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$show&#34;</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;tooltip&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_12">12</a></span><span>          data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$text&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_13">13</a></span><span>  &lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_14">14</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_15">15</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_16">16</a></span><span><span style="color:#8b949e;font-style:italic">&lt;!-- The tooltip DOM is hidden inside a closed shadow root --&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_17">17</a></span><span>&lt;<span style="color:#7ee787">status-tooltip</span> data-attr:text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;Hello from Rocket&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_18">18</a></span><span>  Hover me
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="96bc47f80919055c_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#96bc47f80919055c_line_19">19</a></span><span>&lt;/<span style="color:#7ee787">status-tooltip</span>&gt;</span></span></code></pre></div></div><h3 id="data-if"><code>data-if</code> <a href="#data-if" class="anchor">#</a></h3><p>Conditionally outputs an element based on an expression. Must be placed on a <code>&lt;template&gt;</code> element in Rocket components.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-if=&#34;$$items.count&#34;&gt;
  &lt;div data-text=&#34;$$items.count + &#39; items&#39;&#34;&gt;&lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="61fdd6bedaf31d20_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#61fdd6bedaf31d20_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-if<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="61fdd6bedaf31d20_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#61fdd6bedaf31d20_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count + &#39; items&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="61fdd6bedaf31d20_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#61fdd6bedaf31d20_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="data-else-if"><code>data-else-if</code> <a href="#data-else-if" class="anchor">#</a></h3><p>Conditionally outputs an element based on an expression, if the preceding <code>data-if</code> condition is falsy. Must be on a <code>&lt;template&gt;</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-if=&#34;$$items.count&#34;&gt;
  &lt;div data-text=&#34;$$items.count + &#39; items found.&#39;&#34;&gt;&lt;/div&gt;
&lt;/template&gt;
&lt;template data-else-if=&#34;$$items.count == 1&#34;&gt;
  &lt;div data-text=&#34;$$items.count + &#39; item found.&#39;&#34;&gt;&lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a51042b14d1fbd71_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#a51042b14d1fbd71_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-if<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a51042b14d1fbd71_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#a51042b14d1fbd71_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count + &#39; items found.&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a51042b14d1fbd71_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#a51042b14d1fbd71_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a51042b14d1fbd71_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#a51042b14d1fbd71_line_4">4</a></span><span>&lt;<span style="color:#7ee787">template</span> data-else-if<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count == 1&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a51042b14d1fbd71_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#a51042b14d1fbd71_line_5">5</a></span><span>  &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count + &#39; item found.&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="a51042b14d1fbd71_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#a51042b14d1fbd71_line_6">6</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="data-else"><code>data-else</code> <a href="#data-else" class="anchor">#</a></h3><p>Outputs an element if the preceding <code>data-if</code> and <code>data-else-if</code> conditions are falsy. Must be on a <code>&lt;template&gt;</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-if=&#34;$$items.count&#34;&gt;
  &lt;div data-text=&#34;$$items.count + &#39; items found.&#39;&#34;&gt;&lt;/div&gt;
&lt;/template&gt;
&lt;template data-else&gt;
  &lt;div&gt;No items found.&lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d48b93e8c4bdde_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d48b93e8c4bdde_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-if<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d48b93e8c4bdde_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d48b93e8c4bdde_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$items.count + &#39; items found.&#39;&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d48b93e8c4bdde_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d48b93e8c4bdde_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d48b93e8c4bdde_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d48b93e8c4bdde_line_4">4</a></span><span>&lt;<span style="color:#7ee787">template</span> data-else&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d48b93e8c4bdde_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d48b93e8c4bdde_line_5">5</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;No items found.&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d48b93e8c4bdde_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d48b93e8c4bdde_line_6">6</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="data-for"><code>data-for</code> <a href="#data-for" class="anchor">#</a></h3><p>Loops over any iterable (arrays, maps, sets, strings, and plain objects), and outputs the element for each item. Must be placed on a <code>&lt;template&gt;</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-for=&#34;item, index in $$items&#34;&gt;
  &lt;div&gt;
    &lt;span data-text=&#34;index + &#39;: &#39; + item.name&#34;&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d6000a968cb082_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d6000a968cb082_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-for<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item, index in $$items&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d6000a968cb082_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d6000a968cb082_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d6000a968cb082_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d6000a968cb082_line_3">3</a></span><span>    &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;index + &#39;: &#39; + item.name&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d6000a968cb082_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d6000a968cb082_line_4">4</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b6d6000a968cb082_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#b6d6000a968cb082_line_5">5</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="data-key"><code>data-key</code> <a href="#data-key" class="anchor">#</a></h3><p>Provides a stable key for each iteration when used alongside <code>data-for</code>. Keys enable DOM reuse (Solid-like keyed loops) and must live on the same <code>&lt;template data-for&gt;</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-for=&#34;item in $$items&#34; data-key=&#34;item.id&#34;&gt;
  &lt;div data-text=&#34;item.label&#34;&gt;&lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8496b9cff508397f_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8496b9cff508397f_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-for<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item in $$items&#34;</span> data-key<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item.id&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8496b9cff508397f_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8496b9cff508397f_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">div</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item.label&#34;</span>&gt;&lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8496b9cff508397f_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8496b9cff508397f_line_3">3</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><p>The first alias (<code>item</code> above) is available to descendants just like any other binding. An optional second alias (<code>index</code> above) exposes the current key or numeric index. Nested loops are supported, and inner loop variables automatically shadow outer ones, so you can reuse names without conflicts.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-for=&#34;items in $$itemSet&#34;&gt;
  &lt;div&gt;
    &lt;template data-for=&#34;item in items&#34;&gt;
      &lt;div&gt;
        &lt;span data-text=&#34;item.name&#34;&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-for<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;items in $$itemSet&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_2">2</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_3">3</a></span><span>    &lt;<span style="color:#7ee787">template</span> data-for<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item in items&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_4">4</a></span><span>      &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_5">5</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item.name&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_6">6</a></span><span>      &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_7">7</a></span><span>    &lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_8">8</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8cb91c773f45e8ea_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#8cb91c773f45e8ea_line_9">9</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h2 id="reactive-patterns">Reactive Patterns <a href="#reactive-patterns" class="anchor">#</a></h2><p>Rocket provides <code>computed</code> and <code>effect</code> functions for declarative reactivity. These keep your component state automatically in sync with the DOM.</p><h3 id="computed-values">Computed Values <a href="#computed-values" class="anchor">#</a></h3><p>Computed values automatically update when their dependencies change.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:shopping-cart
          data-props:items=&#34;json|=[]&#34;
&gt;
  &lt;script&gt;
    // Computed values automatically recalculate
    $$total = computed(() =&gt; 
      $$items.reduce((sum, item) =&gt; sum + (item.price * item.quantity), 0)
    )
    
    $$itemCount = computed(() =&gt;
      $$items.reduce((sum, item) =&gt; sum + item.quantity, 0)
    )
    
    $$isEmpty = computed(() =&gt; $$items.length === 0)
    
    // Actions that modify reactive state
    actions.addItem = (item) =&gt; {
      $$items = [...$$items, { ...item, quantity: 1 }]
    }
    
    actions.removeItem = (index) =&gt; {
      $$items = $$items.filter((_, i) =&gt; i !== index)
    }
  &lt;/script&gt;
  
  &lt;div&gt;
    &lt;h3&gt;Shopping Cart&lt;/h3&gt;
    &lt;p data-show=&#34;$$isEmpty&#34;&gt;Cart is empty&lt;/p&gt;
    &lt;p data-show=&#34;!$$isEmpty&#34;&gt;
      Items: &lt;span data-text=&#34;$$itemCount&#34;&gt;&lt;/span&gt; | 
      Total: $&lt;span data-text=&#34;$$total.toFixed(2)&#34;&gt;&lt;/span&gt;
    &lt;/p&gt;
    
    &lt;template data-for=&#34;item, index in $$items&#34;&gt;
      &lt;div&gt;
        &lt;span data-text=&#34;item.name&#34;&gt;&lt;/span&gt; - 
        &lt;span data-text=&#34;&#39;$&#39; + item.price&#34;&gt;&lt;/span&gt;
        &lt;button data-on:click=&#34;@removeItem(index)&#34;&gt;Remove&lt;/button&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:shopping-cart
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_2"> 2</a></span><span>          data-props:items<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;json|=[]&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_3"> 3</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_4"> 4</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_5"> 5</a></span><span>    <span style="color:#8b949e;font-style:italic">// Computed values automatically recalculate
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_6"> 6</a></span><span><span style="color:#8b949e;font-style:italic"></span>    $$total <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_7"> 7</a></span><span>      $$items.reduce((sum, item) =&gt; sum <span style="color:#ff7b72;font-weight:bold">+</span> (item.price <span style="color:#ff7b72;font-weight:bold">*</span> item.quantity), <span style="color:#a5d6ff">0</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_8"> 8</a></span><span>    )
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_9"> 9</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_10">10</a></span><span>    $$itemCount <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_11">11</a></span><span>      $$items.reduce((sum, item) =&gt; sum <span style="color:#ff7b72;font-weight:bold">+</span> item.quantity, <span style="color:#a5d6ff">0</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_12">12</a></span><span>    )
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_13">13</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_14">14</a></span><span>    $$isEmpty <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; $$items.length <span style="color:#ff7b72;font-weight:bold">===</span> <span style="color:#a5d6ff">0</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_15">15</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_16">16</a></span><span>    <span style="color:#8b949e;font-style:italic">// Actions that modify reactive state
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_17">17</a></span><span><span style="color:#8b949e;font-style:italic"></span>    actions.addItem <span style="color:#ff7b72;font-weight:bold">=</span> (item) =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_18">18</a></span><span>      $$items <span style="color:#ff7b72;font-weight:bold">=</span> [...$$items, { ...item, quantity<span style="color:#ff7b72;font-weight:bold">:</span> <span style="color:#a5d6ff">1</span> }]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_19">19</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_20">20</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_21">21</a></span><span>    actions.removeItem <span style="color:#ff7b72;font-weight:bold">=</span> (index) =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_22">22</a></span><span>      $$items <span style="color:#ff7b72;font-weight:bold">=</span> $$items.filter((_, i) =&gt; i <span style="color:#ff7b72;font-weight:bold">!==</span> index)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_23">23</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_24">24</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_25">25</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_26">26</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_27">27</a></span><span>    &lt;<span style="color:#7ee787">h3</span>&gt;Shopping Cart&lt;/<span style="color:#7ee787">h3</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_28">28</a></span><span>    &lt;<span style="color:#7ee787">p</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$isEmpty&#34;</span>&gt;Cart is empty&lt;/<span style="color:#7ee787">p</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_29">29</a></span><span>    &lt;<span style="color:#7ee787">p</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;!$$isEmpty&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_30">30</a></span><span>      Items: &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$itemCount&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt; | 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_31">31</a></span><span>      Total: $&lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$total.toFixed(2)&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_32">32</a></span><span>    &lt;/<span style="color:#7ee787">p</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_33">33</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_34">34</a></span><span>    &lt;<span style="color:#7ee787">template</span> data-for<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item, index in $$items&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_35">35</a></span><span>      &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_36">36</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;item.name&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt; - 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_37"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_37">37</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;&#39;$&#39; + item.price&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_38"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_38">38</a></span><span>        &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@removeItem(index)&#34;</span>&gt;Remove&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_39"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_39">39</a></span><span>      &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_40"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_40">40</a></span><span>    &lt;/<span style="color:#7ee787">template</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_41"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_41">41</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f31e29632c25026b_line_42"><a style="outline:none;text-decoration:none;color:inherit" href="#f31e29632c25026b_line_42">42</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="effects-and-watchers">Effects and Watchers <a href="#effects-and-watchers" class="anchor">#</a></h3><p>Effects run side effects when reactive values change.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:auto-saver
          data-props:data=&#34;string|=&#34;
          data-props:last-saved=&#34;string|=&#34;
          data-props:saving=&#34;boolean|=false&#34;
&gt;
  &lt;script&gt;
    let saveTimeout
    
    // Auto-save effect
    effect(() =&gt; {
      if (!$$data) {
        return
      }
      
      clearTimeout(saveTimeout)
      saveTimeout = setTimeout(async () =&gt; {
        $$saving = true
        try {
          await actions.post(&#39;/api/save&#39;, { data: $$data })
          $$lastSaved = new Date().toLocaleTimeString()
        } catch (error) {
          console.error(&#39;Save failed:&#39;, error)
        } finally {
          $$saving = false
        }
      }, 1000) // Debounce by 1 second
    })
    
    // Theme effect
    effect(() =&gt; {
      if ($theme) {
        document.body.className = $theme + &#39;-theme&#39;
      }
    })
    
    onCleanup(() =&gt; {
      clearTimeout(saveTimeout)
    })
  &lt;/script&gt;
  
  &lt;div&gt;
    &lt;textarea data-bind=&#34;data&#34; placeholder=&#34;Start typing...&#34;&gt;&lt;/textarea&gt;
    &lt;p data-show=&#34;$$saving&#34;&gt;Saving...&lt;/p&gt;
    &lt;p data-show=&#34;$$lastSaved&#34;&gt;Last saved: &lt;span data-text=&#34;$$lastSaved&#34;&gt;&lt;/span&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:auto-saver
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_2"> 2</a></span><span>          data-props:data<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|=&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_3"> 3</a></span><span>          data-props:last-saved<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|=&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_4"> 4</a></span><span>          data-props:saving<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;boolean|=false&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_5"> 5</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_6"> 6</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_7"> 7</a></span><span>    <span style="color:#ff7b72">let</span> saveTimeout
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_8"> 8</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_9"> 9</a></span><span>    <span style="color:#8b949e;font-style:italic">// Auto-save effect
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_10">10</a></span><span><span style="color:#8b949e;font-style:italic"></span>    effect(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_11">11</a></span><span>      <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72;font-weight:bold">!</span>$$data) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_12">12</a></span><span>        <span style="color:#ff7b72">return</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_13">13</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_14">14</a></span><span>      
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_15">15</a></span><span>      clearTimeout(saveTimeout)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_16">16</a></span><span>      saveTimeout <span style="color:#ff7b72;font-weight:bold">=</span> setTimeout(<span style="color:#ff7b72">async</span> () =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_17">17</a></span><span>        $$saving <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_18">18</a></span><span>        <span style="color:#ff7b72">try</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_19">19</a></span><span>          <span style="color:#ff7b72">await</span> actions.post(<span style="color:#a5d6ff">&#39;/api/save&#39;</span>, { data<span style="color:#ff7b72;font-weight:bold">:</span> $$data })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_20">20</a></span><span>          $$lastSaved <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#ff7b72">new</span> Date().toLocaleTimeString()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_21">21</a></span><span>        } <span style="color:#ff7b72">catch</span> (error) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_22">22</a></span><span>          console.error(<span style="color:#a5d6ff">&#39;Save failed:&#39;</span>, error)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_23">23</a></span><span>        } <span style="color:#ff7b72">finally</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_24">24</a></span><span>          $$saving <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">false</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_25">25</a></span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_26">26</a></span><span>      }, <span style="color:#a5d6ff">1000</span>) <span style="color:#8b949e;font-style:italic">// Debounce by 1 second
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_27">27</a></span><span><span style="color:#8b949e;font-style:italic"></span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_28">28</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_29">29</a></span><span>    <span style="color:#8b949e;font-style:italic">// Theme effect
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_30">30</a></span><span><span style="color:#8b949e;font-style:italic"></span>    effect(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_31">31</a></span><span>      <span style="color:#ff7b72">if</span> ($theme) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_32">32</a></span><span>        document.body.className <span style="color:#ff7b72;font-weight:bold">=</span> $theme <span style="color:#ff7b72;font-weight:bold">+</span> <span style="color:#a5d6ff">&#39;-theme&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_33">33</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_34">34</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_35">35</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_36">36</a></span><span>    onCleanup(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_37"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_37">37</a></span><span>      clearTimeout(saveTimeout)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_38"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_38">38</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_39"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_39">39</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_40"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_40">40</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_41"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_41">41</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_42"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_42">42</a></span><span>    &lt;<span style="color:#7ee787">textarea</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;data&#34;</span> placeholder<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;Start typing...&#34;</span>&gt;&lt;/<span style="color:#7ee787">textarea</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_43"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_43">43</a></span><span>    &lt;<span style="color:#7ee787">p</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$saving&#34;</span>&gt;Saving...&lt;/<span style="color:#7ee787">p</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_44"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_44">44</a></span><span>    &lt;<span style="color:#7ee787">p</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$lastSaved&#34;</span>&gt;Last saved: &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$lastSaved&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;&lt;/<span style="color:#7ee787">p</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_45"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_45">45</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17f631a6c9c312c6_line_46"><a style="outline:none;text-decoration:none;color:inherit" href="#17f631a6c9c312c6_line_46">46</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h2 id="element-references">Element References <a href="#element-references" class="anchor">#</a></h2><p>You can use <code>data-ref</code> to create references to elements within your component. Element references are available as <code>$$elementName</code> signals and automatically updated when the DOM changes.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:canvas-painter
          data-props:color=&#34;string|=#000000&#34;
          data-props:brush-size=&#34;int|=5&#34;
&gt;
  &lt;script&gt;
    let ctx
    let isDrawing = false
    
    // Get canvas context when canvas is available
    effect(() =&gt; {
      if ($$canvas) {
        ctx = $$canvas.getContext(&#39;2d&#39;)
        ctx.strokeStyle = $$color
        ctx.lineWidth = $$brushSize
        ctx.lineCap = &#39;round&#39;
      }
    })
    
    // Update drawing properties
    effect(() =&gt; {
      if (ctx) {
        ctx.strokeStyle = $$color
        ctx.lineWidth = $$brushSize
      }
    })
    
    actions.startDrawing = (e) =&gt; {
      isDrawing = true
      const rect = $$canvas.getBoundingClientRect()
      ctx.beginPath()
      ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top)
    }
    
    actions.draw = (e) =&gt; {
      if (!isDrawing) {
        return
      }

      const rect = $$canvas.getBoundingClientRect()
      ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top)
      ctx.stroke()
    }
    
    actions.stopDrawing = () =&gt; {
      isDrawing = false
    }
    
    actions.clear = () =&gt; {
      if (ctx) {
        ctx.clearRect(0, 0, $$canvas.width, $$canvas.height)
      }
    }
  &lt;/script&gt;
  
  &lt;div&gt;
    &lt;div&gt;
      &lt;label&gt;Color: &lt;input type=&#34;color&#34; data-bind=&#34;color&#34;&gt;&lt;/label&gt;
      &lt;label&gt;Size: &lt;input type=&#34;range&#34; min=&#34;1&#34; max=&#34;20&#34; data-bind=&#34;brushSize&#34;&gt;&lt;/label&gt;
      &lt;button data-on:click=&#34;@clear()&#34;&gt;Clear&lt;/button&gt;
    &lt;/div&gt;
    
    &lt;canvas 
      data-ref=&#34;canvas&#34; 
      width=&#34;400&#34; 
      height=&#34;300&#34;
      style=&#34;border: 1px solid #ccc&#34;
      data-on:mousedown=&#34;@startDrawing&#34;
      data-on:mousemove=&#34;@draw&#34;
      data-on:mouseup=&#34;@stopDrawing&#34;
      data-on:mouseleave=&#34;@stopDrawing&#34;&gt;
    &lt;/canvas&gt;
  &lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:canvas-painter
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_2"> 2</a></span><span>          data-props:color<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|=#000000&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_3"> 3</a></span><span>          data-props:brush-size<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|=5&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_4"> 4</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_5"> 5</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_6"> 6</a></span><span>    <span style="color:#ff7b72">let</span> ctx
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_7"> 7</a></span><span>    <span style="color:#ff7b72">let</span> isDrawing <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">false</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_8"> 8</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_9"> 9</a></span><span>    <span style="color:#8b949e;font-style:italic">// Get canvas context when canvas is available
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_10">10</a></span><span><span style="color:#8b949e;font-style:italic"></span>    effect(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_11">11</a></span><span>      <span style="color:#ff7b72">if</span> ($$canvas) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_12">12</a></span><span>        ctx <span style="color:#ff7b72;font-weight:bold">=</span> $$canvas.getContext(<span style="color:#a5d6ff">&#39;2d&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_13">13</a></span><span>        ctx.strokeStyle <span style="color:#ff7b72;font-weight:bold">=</span> $$color
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_14">14</a></span><span>        ctx.lineWidth <span style="color:#ff7b72;font-weight:bold">=</span> $$brushSize
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_15">15</a></span><span>        ctx.lineCap <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#a5d6ff">&#39;round&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_16">16</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_17">17</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_18">18</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_19">19</a></span><span>    <span style="color:#8b949e;font-style:italic">// Update drawing properties
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_20">20</a></span><span><span style="color:#8b949e;font-style:italic"></span>    effect(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_21">21</a></span><span>      <span style="color:#ff7b72">if</span> (ctx) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_22">22</a></span><span>        ctx.strokeStyle <span style="color:#ff7b72;font-weight:bold">=</span> $$color
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_23">23</a></span><span>        ctx.lineWidth <span style="color:#ff7b72;font-weight:bold">=</span> $$brushSize
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_24">24</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_25">25</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_26">26</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_27">27</a></span><span>    actions.startDrawing <span style="color:#ff7b72;font-weight:bold">=</span> (e) =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_28">28</a></span><span>      isDrawing <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_29">29</a></span><span>      <span style="color:#ff7b72">const</span> rect <span style="color:#ff7b72;font-weight:bold">=</span> $$canvas.getBoundingClientRect()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_30">30</a></span><span>      ctx.beginPath()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_31">31</a></span><span>      ctx.moveTo(e.clientX <span style="color:#ff7b72;font-weight:bold">-</span> rect.left, e.clientY <span style="color:#ff7b72;font-weight:bold">-</span> rect.top)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_32">32</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_33">33</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_34">34</a></span><span>    actions.draw <span style="color:#ff7b72;font-weight:bold">=</span> (e) =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_35">35</a></span><span>      <span style="color:#ff7b72">if</span> (<span style="color:#ff7b72;font-weight:bold">!</span>isDrawing) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_36">36</a></span><span>        <span style="color:#ff7b72">return</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_37"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_37">37</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_38"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_38">38</a></span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_39"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_39">39</a></span><span>      <span style="color:#ff7b72">const</span> rect <span style="color:#ff7b72;font-weight:bold">=</span> $$canvas.getBoundingClientRect()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_40"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_40">40</a></span><span>      ctx.lineTo(e.clientX <span style="color:#ff7b72;font-weight:bold">-</span> rect.left, e.clientY <span style="color:#ff7b72;font-weight:bold">-</span> rect.top)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_41"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_41">41</a></span><span>      ctx.stroke()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_42"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_42">42</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_43"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_43">43</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_44"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_44">44</a></span><span>    actions.stopDrawing <span style="color:#ff7b72;font-weight:bold">=</span> () =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_45"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_45">45</a></span><span>      isDrawing <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">false</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_46"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_46">46</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_47"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_47">47</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_48"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_48">48</a></span><span>    actions.clear <span style="color:#ff7b72;font-weight:bold">=</span> () =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_49"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_49">49</a></span><span>      <span style="color:#ff7b72">if</span> (ctx) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_50"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_50">50</a></span><span>        ctx.clearRect(<span style="color:#a5d6ff">0</span>, <span style="color:#a5d6ff">0</span>, $$canvas.width, $$canvas.height)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_51"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_51">51</a></span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_52"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_52">52</a></span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_53"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_53">53</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_54"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_54">54</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_55"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_55">55</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_56"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_56">56</a></span><span>    &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_57"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_57">57</a></span><span>      &lt;<span style="color:#7ee787">label</span>&gt;Color: &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;color&#34;</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;color&#34;</span>&gt;&lt;/<span style="color:#7ee787">label</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_58"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_58">58</a></span><span>      &lt;<span style="color:#7ee787">label</span>&gt;Size: &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;range&#34;</span> min<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;1&#34;</span> max<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;20&#34;</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;brushSize&#34;</span>&gt;&lt;/<span style="color:#7ee787">label</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_59"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_59">59</a></span><span>      &lt;<span style="color:#7ee787">button</span> data-on:click<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@clear()&#34;</span>&gt;Clear&lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_60"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_60">60</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_61"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_61">61</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_62"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_62">62</a></span><span>    &lt;<span style="color:#7ee787">canvas</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_63"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_63">63</a></span><span>      data-ref<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;canvas&#34;</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_64"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_64">64</a></span><span>      width<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;400&#34;</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_65"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_65">65</a></span><span>      height<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;300&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_66"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_66">66</a></span><span>      style<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;border: 1px solid #ccc&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_67"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_67">67</a></span><span>      data-on:mousedown<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@startDrawing&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_68"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_68">68</a></span><span>      data-on:mousemove<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@draw&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_69"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_69">69</a></span><span>      data-on:mouseup<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@stopDrawing&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_70"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_70">70</a></span><span>      data-on:mouseleave<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;@stopDrawing&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_71"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_71">71</a></span><span>    &lt;/<span style="color:#7ee787">canvas</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_72"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_72">72</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="8221ed5daeaf8897_line_73"><a style="outline:none;text-decoration:none;color:inherit" href="#8221ed5daeaf8897_line_73">73</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h2 id="validation-with-codecs">Validation with Codecs <a href="#validation-with-codecs" class="anchor">#</a></h2><p>Rocket’s built-in codec system makes it possible to validate user input. By defining validation rules directly in your <code>data-props:*</code> attributes, data is automatically transformed and validated as it flows through your component.</p><h3 id="type-codecs">Type Codecs <a href="#type-codecs" class="anchor">#</a></h3><p>Type codecs convert and validate prop values.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:validated-form
          data-props:email=&#34;string|trim|required!|=&#34;
          data-props:age=&#34;int|min:18|max:120|=0&#34;
          data-props:score=&#34;int|clamp:0,100|=0&#34;
&gt;
  &lt;script&gt;
    // Signals are automatically validated by the codec system
    // No need for manual codec setup - just use the signals directly
    
    // Check for validation errors using the built-in $$hasErrs signal
    // No need to create computed - $$hasErrs is automatically available
  &lt;/script&gt;
  
  &lt;form&gt;
    &lt;div&gt;
      &lt;label&gt;Email (required):&lt;/label&gt;
      &lt;input type=&#34;email&#34; data-bind=&#34;email&#34;&gt;
      &lt;span data-show=&#34;$$errs?.email&#34; class=&#34;error&#34;&gt;Email is required&lt;/span&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
      &lt;label&gt;Age (18-120):&lt;/label&gt;
      &lt;input type=&#34;number&#34; data-bind=&#34;age&#34;&gt;
      &lt;span data-show=&#34;$$errs?.age&#34; class=&#34;error&#34;&gt;Age must be 18-120&lt;/span&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
      &lt;label&gt;Score (0-100, auto-clamped):&lt;/label&gt;
      &lt;input type=&#34;number&#34; data-bind=&#34;score&#34;&gt;
      &lt;span&gt;Current: &lt;span data-text=&#34;$$score&#34;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;/div&gt;
    
    &lt;button type=&#34;submit&#34; data-attr:disabled=&#34;$$hasErrors&#34;&gt;
      Submit
    &lt;/button&gt;
  &lt;/form&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:validated-form
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_2"> 2</a></span><span>          data-props:email<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;string|trim|required!|=&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_3"> 3</a></span><span>          data-props:age<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|min:18|max:120|=0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_4"> 4</a></span><span>          data-props:score<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;int|clamp:0,100|=0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_5"> 5</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_6"> 6</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_7"> 7</a></span><span>    <span style="color:#8b949e;font-style:italic">// Signals are automatically validated by the codec system
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_8"> 8</a></span><span><span style="color:#8b949e;font-style:italic"></span>    <span style="color:#8b949e;font-style:italic">// No need for manual codec setup - just use the signals directly
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_9"> 9</a></span><span><span style="color:#8b949e;font-style:italic"></span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_10">10</a></span><span>    <span style="color:#8b949e;font-style:italic">// Check for validation errors using the built-in $$hasErrs signal
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_11">11</a></span><span><span style="color:#8b949e;font-style:italic"></span>    <span style="color:#8b949e;font-style:italic">// No need to create computed - $$hasErrs is automatically available
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_12">12</a></span><span><span style="color:#8b949e;font-style:italic"></span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_13">13</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_14">14</a></span><span>  &lt;<span style="color:#7ee787">form</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_15">15</a></span><span>    &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_16">16</a></span><span>      &lt;<span style="color:#7ee787">label</span>&gt;Email (required):&lt;/<span style="color:#7ee787">label</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_17">17</a></span><span>      &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;email&#34;</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;email&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_18">18</a></span><span>      &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$errs?.email&#34;</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;error&#34;</span>&gt;Email is required&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_19">19</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_20">20</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_21">21</a></span><span>    &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_22">22</a></span><span>      &lt;<span style="color:#7ee787">label</span>&gt;Age (18-120):&lt;/<span style="color:#7ee787">label</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_23">23</a></span><span>      &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;number&#34;</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;age&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_24"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_24">24</a></span><span>      &lt;<span style="color:#7ee787">span</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$errs?.age&#34;</span> class<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;error&#34;</span>&gt;Age must be 18-120&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_25"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_25">25</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_26"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_26">26</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_27"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_27">27</a></span><span>    &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_28"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_28">28</a></span><span>      &lt;<span style="color:#7ee787">label</span>&gt;Score (0-100, auto-clamped):&lt;/<span style="color:#7ee787">label</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_29"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_29">29</a></span><span>      &lt;<span style="color:#7ee787">input</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;number&#34;</span> data-bind<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;score&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_30"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_30">30</a></span><span>      &lt;<span style="color:#7ee787">span</span>&gt;Current: &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$score&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_31"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_31">31</a></span><span>    &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_32"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_32">32</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_33"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_33">33</a></span><span>    &lt;<span style="color:#7ee787">button</span> type<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;submit&#34;</span> data-attr:disabled<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$hasErrors&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_34"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_34">34</a></span><span>      Submit
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_35"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_35">35</a></span><span>    &lt;/<span style="color:#7ee787">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_36"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_36">36</a></span><span>  &lt;/<span style="color:#7ee787">form</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="853daecf1fc675e7_line_37"><a style="outline:none;text-decoration:none;color:inherit" href="#853daecf1fc675e7_line_37">37</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><p>For date props, omitting an explicit default will use the current time. This is evaluated when the codec runs, producing a fresh <code>Date</code> instance based on the current time.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:last-updated
          data-props:serverUpdateTime=&#34;date&#34;
&gt;
            &lt;script&gt;
    $$formatted = computed(() =&gt; $$serverUpdateTime.toLocaleString())
        &lt;/script&gt;
  
        &lt;span data-text=&#34;$$formatted&#34;&gt;&lt;/span&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_1">1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:last-updated
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_2">2</a></span><span>          data-props:serverUpdateTime<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;date&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_3">3</a></span><span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_4">4</a></span><span>            &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_5">5</a></span><span>    $$formatted <span style="color:#ff7b72;font-weight:bold">=</span> computed(() =&gt; $$serverUpdateTime.toLocaleString())
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_6">6</a></span><span>        &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_7">7</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_8">8</a></span><span>        &lt;<span style="color:#7ee787">span</span> data-text<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$formatted&#34;</span>&gt;&lt;/<span style="color:#7ee787">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1bcb00402f52f773_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#1bcb00402f52f773_line_9">9</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><h3 id="validation-rules">Validation Rules <a href="#validation-rules" class="anchor">#</a></h3><p>Codecs can either <strong>transform</strong> values (modify them) or <strong>validate</strong> them (check them without modifying).  Use the <code>!</code> suffix to make any codec validation-only.</p><ul><li><code>min:10</code> - Transform: clamps value to minimum 10</li><li><code>min:10!</code> - Validate: rejects values below 10, keeps original on failure</li><li><code>trim</code> - Transform: removes whitespace</li><li><code>trim!</code> - Validate: rejects untrimmed strings</li></ul><div class="table-wrapper"><table><thead><tr><th>Codec</th><th>Transform</th><th>Validation</th></tr></thead> <tbody><tr><td colspan="3"><strong>Type Conversion</strong></td></tr><tr><td><code>string</code></td><td>Converts to string</td><td>Is string?</td></tr><tr><td><code>int</code></td><td>Converts to integer</td><td>Is integer?</td></tr><tr><td><code>float</code></td><td>Converts to number</td><td>Is numeric?</td></tr><tr><td><code>date</code></td><td>Converts ISO strings or timestamps to a <code>Date</code> object (defaults to the current time)</td><td>Is valid date?</td></tr><tr><td><code>boolean</code></td><td>Converts to boolean. A missing attribute decodes to <code>false</code> by default, while a present-but-empty attribute (e.g. <code>&lt;foo-bar baz&gt;</code> on a <code>baz</code> prop) decodes to <code>true</code>.</td><td>Is boolean?</td></tr><tr><td><code>json</code></td><td>Parses JSON string</td><td>Valid JSON?</td></tr><tr><td><code>js</code></td><td>Parses JS object literal<br><strong>⚠️ <a href="https://xkcd.com/327/" target="_blank">Avoid client values</a></strong></td><td>Valid JS syntax?</td></tr><tr><td><code>binary</code></td><td>Decodes base64</td><td>Valid base64?</td></tr><tr><td colspan="3"><strong>Validation</strong></td></tr><tr><td><code>required</code></td><td>-</td><td>Not empty?</td></tr><tr><td><code>oneOf:a,b,c</code></td><td>Defaults to first option if invalid</td><td>Is valid option?</td></tr><tr><td colspan="3"><strong>Numeric Constraints</strong></td></tr><tr><td><code>min:n</code></td><td>Clamp to minimum value</td><td>&gt;= minimum?</td></tr><tr><td><code>max:n</code></td><td>Clamp to maximum value</td><td>&lt;= maximum?</td></tr><tr><td><code>clamp:min,max</code></td><td>Clamp between min and max</td><td>In range?</td></tr><tr><td><code>round</code> / <code>round:n</code></td><td>Round to n decimal places</td><td>Is rounded?</td></tr><tr><td><code>ceil:n</code> / <code>floor:n</code></td><td>Ceiling/floor to n decimal places</td><td>Is ceiling/floor?</td></tr><tr><td colspan="3"><strong>String Transforms</strong></td></tr><tr><td><code>trim</code></td><td>Remove leading/trailing whitespace</td><td>-</td></tr><tr><td><code>upper</code> / <code>lower</code></td><td>Convert to upper/lowercase</td><td>-</td></tr><tr><td><code>kebab</code> / <code>camel</code></td><td>Convert case style</td><td>Correct case?</td></tr><tr><td><code>snake</code> / <code>pascal</code></td><td>Convert case style</td><td>Correct case?</td></tr><tr><td><code>title</code> / <code>title:first</code></td><td>Title case (all words or first only)</td><td>-</td></tr><tr><td colspan="3"><strong>String Constraints</strong></td></tr><tr><td><code>minLength:n</code></td><td>-</td><td>Length &gt;= n?</td></tr><tr><td><code>maxLength:n</code></td><td>Truncates if too long</td><td>Length &lt;= n?</td></tr><tr><td><code>length:n</code></td><td>-</td><td>Length equals n?</td></tr><tr><td><code>regex:pattern</code></td><td>-</td><td>Matches regex?</td></tr><tr><td><code>startsWith:text</code></td><td>Adds prefix if missing</td><td>Starts with text?</td></tr><tr><td><code>endsWith:text</code></td><td>Adds suffix if missing</td><td>Ends with text?</td></tr><tr><td><code>includes:text</code></td><td>-</td><td>Contains text?</td></tr><tr><td colspan="3"><strong>Advanced Numeric</strong></td></tr><tr><td><code>lerp:min,max</code></td><td>Linear interpolation (0-1 to min-max)</td><td>-</td></tr><tr><td><code>fit:in1,in2,out1,out2</code></td><td>Map value from one range to another</td><td>-</td></tr></tbody></table></div><h2 id="component-lifecycle">Component Lifecycle <a href="#component-lifecycle" class="anchor">#</a></h2><p>Rocket components have a simple lifecycle with automatic cleanup.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;template data-rocket:lifecycle-demo&gt;
  &lt;script&gt;
    console.log(&#39;Component initializing...&#39;)
    
    $$mounted = true
    
    // Setup effects and timers
    const intervalId = setInterval(() =&gt; {
      console.log(&#39;Component is alive&#39;)
    }, 5000)
    
    // Cleanup when component is removed from DOM
    onCleanup(() =&gt; {
      console.log(&#39;Component cleanup&#39;)
      clearInterval(intervalId)
      $$mounted = false
    })
  &lt;/script&gt;
  
  &lt;div&gt;
    &lt;p data-show=&#34;$$mounted&#34;&gt;Component is mounted&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_1"> 1</a></span><span>&lt;<span style="color:#7ee787">template</span> data-rocket:lifecycle-demo&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_2"> 2</a></span><span>  &lt;<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_3"> 3</a></span><span>    console.log(<span style="color:#a5d6ff">&#39;Component initializing...&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_4"> 4</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_5"> 5</a></span><span>    $$mounted <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_6"> 6</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_7"> 7</a></span><span>    <span style="color:#8b949e;font-style:italic">// Setup effects and timers
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_8"> 8</a></span><span><span style="color:#8b949e;font-style:italic"></span>    <span style="color:#ff7b72">const</span> intervalId <span style="color:#ff7b72;font-weight:bold">=</span> setInterval(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_9"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_9"> 9</a></span><span>      console.log(<span style="color:#a5d6ff">&#39;Component is alive&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_10"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_10">10</a></span><span>    }, <span style="color:#a5d6ff">5000</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_11"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_11">11</a></span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_12"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_12">12</a></span><span>    <span style="color:#8b949e;font-style:italic">// Cleanup when component is removed from DOM
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_13"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_13">13</a></span><span><span style="color:#8b949e;font-style:italic"></span>    onCleanup(() =&gt; {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_14"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_14">14</a></span><span>      console.log(<span style="color:#a5d6ff">&#39;Component cleanup&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_15"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_15">15</a></span><span>      clearInterval(intervalId)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_16"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_16">16</a></span><span>      $$mounted <span style="color:#ff7b72;font-weight:bold">=</span> <span style="color:#79c0ff">false</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_17"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_17">17</a></span><span>    })
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_18"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_18">18</a></span><span>  &lt;/<span style="color:#7ee787">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_19"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_19">19</a></span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_20"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_20">20</a></span><span>  &lt;<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_21"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_21">21</a></span><span>    &lt;<span style="color:#7ee787">p</span> data-show<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;$$mounted&#34;</span>&gt;Component is mounted&lt;/<span style="color:#7ee787">p</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_22"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_22">22</a></span><span>  &lt;/<span style="color:#7ee787">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="2956cfd438f24eb_line_23"><a style="outline:none;text-decoration:none;color:inherit" href="#2956cfd438f24eb_line_23">23</a></span><span>&lt;/<span style="color:#7ee787">template</span>&gt;</span></span></code></pre></div></div><p>The lifecycle is as follows: </p><ol><li>Rocket processes your template and registers the component.</li><li>When you add it to the DOM, the instance is created and setup scripts run to initialize your signals.</li><li>The component becomes reactive and responds to data changes.</li><li>When you remove it from the DOM, all <code>onCleanup</code> callbacks run automatically.</li></ol><h2 id="optimistic-ui">Optimistic UI <a href="#optimistic-ui" class="anchor">#</a></h2><p>Rocket pairs seamlessly with Datastar’s server-driven model to provide instant visual feedback without shifting ownership of state to the browser. In the <a href="/examples/rocket_flow">Rocket flow example</a>, dragging a node instantly renders its optimistic position in the SVG while the original light-DOM host remains hidden. The component adds an <code>.is-pending</code> class to dim the node and connected edges, signaling that the drag is provisional. Once the backend confirms the new coordinates and updates the layout, the component automatically clears the pending style.</p><p>A dedicated prop such as <code>server-update-time="date"</code> makes this straightforward: each tab receives an updated timestamp from the server (via SSE or a patch), Rocket decodes it into a <code>Date</code> (defaulting to the current time when no value is provided), and internal effects react to reconcile every view. Unlike client-owned graph editors (e.g. React Flow), the server stays the single source of truth, while the optimistic UI remains a thin layer inside the component.</p><h2 id="examples">Examples <a href="#examples" class="anchor">#</a></h2><p>Check out the <a href="/examples/rocket_copy_button">Copy Button</a> as a basic example, the <a href="/examples/rocket_qr_code">QR Code generator</a> with validation, the <a href="/examples/rocket_echarts">ECharts integration</a> for data visualization, the interactive <a href="/examples/rocket_globe">3D Globe</a> with markers, and the <a href="/examples/rocket_virtual_scroll">Virtual Scroll</a> example for handling large datasets efficiently.</p><h1 id="sse_events">SSE Events</h1><p>Responses to <a href="/reference/actions#backend-actions">backend actions</a> with a content type of <code>text/event-stream</code> can contain zero or more Datastar <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events" target="_blank" rel="noopener noreferrer">SSE events</a>.</p><blockquote>The backend <a href="/reference/sdks">SDKs</a> can handle the formatting of SSE events for you, or you can format them yourself.</blockquote><h2 id="event-types">Event Types <a href="#event-types" class="anchor">#</a></h2><h3 id="datastar-patch-elements"><code>datastar-patch-elements</code> <a href="#datastar-patch-elements" class="anchor">#</a></h3><p>Patches one or more elements in the DOM. By default, Datastar morphs elements by matching top-level elements based on their ID.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: elements &lt;div id=&#34;foo&#34;&gt;Hello world!&lt;/div&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1b844a6719d73b17_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1b844a6719d73b17_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1b844a6719d73b17_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#1b844a6719d73b17_line_2">2</a></span><span>data: elements &lt;div id=&#34;foo&#34;&gt;Hello world!&lt;/div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1b844a6719d73b17_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#1b844a6719d73b17_line_3">3</a></span><span>
</span></span></code></pre></div></div><p>In the example above, the element <code>&lt;div id="foo"&gt;Hello world!&lt;/div&gt;</code> will be morphed into the target element with ID <code>foo</code>.</p><blockquote>Be sure to place IDs on top-level elements to be morphed, as well as on elements within them that you’d like to preserve state on (event listeners, CSS transitions, etc.).</blockquote><p>Morphing elements within SVG elements requires special handling due to XML namespaces. See the <a href="/examples/svg_morphing">SVG morphing example</a>.</p><p>Additional <code>data</code> lines can be added to the response to override the default behavior.</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead> <tbody><tr><td><code>data: selector #foo</code></td><td>Selects the target element of the patch using a CSS selector. Not required when using the <code>outer</code> or <code>replace</code> modes.</td></tr><tr><td><code>data: mode outer</code></td><td>Morphs the outer HTML of the elements. This is the default (and recommended) mode.</td></tr><tr><td><code>data: mode inner</code></td><td>Morphs the inner HTML of the elements.</td></tr><tr><td><code>data: mode replace</code></td><td>Replaces the outer HTML of the elements.</td></tr><tr><td><code>data: mode prepend</code></td><td>Prepends the elements to the target’s children.</td></tr><tr><td><code>data: mode append</code></td><td>Appends the elements to the target’s children.</td></tr><tr><td><code>data: mode before</code></td><td>Inserts the elements before the target as siblings.</td></tr><tr><td><code>data: mode after</code></td><td>Inserts the elements after the target as siblings.</td></tr><tr><td><code>data: mode remove</code></td><td>Removes the target elements from DOM.</td></tr><tr><td><code>data: namespace svg</code></td><td>Patch elements into the DOM using an <code>svg</code> namespace.</td></tr><tr><td><code>data: namespace mathml</code></td><td>Patch elements into the DOM using a <code>mathml</code> namespace.</td></tr><tr><td><code>data: useViewTransition true</code></td><td>Whether to use view transitions when patching elements. Defaults to <code>false</code>.</td></tr><tr><td><code>data: elements</code></td><td>The HTML elements to patch.</td></tr></tbody></table><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: elements &lt;div id=&#34;foo&#34;&gt;Hello world!&lt;/div&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1b844a6719d73b17_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#1b844a6719d73b17_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1b844a6719d73b17_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#1b844a6719d73b17_line_2">2</a></span><span>data: elements &lt;div id=&#34;foo&#34;&gt;Hello world!&lt;/div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="1b844a6719d73b17_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#1b844a6719d73b17_line_3">3</a></span><span>
</span></span></code></pre></div></div><p>Elements can be removed using the <code>remove</code> mode and providing a <code>selector</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: selector #foo
data: mode remove

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7af3e927afd30448_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#7af3e927afd30448_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7af3e927afd30448_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#7af3e927afd30448_line_2">2</a></span><span>data: selector #foo
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7af3e927afd30448_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#7af3e927afd30448_line_3">3</a></span><span>data: mode remove
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="7af3e927afd30448_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#7af3e927afd30448_line_4">4</a></span><span>
</span></span></code></pre></div></div><p>Elements can span multiple lines. Sample output showing non-default options:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: selector #foo
data: mode inner
data: useViewTransition true
data: elements &lt;div&gt;
data: elements        Hello world!
data: elements &lt;/div&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_2">2</a></span><span>data: selector #foo
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_3">3</a></span><span>data: mode inner
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_4">4</a></span><span>data: useViewTransition true
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_5"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_5">5</a></span><span>data: elements &lt;div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_6"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_6">6</a></span><span>data: elements        Hello world!
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_7"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_7">7</a></span><span>data: elements &lt;/div&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="4c49b58eafd6b594_line_8"><a style="outline:none;text-decoration:none;color:inherit" href="#4c49b58eafd6b594_line_8">8</a></span><span>
</span></span></code></pre></div></div><p>Elements can be patched using <code>svg</code> and <code>mathml</code> namespaces by specifying the <code>namespace</code> data line.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-elements
data: namespace svg
data: elements &lt;circle id=&#34;circle&#34; cx=&#34;100&#34; r=&#34;50&#34; cy=&#34;75&#34;&gt;&lt;/circle&gt;

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17ac7e70acb30b93_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#17ac7e70acb30b93_line_1">1</a></span><span>event: datastar-patch-elements
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17ac7e70acb30b93_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#17ac7e70acb30b93_line_2">2</a></span><span>data: namespace svg
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17ac7e70acb30b93_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#17ac7e70acb30b93_line_3">3</a></span><span>data: elements &lt;circle id=&#34;circle&#34; cx=&#34;100&#34; r=&#34;50&#34; cy=&#34;75&#34;&gt;&lt;/circle&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="17ac7e70acb30b93_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#17ac7e70acb30b93_line_4">4</a></span><span>
</span></span></code></pre></div></div><h3 id="datastar-patch-signals"><code>datastar-patch-signals</code> <a href="#datastar-patch-signals" class="anchor">#</a></h3><p>Patches signals into the existing signals on the page. The <code>onlyIfMissing</code> line determines whether to update each signal with the new value only if a signal with that name does not yet exist. The <code>signals</code> line should be a valid <code>data-signals</code> attribute.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-signals
data: signals {foo: 1, bar: 2}

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f1e52eb0c995af24_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#f1e52eb0c995af24_line_1">1</a></span><span>event: datastar-patch-signals
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f1e52eb0c995af24_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#f1e52eb0c995af24_line_2">2</a></span><span>data: signals {foo: 1, bar: 2}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="f1e52eb0c995af24_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#f1e52eb0c995af24_line_3">3</a></span><span>
</span></span></code></pre></div></div><p>Signals can be removed by setting their values to <code>null</code>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-signals
data: signals {foo: null, bar: null}

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b175edf8d6b8a100_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#b175edf8d6b8a100_line_1">1</a></span><span>event: datastar-patch-signals
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b175edf8d6b8a100_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#b175edf8d6b8a100_line_2">2</a></span><span>data: signals {foo: null, bar: null}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="b175edf8d6b8a100_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#b175edf8d6b8a100_line_3">3</a></span><span>
</span></span></code></pre></div></div><p>Sample output showing non-default options:</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="event: datastar-patch-signals
data: onlyIfMissing true
data: signals {foo: 1, bar: 2}

"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ca850bff034898af_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#ca850bff034898af_line_1">1</a></span><span>event: datastar-patch-signals
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ca850bff034898af_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#ca850bff034898af_line_2">2</a></span><span>data: onlyIfMissing true
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ca850bff034898af_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#ca850bff034898af_line_3">3</a></span><span>data: signals {foo: 1, bar: 2}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="ca850bff034898af_line_4"><a style="outline:none;text-decoration:none;color:inherit" href="#ca850bff034898af_line_4">4</a></span><span>
</span></span></code></pre></div></div><h1 id="sdks">SDKs</h1><p>Datastar provides backend SDKs that can (optionally) simplify the process of generating  <a href="/reference/sse_events">SSE events</a> specific to Datastar. </p><blockquote>If you’d like to contribute an SDK, please follow the  <a href="https://github.com/starfederation/datastar/blob/main/CONTRIBUTING.md#sdks" target="_blank" rel="noopener noreferrer">Contribution Guidelines</a>.</blockquote><h2 id="clojure"><iconify-icon icon="vscode-icons:file-type-clojure" noobserver=""></iconify-icon>Clojure <a href="#clojure" class="anchor">#</a></h2><p>A Clojure SDK as well as helper libraries and adapter implementations.</p><p><em>Maintainer:  <a href="https://github.com/JeremS" target="_blank" rel="noopener noreferrer">Jeremy Schoffen</a></em></p><p><a href="https://github.com/starfederation/datastar-clojure" target="_blank" rel="noopener noreferrer" class="button warning">Clojure SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="csharp"><iconify-icon icon="vscode-icons:file-type-csharp2" noobserver=""></iconify-icon>C# <a href="#csharp" class="anchor">#</a></h2><p>A C# (.NET) SDK for working with Datastar.</p><p><em>Maintainer:  <a href="https://github.com/SpiralOSS" target="_blank" rel="noopener noreferrer">Greg H</a><br>Contributors:  <a href="https://github.com/panesofglass" target="_blank" rel="noopener noreferrer">Ryan Riley</a></em></p><p><a href="https://github.com/starfederation/datastar-dotnet/" target="_blank" rel="noopener noreferrer" class="button warning">C# (.NET) SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="go"><iconify-icon icon="vscode-icons:file-type-go" noobserver=""></iconify-icon>Go <a href="#go" class="anchor">#</a></h2><p>A Go SDK for working with Datastar.</p><p><em>Maintainer:  <a href="https://github.com/delaneyj" target="_blank" rel="noopener noreferrer">Delaney Gillilan</a></em></p><p><em>Other examples: <a href="https://github.com/delaneyj/1a5s-datastar" target="_blank" rel="noopener noreferrer">1 App 5 Stacks ported to Go+Templ+Datastar</a></em></p><p><a href="https://github.com/starfederation/datastar-go" target="_blank" rel="noopener noreferrer" class="button warning">Go SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="java"><iconify-icon icon="vscode-icons:file-type-java" noobserver=""></iconify-icon>Java <a href="#java" class="anchor">#</a></h2><p>A Java SDK for working with Datastar.</p><p><em>Maintainer: <a href="https://github.com/mailq" target="_blank" rel="noopener noreferrer">mailq</a><br>Contributors:  <a href="https://github.com/rphumulock" target="_blank" rel="noopener noreferrer">Peter Humulock</a>, <a href="https://github.com/anastygnome" target="_blank" rel="noopener noreferrer">Tom D.</a></em></p><p><a href="https://github.com/starfederation/datastar-java" target="_blank" rel="noopener noreferrer" class="button warning">Java SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="kotlin"><iconify-icon icon="vscode-icons:file-type-kotlin" noobserver=""></iconify-icon>Kotlin <a href="#kotlin" class="anchor">#</a></h2><p>A Kotlin SDK for working with Datastar.</p><p><em>Maintainer: <a href="https://github.com/GuillaumeTaffin" target="_blank" rel="noopener noreferrer">GuillaumeTaffin</a></em></p><p><a href="https://github.com/starfederation/datastar-kotlin" target="_blank" rel="noopener noreferrer" class="button warning">Kotlin SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="php"><iconify-icon icon="vscode-icons:file-type-php3" noobserver=""></iconify-icon>PHP <a href="#php" class="anchor">#</a></h2><p>A PHP SDK for working with Datastar.</p><p><em>Maintainer:  <a href="https://github.com/bencroker" target="_blank" rel="noopener noreferrer">Ben Croker</a></em></p><p><a href="https://github.com/starfederation/datastar-php" target="_blank" rel="noopener noreferrer" class="button warning">PHP SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h3 id="craft-cms"><iconify-icon icon="simple-icons:craftcms" noobserver=""></iconify-icon>Craft CMS <a href="#craft-cms" class="anchor">#</a></h3><p>Integrates the Datastar framework with <a href="https://craftcms.com/" target="_blank" rel="noopener noreferrer">Craft CMS</a>, allowing you to create reactive frontends driven by Twig templates.</p><p><em>Maintainer:  <a href="https://github.com/bencroker" target="_blank" rel="noopener noreferrer">Ben Croker</a> (<a href="https://putyourlightson.com/" target="_blank" rel="noopener noreferrer">PutYourLightsOn</a>)</em></p><p><a href="https://putyourlightson.com/plugins/datastar" target="_blank" rel="noopener noreferrer" class="button success">Craft CMS plugin<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><p><a href="https://craftcms.data-star.dev/" target="_blank" rel="noopener noreferrer" class="button info">Datastar & Craft CMS demos<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h3 id="laravel"><iconify-icon icon="file-icons:laravel" noobserver=""></iconify-icon>Laravel <a href="#laravel" class="anchor">#</a></h3><p>Integrates the Datastar hypermedia framework with <a href="https://laravel.com/" target="_blank" rel="noopener noreferrer">Laravel</a>, allowing you to create reactive frontends driven by Blade views or controllers.</p><p><em>Maintainer:  <a href="https://github.com/bencroker" target="_blank" rel="noopener noreferrer">Ben Croker</a> (<a href="https://putyourlightson.com/" target="_blank" rel="noopener noreferrer">PutYourLightsOn</a>)</em></p><p><a href="https://github.com/putyourlightson/laravel-datastar" target="_blank" rel="noopener noreferrer" class="button success">Laravel package<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="python"><iconify-icon icon="vscode-icons:file-type-python" noobserver=""></iconify-icon>Python <a href="#python" class="anchor">#</a></h2><p>A Python SDK and a <a href="https://pypi.org/project/datastar-py/" target="_blank" rel="noopener noreferrer">PyPI package</a> (including support for most popular frameworks).</p><p><em>Maintainer:  <a href="https://github.com/lllama" target="_blank" rel="noopener noreferrer">Felix Ingram</a><br>Contributors:  <a href="https://github.com/gazpachoking" target="_blank" rel="noopener noreferrer">Chase Sterling</a></em></p><p><a href="https://github.com/starfederation/datastar-python" target="_blank" rel="noopener noreferrer" class="button warning">Python SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="ruby"><iconify-icon icon="vscode-icons:file-type-ruby" noobserver=""></iconify-icon>Ruby <a href="#ruby" class="anchor">#</a></h2><p>A Ruby SDK for working with Datastar.</p><p><em>Maintainer:  <a href="https://github.com/ismasan" target="_blank" rel="noopener noreferrer">Ismael Celis</a></em></p><p><a href="https://github.com/starfederation/datastar-ruby" target="_blank" rel="noopener noreferrer" class="button warning">Ruby SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="rust"><iconify-icon icon="vscode-icons:file-type-rust" noobserver=""></iconify-icon>Rust <a href="#rust" class="anchor">#</a></h2><p>A Rust SDK for working with Datastar.</p><p><em>Maintainer:  <a href="https://github.com/glendc" target="_blank" rel="noopener noreferrer">Glen De Cauwsemaecker</a><br>Contributors:   <a href="https://github.com/jmstevers" target="_blank" rel="noopener noreferrer">Johnathan Stevers</a></em></p><p><a href="https://github.com/starfederation/datastar-rust" target="_blank" rel="noopener noreferrer" class="button warning">Rust SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h3 id="rama">Rama <a href="#rama" class="anchor">#</a></h3><p>Integrates Datastar with <a href="https://ramaproxy.org/" target="_blank" rel="noopener noreferrer">Rama</a>, a Rust-based HTTP proxy (<a href="https://github.com/plabayo/rama/blob/main/examples/http_sse_datastar_hello.rs" target="_blank" rel="noopener noreferrer">example</a>).</p><p><em>Maintainer:  <a href="https://github.com/glendc" target="_blank" rel="noopener noreferrer">Glen De Cauwsemaecker</a></em></p><p><a href="https://ramaproxy.org/docs/rama/http/sse/datastar/index.html" target="_blank" rel="noopener noreferrer" class="button success">Rama module<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="scala"><iconify-icon icon="vscode-icons:file-type-scala" noobserver=""></iconify-icon>Scala <a href="#scala" class="anchor">#</a></h2><h3 id="zio-http">ZIO HTTP <a href="#zio-http" class="anchor">#</a></h3><p>Integrates the Datastar hypermedia framework with <a href="https://ziohttp.com/" target="_blank" rel="noopener noreferrer">ZIO HTTP</a>, a Scala framework.</p><p><em>Maintainer:  <a href="https://github.com/987Nabil" target="_blank" rel="noopener noreferrer">Nabil Abdel-Hafeez </a></em></p><p><a href="https://ziohttp.com/reference/datastar-sdk/" target="_blank" rel="noopener noreferrer" class="button success">ZIO HTTP integration<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h2 id="typescript"><iconify-icon icon="vscode-icons:file-type-typescript-official" noobserver=""></iconify-icon>TypeScript <a href="#typescript" class="anchor">#</a></h2><p>A TypeScript SDK with support for Node.js, Deno, and Bun.</p><p><em>Maintainer:  <a href="https://github.com/eduwass" target="_blank" rel="noopener noreferrer">Edu Wass</a><br>Contributors:  <a href="https://github.com/Superpat" target="_blank" rel="noopener noreferrer">Patrick Marchand</a></em></p><p><a href="https://github.com/starfederation/datastar-typescript" target="_blank" rel="noopener noreferrer" class="button warning">TypeScript SDK & examples<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h3 id="pocketpages"><iconify-icon icon="simple-icons:pocketbase" noobserver=""></iconify-icon>PocketPages <a href="#pocketpages" class="anchor">#</a></h3><p>Integrates the Datastar framework with <a href="https://pocketpages.dev/" target="_blank" rel="noopener noreferrer">PocketPages</a>.</p><p><a href="https://github.com/benallfree/pocketpages/tree/main/packages/plugins/datastar" target="_blank" rel="noopener noreferrer" class="button success">PocketPages plugin<iconify-icon icon="pixelarticons:play" noobserver=""></iconify-icon></a></p><h1 id="security">Security</h1><p><a href="/guide/datastar_expressions">Datastar expressions</a> are strings that are evaluated in a sandboxed context. This means you can use JavaScript in Datastar expressions.</p><h2 id="escape-user-input">Escape User Input <a href="#escape-user-input" class="anchor">#</a></h2><p>The golden rule of security is to never trust user input. This is especially true when using Datastar expressions, which can execute arbitrary JavaScript. When using Datastar expressions, you should always escape user input. This helps prevent, among other issues, Cross-Site Scripting (XSS) attacks.</p><h2 id="avoid-sensitive-data">Avoid Sensitive Data <a href="#avoid-sensitive-data" class="anchor">#</a></h2><p>Keep in mind that signal values are visible in the source code in plain text, and can be modified by the user before being sent in requests. For this reason, you should avoid leaking sensitive data in signals and always implement backend validation.</p><h2 id="ignore-unsafe-input">Ignore Unsafe Input <a href="#ignore-unsafe-input" class="anchor">#</a></h2><p>If, for some reason, you cannot escape unsafe user input, you should ignore it using the <a href="/reference/attributes#data-ignore"><code>data-ignore</code></a> attribute. This tells Datastar to ignore an element and its descendants when processing DOM nodes.</p><h2 id="content-security-policy">Content Security Policy <a href="#content-security-policy" class="anchor">#</a></h2><p>When using a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank" rel="noopener noreferrer">Content Security Policy</a> (CSP), <code>unsafe-eval</code> must be allowed for scripts, since Datastar evaluates expressions using a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function" target="_blank" rel="noopener noreferrer"><code>Function()</code> constructor</a>.</p><div class="code-highlight-wrapper"><div class="copy-button-wrapper"><copy-button code="&lt;meta http-equiv=&#34;Content-Security-Policy&#34; 
    content=&#34;script-src &#39;self&#39; &#39;unsafe-eval&#39;;&#34;
&gt;"></copy-button></div><div class="code-highlight" data-ignore><pre style="color:#e6edf3;background-color:#0d1117;"><code><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73fecb6ead07fcea_line_1"><a style="outline:none;text-decoration:none;color:inherit" href="#73fecb6ead07fcea_line_1">1</a></span><span>&lt;<span style="color:#7ee787">meta</span> http-equiv<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;Content-Security-Policy&#34;</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73fecb6ead07fcea_line_2"><a style="outline:none;text-decoration:none;color:inherit" href="#73fecb6ead07fcea_line_2">2</a></span><span>    content<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">&#34;script-src &#39;self&#39; &#39;unsafe-eval&#39;;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6e7681" id="73fecb6ead07fcea_line_3"><a style="outline:none;text-decoration:none;color:inherit" href="#73fecb6ead07fcea_line_3">3</a></span><span>&gt;</span></span></code></pre></div></div><nav></nav></article></main><footer class="internal"><div>&copy; <a href="/star_federation">Star Federation</a></div><div>Hosted by <a href="https://www.arcustech.com/" target="_blank" rel="noopener noreferrer">Arcustech</a></div></footer><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body></html>